{"version":3,"file":"js/about.51fc1068.js","mappings":"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","sources":["webpack://firstwork/./node_modules/core-js/modules/es.date.to-string.js","webpack://firstwork/./src/views/AboutView.vue","webpack://firstwork/./node_modules/tslib/tslib.es6.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Array.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Disposer.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Type.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/EventDispatcher.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/List.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Children.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Percent.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Utils.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Object.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Color.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Animation.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Ease.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/States.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/Registry.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Order.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Entity.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Template.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Math.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Sprite.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/Renderer.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Graphics.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Rectangle.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Layout.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/HorizontalLayout.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/VerticalLayout.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/GridLayout.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Container.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/TextFormatter.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/PopulateString.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Text.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/ResizeSensor.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/InterfaceColors.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Label.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/PointedRectangle.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Tooltip.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/NumberFormatter.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/DateFormatter.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/DurationFormatter.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/locales/en.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Language.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/Theme.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/themes/DefaultTheme.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Matrix.js","webpack://firstwork/./node_modules/svg-arc-to-cubic-bezier/modules/index.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/backend/CanvasRenderer.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/Root.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Bullet.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Circle.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/RoundedRectangle.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Button.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Scrollbar.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/ColorSet.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Time.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChartDefaultTheme.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Chart.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/SerialChart.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYChart.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Data.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Component.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Axis.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/ValueAxis.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/DateAxis.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/util/Draw.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Line.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Tick.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisTick.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/Grid.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisLabel.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRenderer.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererX.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/axes/AxisRendererY.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/core/render/Series.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/XYSeries.js","webpack://firstwork/./node_modules/d3-path/src/path.js","webpack://firstwork/./node_modules/d3-shape/src/array.js","webpack://firstwork/./node_modules/d3-shape/src/constant.js","webpack://firstwork/./node_modules/d3-shape/src/curve/linear.js","webpack://firstwork/./node_modules/d3-shape/src/point.js","webpack://firstwork/./node_modules/d3-shape/src/line.js","webpack://firstwork/./node_modules/d3-shape/src/area.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/series/LineSeries.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/charts/xy/XYCursor.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/.internal/themes/AnimatedTheme.js","webpack://firstwork/./node_modules/@amcharts/amcharts5/themes/Animated.js","webpack://firstwork/./src/views/AboutView.vue?d56f"],"sourcesContent":["// TODO: Remove from `core-js@4`\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar un$DateToString = uncurryThis(DatePrototype[TO_STRING]);\nvar getTime = uncurryThis(DatePrototype.getTime);\n\n// `Date.prototype.toString` method\n// https://tc39.es/ecma262/#sec-date.prototype.tostring\nif (String(new Date(NaN)) != INVALID_DATE) {\n  defineBuiltIn(DatePrototype, TO_STRING, function toString() {\n    var value = getTime(this);\n    // eslint-disable-next-line no-self-compare -- NaN check\n    return value === value ? un$DateToString(this) : INVALID_DATE;\n  });\n}\n","<template>\r\n  <div class=\"about\">\r\n    <h1></h1>\r\n      <div class=\"hello\" ref=\"chartdiv\" id=\"chartdiv\">\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport * as am5 from '@amcharts/amcharts5';\r\nimport * as am5xy from '@amcharts/amcharts5/xy';\r\nimport am5themes_Animated from '@amcharts/amcharts5/themes/Animated';\r\nimport router from '@/router';\r\n\r\nexport default {\r\n  name: 'AboutView',\r\n  beforeCreate(){\r\n    let storageCheck=localStorage.getItem('Leadhit-Site-Id');\r\n    if(!storageCheck){\r\n      router.push('/');\r\n    }\r\n  },\r\n    mounted() {\r\n    var root = am5.Root.new(\"chartdiv\");\r\n\r\n// Set themes\r\n// https://www.amcharts.com/docs/v5/concepts/themes/\r\nroot.setThemes([\r\n  am5themes_Animated.new(root)\r\n]);\r\n\r\nvar data = [\r\n  { date: new Date(2020, 7, 1).getTime(), value: 213 },\r\n  { date: new Date(2020, 7, 2).getTime(), value: 249 },\r\n  { date: new Date(2020, 7, 3).getTime(), value: 179 },\r\n  { date: new Date(2020, 7, 4).getTime(), value: 170 },\r\n  { date: new Date(2020, 7, 5).getTime(), value: 184 },\r\n  { date: new Date(2020, 7, 6).getTime(), value: 202 },\r\n  { date: new Date(2020, 7, 7).getTime(), value: 198 },\r\n  { date: new Date(2020, 7, 8).getTime(), value: 168 },\r\n  { date: new Date(2020, 7, 9).getTime(), value: 176 },\r\n  { date: new Date(2020, 7, 10).getTime(), value: 171 },\r\n  { date: new Date(2020, 7, 11).getTime(), value: 190 },\r\n  { date: new Date(2020, 7, 12).getTime(), value: 154 },\r\n  { date: new Date(2020, 7, 13).getTime(), value: 246 },\r\n  { date: new Date(2020, 7, 14).getTime(), value: 250 },\r\n  { date: new Date(2020, 7, 15).getTime(), value: 227 },\r\n  { date: new Date(2020, 7, 16).getTime(), value: 140 },\r\n  { date: new Date(2020, 7, 17).getTime(), value: 170 },\r\n  { date: new Date(2020, 7, 18).getTime(), value: 125 },\r\n  { date: new Date(2020, 7, 19).getTime(), value: 106 },\r\n  { date: new Date(2020, 7, 20).getTime(), value: 207 },\r\n  { date: new Date(2020, 7, 21).getTime(), value: 222 },\r\n  { date: new Date(2020, 7, 22).getTime(), value: 198 },\r\n  { date: new Date(2020, 7, 23).getTime(), value: 204 },\r\n  { date: new Date(2020, 7, 24).getTime(), value: 213 },\r\n  { date: new Date(2020, 7, 25).getTime(), value: 145 },\r\n  { date: new Date(2020, 7, 26).getTime(), value: 166 },\r\n  { date: new Date(2020, 7, 27).getTime(), value: 163 },\r\n  { date: new Date(2020, 7, 28).getTime(), value: 135 },\r\n  { date: new Date(2020, 7, 29).getTime(), value: 45 },\r\n\r\n\r\n];\r\n\r\n// Create chart\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/\r\nvar chart = root.container.children.push(\r\n  am5xy.XYChart.new(root, {\r\n    focusable: true,\r\n    panX: true,\r\n    panY: true,\r\n    wheelX: \"none\",\r\n    wheelY: \"none\"\r\n  })\r\n);\r\n\r\n// Create curtain + message to show when wheel is used over chart without CTRL\r\nvar overlay = root.container.children.push(am5.Container.new(root, {\r\n  width: am5.p100,\r\n  height: am5.p100,\r\n  layer: 100,\r\n  visible: false\r\n}));\r\n                                           \r\nvar curtain = overlay.children.push(am5.Rectangle.new(root, {\r\n  width: am5.p100,\r\n  height: am5.p100,\r\n  fill: am5.color(0x000000),\r\n  fillOpacity: 0.3\r\n}));\r\n\r\n\r\nvar message = overlay.children.push(am5.Label.new(root, {\r\n  text: \"Use CTRL + Scroll to zoom\",\r\n  fontSize: 30,\r\n  x: am5.p50,\r\n  y: am5.p50,\r\n  centerX: am5.p50,\r\n  centerY: am5.p50\r\n}));\r\nconsole.log(curtain);\r\nconsole.log(message);\r\n\r\n\r\nchart.plotContainer.events.on(\"wheel\", function(ev) {\r\n  // Show overlay when wheel is used over chart\r\n  if (ev.originalEvent.ctrlKey) {\r\n    ev.originalEvent.preventDefault();\r\n    chart.set(\"wheelX\", \"panX\");\r\n    chart.set(\"wheelY\", \"zoomX\");\r\n  }\r\n  else {\r\n    chart.set(\"wheelX\", \"none\");\r\n    chart.set(\"wheelY\", \"none\");\r\n    overlay.show();\r\n    overlay.setTimeout(function() {\r\n      overlay.hide()\r\n    }, 800);\r\n  }\r\n});\r\n\r\n// Create axes\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/axes/\r\nvar xAxis = chart.xAxes.push(\r\n  am5xy.DateAxis.new(root, {\r\n    maxDeviation: 0.1,\r\n    groupData: false,\r\n    baseInterval: {\r\n      timeUnit: \"day\",\r\n      count: 1\r\n    },\r\n    renderer: am5xy.AxisRendererX.new(root, {\r\n      minGridDistance: 50\r\n    }),\r\n    tooltip: am5.Tooltip.new(root, {})\r\n  })\r\n);\r\n\r\nvar yAxis = chart.yAxes.push(\r\n  am5xy.ValueAxis.new(root, {\r\n    maxDeviation: 0.1,\r\n    renderer: am5xy.AxisRendererY.new(root, {})\r\n  })\r\n);\r\n\r\n// Add series\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/series/\r\nvar series = chart.series.push(\r\n  am5xy.LineSeries.new(root, {\r\n    minBulletDistance: 10,\r\n    xAxis: xAxis,\r\n    yAxis: yAxis,\r\n    valueYField: \"value\",\r\n    valueXField: \"date\"\r\n  })\r\n);\r\n\r\nseries.data.setAll(data);\r\n\r\nvar tooltip = am5.Tooltip.new(root, {\r\n  pointerOrientation: \"horizontal\"\r\n});\r\ntooltip.label.set(\"text\", \"{valueY}\");\r\nseries.set(\"tooltip\", tooltip);\r\n\r\nseries.bullets.push(function () {\r\n  return am5.Bullet.new(root, {\r\n    sprite: am5.Circle.new(root, {\r\n      radius: 5,\r\n      fill: series.get(\"fill\"),\r\n      stroke: root.interfaceColors.get(\"background\"),\r\n      strokeWidth: 2\r\n    })\r\n  });\r\n});\r\n\r\n// Add cursor\r\n// https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/\r\nvar cursor = chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n  xAxis: xAxis\r\n}));\r\ncursor.lineY.set(\"visible\", false);\r\n\r\n// add scrollbar\r\nchart.set(\"scrollbarX\", am5.Scrollbar.new(root, {\r\n  orientation: \"horizontal\"\r\n}));\r\n\r\n// Make stuff animate on load\r\n// https://www.amcharts.com/docs/v5/concepts/animations/\r\nseries.appear(1000, 100);\r\nchart.appear(1000, 100);\r\n  },\r\n   beforeUnmount() {\r\n    if (this.root) {\r\n      this.root.dispose();\r\n    }\r\n  },\r\n\r\n  methods:{\r\n\r\n  }\r\n}\r\n</script>\r\n<style >\r\nbody {\r\n  font-family: -apple-system,\r\n    BlinkMacSystemFont, \"Segoe UI\",\r\n    Roboto, Helvetica, Arial, sans-serif, \r\n    \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\r\n}\r\n\r\n#chartdiv {\r\n  width: 100%;\r\n  height: 95vh;\r\n  margin-bottom: 100vh;\r\n}\r\n.about{\r\n  background-color: azure;\r\n}\r\n</style>","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","import * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Searches `array` for `value`.\r\n *\r\n * Returns -1 if not found.\r\n *\r\n * @param array  Source array\r\n * @param value  Value to search\r\n * @returns Index\r\n */\r\nexport function indexOf(array, value) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        // TODO handle NaN\r\n        if (array[i] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Calls `test` for each element in `array`.\r\n *\r\n * If `test` returns `true` then it immediately returns `true`.\r\n *\r\n * If `test` returns `false` for all of the elements in `array` then it returns `false`.\r\n *\r\n * @param array  Source array\r\n * @param test   Function which is called on each element\r\n * @returns Whether `test` returned true or not\r\n */\r\nexport function any(array, test) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (test(array[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Calls `fn` function for every member of array and returns a new array out\r\n * of all outputs.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n * @returns New array\r\n */\r\nexport function map(array, fn) {\r\n    var length = array.length;\r\n    var output = new Array(length);\r\n    for (var i = 0; i < length; ++i) {\r\n        output[i] = fn(array[i], i);\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function each(array, fn) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array in reverse order and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachReverse(array, fn) {\r\n    var i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * If `fn` call evaluates to `false`, further iteration is cancelled.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachContinue(array, fn) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (!fn(array[i], i)) {\r\n            break;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Shifts an item at `index` towards beginning of the array.\r\n *\r\n * @param array  Source array\r\n * @param index  Target element index\r\n */\r\nexport function shiftLeft(array, index) {\r\n    var length = array.length;\r\n    for (var i = index; i < length; ++i) {\r\n        array[i - index] = array[i];\r\n    }\r\n    array.length = length - index;\r\n}\r\n/**\r\n * Returns the last item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function last(array) {\r\n    var length = array.length;\r\n    return length ? array[length - 1] : undefined;\r\n}\r\n/**\r\n * Returns the first item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function first(array) {\r\n    return array[0];\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * Caps `index` to be between `0` and `array.length`\r\n *\r\n * @param array    Source array\r\n * @param element  Item to insert\r\n * @param array    Index to insert item at\r\n */\r\nexport function insert(array, element, index) {\r\n    //if (array) {\r\n    index = Math.max(0, Math.min(index, array.length));\r\n    array.splice(index, 0, element);\r\n    //}\r\n}\r\n/**\r\n * Removes all copies of `element` from `array` (if they exist) and then\r\n * inserts `element` at `index`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item\r\n * @param array    Index to move item to\r\n */\r\nexport function setIndex(array, element, index) {\r\n    remove(array, element);\r\n    insert(array, element, index);\r\n}\r\n/**\r\n * Pushes all of the elements from `input` into `array`.\r\n *\r\n * @param array  Output array\r\n * @param input  Input array\r\n */\r\nexport function pushAll(array, input) {\r\n    var length = input.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        array.push(input[i]);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array`.\r\n *\r\n * If there are multiple copies of `element`, they are all removed.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n */\r\nexport function remove(array, element) {\r\n    var found = false;\r\n    var index = 0;\r\n    for (;;) {\r\n        index = array.indexOf(element, index);\r\n        if (index === -1) {\r\n            return found;\r\n        }\r\n        else {\r\n            found = true;\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n}\r\nexport function removeFirst(array, element) {\r\n    var index = array.indexOf(element);\r\n    if (index !== -1) {\r\n        array.splice(index, 1);\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds an `element` to `array`.\r\n *\r\n * If array already contains and item like this, it is removed before adding\r\n * it again.\r\n *\r\n * Optionally `toIndex` can be specified to add element at specific index.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to move item to\r\n */\r\nexport function move(array, element, toIndex) {\r\n    // @todo this implementation must be the same as the List.moveValue method\r\n    // @todo don't do anything if the desired index is the same as the current index\r\n    var index = indexOf(array, element);\r\n    // @todo remove all old values rather than only the first ?\r\n    if (index !== -1) {\r\n        removeIndex(array, index);\r\n    }\r\n    if (toIndex == null) {\r\n        array.push(element);\r\n    }\r\n    else {\r\n        insertIndex(array, toIndex, element);\r\n    }\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to add item at\r\n */\r\nexport function add(array, element, index) {\r\n    // Append to the end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // Add to the beginning of array if index is 0\r\n    else if (index === 0) {\r\n        array.unshift(element);\r\n    }\r\n    // Add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Pushes `element` into `array` if it doesn't already exist.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n */\r\nexport function pushOne(array, element) {\r\n    if (array.indexOf(element) === -1) {\r\n        array.push(element);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array` (if it exists) and then inserts `element` at\r\n * `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n * @param array    Index to move item to\r\n */\r\nexport function replace(array, element, index) {\r\n    // check if exists\r\n    var ind = array.indexOf(element);\r\n    // remove if exists\r\n    if (ind !== -1) {\r\n        array.splice(ind, 1);\r\n    }\r\n    // add to end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Wraps `input` in an array, if it isn't already an array.\r\n *\r\n * @param input  Source value\r\n * @return An array\r\n */\r\nexport function toArray(input) {\r\n    if (Array.isArray(input)) {\r\n        return input;\r\n    }\r\n    else {\r\n        return [input];\r\n    }\r\n}\r\n/**\r\n * Returns `true` if `element` exists in `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to search for\r\n * @returns Item in array?\r\n */\r\nexport function has(array, element) {\r\n    return indexOf(array, element) !== -1;\r\n}\r\n/**\r\n * Returns a shallow copy of `array`.\r\n *\r\n * @param array  Source array\r\n * @returns Copy of the array\r\n */\r\nexport function copy(array) {\r\n    var length = array.length;\r\n    // It's faster to create the array with a pre-defined length\r\n    var output = new Array(length);\r\n    for (var i = 0; i < length; ++i) {\r\n        // Because the array has a pre-defined length, we have to assign rather than push\r\n        // This is also faster than pushing\r\n        output[i] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Returns a copy of `array` which contains all the elements between `start`\r\n * and `end`. (including `start` and excluding `end`)\r\n *\r\n * If `end` is not provided, it defaults to `array.length`.\r\n *\r\n * @param array  Source array\r\n * @param start  Start index\r\n * @param end    End index\r\n * @returns Part of the array\r\n */\r\nexport function slice(array, start, end) {\r\n    if (end === void 0) { end = array.length; }\r\n    var output = new Array(end - start);\r\n    for (var i = start; i < end; ++i) {\r\n        output[i - start] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Inserts a value into array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n * @param value  Value to insert\r\n */\r\nexport function insertIndex(array, index, value) {\r\n    array.splice(index, 0, value);\r\n}\r\n/**\r\n * Removes a value from array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n */\r\nexport function removeIndex(array, index) {\r\n    array.splice(index, 1);\r\n}\r\n/**\r\n * Searches the array using custom function and returns index of the item if\r\n * found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns -1.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nexport function findIndex(array, matches) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * This is the same as `findIndex` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nexport function findIndexReverse(array, matches) {\r\n    var i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function find(array, matches) {\r\n    var index = findIndex(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * This is the same as `find` except it searches from right to left.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function findReverse(array, matches) {\r\n    var index = findIndexReverse(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If value\r\n * is not `undefined`, it returns it.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function findMap(array, matches) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        var value = matches(array[i], i);\r\n        if (value !== undefined) {\r\n            return value;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function shuffle(array) {\r\n    // https://stackoverflow.com/a/2450976/449477\r\n    var currentIndex = array.length, temporaryValue, randomIndex;\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns right-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nexport function getSortedIndex(array, ordering) {\r\n    var start = 0;\r\n    var end = array.length;\r\n    var found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        var pivot = (start + end) >> 1;\r\n        var order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            start = pivot + 1;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: (found ? start - 1 : start)\r\n    };\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns left-most index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @returns Result of the search\r\n */\r\nexport function getFirstSortedIndex(array, ordering) {\r\n    var start = 0;\r\n    var end = array.length;\r\n    var found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        var pivot = (start + end) >> 1;\r\n        var order = ordering(array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            start = pivot + 1;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            end = pivot;\r\n            // more\r\n        }\r\n        else {\r\n            end = pivot;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: start\r\n    };\r\n}\r\nexport function keepIf(array, keep) {\r\n    var i = array.length;\r\n    while (i > 0) {\r\n        --i;\r\n        if (!keep(array[i])) {\r\n            array.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Array.js.map","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\n/**\r\n * A base class for disposable objects.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar DisposerClass = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     */\r\n    function DisposerClass() {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    Object.defineProperty(DisposerClass.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    Object.defineProperty(DisposerClass.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                this._dispose();\r\n            }\r\n        }\r\n    });\r\n    return DisposerClass;\r\n}());\r\nexport { DisposerClass };\r\n/**\r\n * A class for creating an IDisposer.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar Disposer = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param dispose  Function that disposes object\r\n     */\r\n    function Disposer(dispose) {\r\n        /**\r\n         * Is object disposed?\r\n         */\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Method that disposes the object.\r\n         */\r\n        Object.defineProperty(this, \"_dispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._disposed = false;\r\n        this._dispose = dispose;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    Object.defineProperty(Disposer.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    Object.defineProperty(Disposer.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                this._dispose();\r\n            }\r\n        }\r\n    });\r\n    return Disposer;\r\n}());\r\nexport { Disposer };\r\n/**\r\n * This can be extended by other classes to add a `_disposers` property.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar ArrayDisposer = /** @class */ (function (_super) {\r\n    __extends(ArrayDisposer, _super);\r\n    function ArrayDisposer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ArrayDisposer.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            $array.each(this._disposers, function (x) {\r\n                x.dispose();\r\n            });\r\n        }\r\n    });\r\n    return ArrayDisposer;\r\n}(DisposerClass));\r\nexport { ArrayDisposer };\r\n/**\r\n * A collection of related disposers that can be disposed in one go.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar MultiDisposer = /** @class */ (function (_super) {\r\n    __extends(MultiDisposer, _super);\r\n    function MultiDisposer(disposers) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this._disposers = disposers;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MultiDisposer.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            $array.each(this._disposers, function (x) {\r\n                x.dispose();\r\n            });\r\n        }\r\n    });\r\n    return MultiDisposer;\r\n}(DisposerClass));\r\nexport { MultiDisposer };\r\n/**\r\n * A special kind of Disposer that has attached value set.\r\n *\r\n * If a new value is set using `set()` method, the old disposer value is\r\n * disposed.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar MutableValueDisposer = /** @class */ (function (_super) {\r\n    __extends(MutableValueDisposer, _super);\r\n    function MutableValueDisposer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Current disposer.\r\n         */\r\n        Object.defineProperty(_this, \"_disposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Current value.\r\n         */\r\n        Object.defineProperty(_this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MutableValueDisposer.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._disposer != null) {\r\n                this._disposer.dispose();\r\n                this._disposer = undefined;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns current value.\r\n     *\r\n     * @return Value\r\n     */\r\n    Object.defineProperty(MutableValueDisposer.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._value;\r\n        }\r\n    });\r\n    /**\r\n     * Sets value and disposes previous disposer if it was set.\r\n     *\r\n     * @param value     New value\r\n     * @param disposer  Disposer\r\n     */\r\n    Object.defineProperty(MutableValueDisposer.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, disposer) {\r\n            if (this._disposer != null) {\r\n                this._disposer.dispose();\r\n            }\r\n            this._disposer = disposer;\r\n            this._value = value;\r\n        }\r\n    });\r\n    /**\r\n     * Resets the disposer value.\r\n     */\r\n    Object.defineProperty(MutableValueDisposer.prototype, \"reset\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.set(undefined, undefined);\r\n        }\r\n    });\r\n    return MutableValueDisposer;\r\n}(DisposerClass));\r\nexport { MutableValueDisposer };\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar CounterDisposer = /** @class */ (function (_super) {\r\n    __extends(CounterDisposer, _super);\r\n    function CounterDisposer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * [_counter description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        Object.defineProperty(_this, \"_counter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * [increment description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    Object.defineProperty(CounterDisposer.prototype, \"increment\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            // TODO throw an error if it is disposed\r\n            ++this._counter;\r\n            // TODO make this more efficient\r\n            return new Disposer(function () {\r\n                --_this._counter;\r\n                if (_this._counter === 0) {\r\n                    _this.dispose();\r\n                }\r\n            });\r\n        }\r\n    });\r\n    return CounterDisposer;\r\n}(Disposer));\r\nexport { CounterDisposer };\r\n//# sourceMappingURL=Disposer.js.map","/**\r\n * A collection of utility functions for various type checks and conversion\r\n * @hidden\r\n */\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns `true` if value is not a number (NaN).\r\n *\r\n * @param value Input value\r\n * @return Is NaN?\r\n */\r\nexport function isNaN(value) {\r\n    return Number(value) !== value;\r\n}\r\n/**\r\n * Returns a type of the value.\r\n *\r\n * @param value  Input value\r\n * @return Type of the value\r\n * @ignore\r\n */\r\nexport function getType(value) {\r\n    return ({}).toString.call(value);\r\n}\r\n/**\r\n * ============================================================================\r\n * QUICK CONVERSION\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts any value into a `number`.\r\n *\r\n * @param value  Source value\r\n * @return Number representation of value\r\n */\r\nexport function toNumber(value) {\r\n    if (value != null && !isNumber(value)) {\r\n        var converted = Number(value);\r\n        if (isNaN(converted) && isString(value) && value != \"\") {\r\n            return toNumber(value.replace(/[^0-9.\\-]+/g, ''));\r\n        }\r\n        return converted;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Converts anything to Date object.\r\n *\r\n * @param value  A value of any type\r\n * @return Date object representing a value\r\n */\r\nexport function toDate(value) {\r\n    if (isDate(value)) {\r\n        // TODO maybe don't create a new Date ?\r\n        return new Date(value);\r\n    }\r\n    else if (isNumber(value)) {\r\n        return new Date(value);\r\n    }\r\n    else {\r\n        // Try converting to number (assuming timestamp)\r\n        var num = Number(value);\r\n        if (!isNumber(num)) {\r\n            return new Date(value);\r\n        }\r\n        else {\r\n            return new Date(num);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts numeric value into string. Deals with large or small numbers that\r\n * would otherwise use exponents.\r\n *\r\n * @param value  Numeric value\r\n * @return Numeric value as string\r\n */\r\nexport function numberToString(value) {\r\n    // TODO handle Infinity and -Infinity\r\n    if (isNaN(value)) {\r\n        return \"NaN\";\r\n    }\r\n    if (value === Infinity) {\r\n        return \"Infinity\";\r\n    }\r\n    if (value === -Infinity) {\r\n        return \"-Infinity\";\r\n    }\r\n    // Negative 0\r\n    if ((value === 0) && (1 / value === -Infinity)) {\r\n        return \"-0\";\r\n    }\r\n    // Preserve negative and deal with absoute values\r\n    var negative = value < 0;\r\n    value = Math.abs(value);\r\n    // TODO test this\r\n    var parsed = /^([0-9]+)(?:\\.([0-9]+))?(?:e[\\+\\-]([0-9]+))?$/.exec(\"\" + value);\r\n    var digits = parsed[1];\r\n    var decimals = parsed[2] || \"\";\r\n    var res;\r\n    // Leave the nummber as it is if it does not use exponents\r\n    if (parsed[3] === undefined) {\r\n        res = (decimals === \"\" ? digits : digits + \".\" + decimals);\r\n    }\r\n    else {\r\n        var exponent = +parsed[3];\r\n        // Deal with decimals\r\n        if (value < 1) {\r\n            var zeros = exponent - 1;\r\n            res = \"0.\" + repeat(\"0\", zeros) + digits + decimals;\r\n            // Deal with integers\r\n        }\r\n        else {\r\n            var zeros = exponent - decimals.length;\r\n            if (zeros === 0) {\r\n                res = digits + decimals;\r\n            }\r\n            else if (zeros < 0) {\r\n                res = digits + decimals.slice(0, zeros) + \".\" + decimals.slice(zeros);\r\n            }\r\n            else {\r\n                res = digits + decimals + repeat(\"0\", zeros);\r\n            }\r\n        }\r\n    }\r\n    return negative ? \"-\" + res : res;\r\n}\r\n/**\r\n * Repeats a `string` number of times as set in `amount`.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Make this faster\r\n * @param string  Source string\r\n * @param amount  Number of times to repeat string\r\n * @return New string\r\n */\r\nexport function repeat(string, amount) {\r\n    return new Array(amount + 1).join(string);\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Checks if parameter is `Date`.\r\n *\r\n * @param value  Input value\r\n * @return Is Date?\r\n */\r\nexport function isDate(value) {\r\n    return getType(value) === \"[object Date]\";\r\n}\r\n/**\r\n * Checks if parameter is `string`.\r\n *\r\n * @param value  Input value\r\n * @return Is string?\r\n */\r\nexport function isString(value) {\r\n    return typeof value === \"string\";\r\n}\r\n/**\r\n * Checks if parameter is `number`.\r\n *\r\n * @param value  Input value\r\n * @return Is number?\r\n */\r\nexport function isNumber(value) {\r\n    return typeof value === \"number\" && Number(value) == value;\r\n}\r\n/**\r\n * Checks if parameter is `object`.\r\n *\r\n * @param value  Input value\r\n * @return Is object?\r\n */\r\nexport function isObject(value) {\r\n    return typeof value === \"object\" && value !== null;\r\n}\r\n/**\r\n * Checks if parameter is `Array`.\r\n *\r\n * @param value  Input value\r\n * @return Is Array?\r\n */\r\nexport function isArray(value) {\r\n    return Array.isArray(value);\r\n}\r\n/**\r\n * ============================================================================\r\n * STATIC CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var PLACEHOLDER = \"____\";\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nexport var PLACEHOLDER2 = \"____\";\r\n//# sourceMappingURL=Type.js.map","/**\r\n * Event Dispatcher module is used for registering listeners and dispatching\r\n * events across amCharts system.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Universal Event Dispatcher.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nvar EventDispatcher = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     */\r\n    function EventDispatcher() {\r\n        Object.defineProperty(this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_killed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_iterating\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_enabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._listeners = [];\r\n        this._killed = [];\r\n        this._disabled = {};\r\n        this._iterating = 0;\r\n        this._enabled = true;\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Returns if this object has been already disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    /**\r\n     * Dispose (destroy) this object.\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                var a = this._listeners;\r\n                this._iterating = 1;\r\n                this._listeners = null;\r\n                this._disabled = null;\r\n                try {\r\n                    $array.each(a, function (x) {\r\n                        x.disposer.dispose();\r\n                    });\r\n                }\r\n                finally {\r\n                    this._killed = null;\r\n                    this._iterating = null;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Checks if this particular event dispatcher has any listeners set.\r\n     *\r\n     * @return Has listeners?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"hasListeners\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._listeners.length !== 0;\r\n        }\r\n    });\r\n    /**\r\n     * Checks if this particular event dispatcher has any particular listeners set.\r\n     *\r\n     * @return Has particular event listeners?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"hasListenersByType\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            return $array.any(this._listeners, function (x) { return (x.type === null || x.type === type) && !x.killed; });\r\n        }\r\n    });\r\n    /**\r\n     * Enable dispatching of events if they were previously disabled by\r\n     * `disable()`.\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"enable\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._enabled = true;\r\n        }\r\n    });\r\n    /**\r\n     * Disable dispatching of events until re-enabled by `enable()`.\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"disable\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._enabled = false;\r\n        }\r\n    });\r\n    /**\r\n     * Enable dispatching particular event, if it was disabled before by\r\n     * `disableType()`.\r\n     *\r\n     * @param type Event type\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"enableType\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            delete this._disabled[type];\r\n        }\r\n    });\r\n    /**\r\n     * Disable dispatching of events for a certain event type.\r\n     *\r\n     * Optionally, can set how many dispatches to skip before automatically\r\n     * re-enabling the dispatching.\r\n     *\r\n     * @param type    Event type\r\n     * @param amount  Number of event dispatches to skip\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"disableType\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, amount) {\r\n            if (amount === void 0) { amount = Infinity; }\r\n            this._disabled[type] = amount;\r\n        }\r\n    });\r\n    /**\r\n     * Removes listener from dispatcher.\r\n     *\r\n     * Will throw an exception if such listener does not exists.\r\n     *\r\n     * @param listener Listener to remove\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"_removeListener\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (listener) {\r\n            if (this._iterating === 0) {\r\n                var index = this._listeners.indexOf(listener);\r\n                if (index === -1) {\r\n                    throw new Error(\"Invalid state: could not remove listener\");\r\n                }\r\n                this._listeners.splice(index, 1);\r\n            }\r\n            else {\r\n                this._killed.push(listener);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Removes existing listener by certain parameters.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"_removeExistingListener\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (once, type, callback, context) {\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            this._eachListener(function (info) {\r\n                if (info.once === once && // TODO is this correct ?\r\n                    info.type === type &&\r\n                    (callback === undefined || info.callback === callback) &&\r\n                    info.context === context) {\r\n                    info.disposer.dispose();\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Checks if dispatching for particular event type is enabled.\r\n     *\r\n     * @param type  Event type\r\n     * @return Enabled?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"isEnabled\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            // TODO is this check correct ?\r\n            return this._enabled && this._listeners.length > 0 && this.hasListenersByType(type) && this._disabled[type] === undefined;\r\n        }\r\n    });\r\n    /**\r\n     * Removes all listeners of a particular event type\r\n     *\r\n     * @param type  Listener's type\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"removeType\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            this._eachListener(function (info) {\r\n                if (info.type === type) {\r\n                    info.disposer.dispose();\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Checks if there's already a listener with specific parameters.\r\n     *\r\n     * @param type      Listener's type\r\n     * @param callback  Callback function\r\n     * @param context   Callback context\r\n     * @return Has listener?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"has\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, callback, context) {\r\n            var index = $array.findIndex(this._listeners, function (info) {\r\n                return info.once !== true && // Ignoring \"once\" listeners\r\n                    info.type === type &&\r\n                    (callback === undefined || info.callback === callback) &&\r\n                    info.context === context;\r\n            });\r\n            return index !== -1;\r\n        }\r\n    });\r\n    /**\r\n     * Checks whether event of the particular type should be dispatched.\r\n     *\r\n     * @param type  Event type\r\n     * @return Dispatch?\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"_shouldDispatch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            var count = this._disabled[type];\r\n            if (!$type.isNumber(count)) {\r\n                return this._enabled;\r\n            }\r\n            else {\r\n                if (count <= 1) {\r\n                    delete this._disabled[type];\r\n                }\r\n                else {\r\n                    --this._disabled[type];\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * [_eachListener description]\r\n     *\r\n     * All of this extra code is needed when a listener is removed while iterating\r\n     *\r\n     * @todo Description\r\n     * @param fn [description]\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"_eachListener\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fn) {\r\n            var _this = this;\r\n            ++this._iterating;\r\n            try {\r\n                $array.each(this._listeners, fn);\r\n            }\r\n            finally {\r\n                --this._iterating;\r\n                // TODO should this be inside or outside the finally ?\r\n                if (this._iterating === 0 && this._killed.length !== 0) {\r\n                    // Remove killed listeners\r\n                    $array.each(this._killed, function (killed) {\r\n                        _this._removeListener(killed);\r\n                    });\r\n                    this._killed.length = 0;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Dispatches an event immediately without waiting for next cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"dispatch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, event) {\r\n            if (this._shouldDispatch(type)) {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                // TODO if the function throws, maybe it should keep going ?\r\n                this._eachListener(function (listener) {\r\n                    if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                        listener.dispatch(type, event);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Shelves the event to be dispatched within next update cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    /*public dispatchLater<Key extends keyof T>(type: Key, event: T[Key]): void {\r\n        if (this._shouldDispatch(type)) {\r\n            this._eachListener((listener) => {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    // TODO if the function throws, maybe it should keep going ?\r\n                    // TODO dispatch during the update cycle, rather than using whenIdle\r\n                    $async.whenIdle(() => {\r\n                        if (!listener.killed) {\r\n                            listener.dispatch(type, event);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }*/\r\n    /**\r\n     * Creates, catalogs and returns an [[EventListener]].\r\n     *\r\n     * Event listener can be disposed.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @param dispatch\r\n     * @returns An event listener\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"_on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (once, type, callback, context, shouldClone, dispatch) {\r\n            var _this = this;\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            this._removeExistingListener(once, type, callback, context);\r\n            var info = {\r\n                type: type,\r\n                callback: callback,\r\n                context: context,\r\n                shouldClone: shouldClone,\r\n                dispatch: dispatch,\r\n                killed: false,\r\n                once: once,\r\n                disposer: new Disposer(function () {\r\n                    info.killed = true;\r\n                    _this._removeListener(info);\r\n                })\r\n            };\r\n            this._listeners.push(info);\r\n            return info;\r\n        }\r\n    });\r\n    /**\r\n     * Creates an event listener to be invoked on **any** event.\r\n     *\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"onAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (callback, context, shouldClone) {\r\n            if (shouldClone === void 0) { shouldClone = true; }\r\n            return this._on(false, null, callback, context, shouldClone, function (_type, event) { return callback.call(context, event); }).disposer;\r\n        }\r\n    });\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler whenever series we put\r\n     * event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, callback, context, shouldClone) {\r\n            if (shouldClone === void 0) { shouldClone = true; }\r\n            return this._on(false, type, callback, context, shouldClone, function (_type, event) { return callback.call(context, event); }).disposer;\r\n        }\r\n    });\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type once.\r\n     *\r\n     * Once the event listener is invoked, it is automatically disposed.\r\n     *\r\n     * ```TypeScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * button.events.once(\"click\", (ev) => {\r\n     *   console.log(\"Button clicked\");\r\n     * }, this);\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler the first time series we\r\n     * put event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"once\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, callback, context, shouldClone) {\r\n            if (shouldClone === void 0) { shouldClone = true; }\r\n            var x = this._on(true, type, callback, context, shouldClone, function (_type, event) {\r\n                x.disposer.dispose();\r\n                callback.call(context, event);\r\n            });\r\n            // TODO maybe this should return a different Disposer ?\r\n            return x.disposer;\r\n        }\r\n    });\r\n    /**\r\n     * Removes the event listener with specific parameters.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"off\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, callback, context) {\r\n            this._removeExistingListener(false, type, callback, context);\r\n        }\r\n    });\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(EventDispatcher.prototype, \"copyFrom\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (source) {\r\n            var _this = this;\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            if (source === this) {\r\n                throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n            }\r\n            var disposers = [];\r\n            $array.each(source._listeners, function (x) {\r\n                // TODO is this correct ?\r\n                if (!x.killed && x.shouldClone) {\r\n                    if (x.type === null) {\r\n                        disposers.push(_this.onAll(x.callback, x.context));\r\n                    }\r\n                    else if (x.once) {\r\n                        disposers.push(_this.once(x.type, x.callback, x.context));\r\n                    }\r\n                    else {\r\n                        disposers.push(_this.on(x.type, x.callback, x.context));\r\n                    }\r\n                }\r\n            });\r\n            return new MultiDisposer(disposers);\r\n        }\r\n    });\r\n    return EventDispatcher;\r\n}());\r\nexport { EventDispatcher };\r\n/**\r\n * A version of the [[EventDispatcher]] that dispatches events for a specific\r\n * target object.\r\n *\r\n * @ignore\r\n */\r\nvar TargetedEventDispatcher = /** @class */ (function (_super) {\r\n    __extends(TargetedEventDispatcher, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param target Event dispatcher target\r\n     */\r\n    function TargetedEventDispatcher(target) {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A target object which is originating events using this dispatcher.\r\n         */\r\n        Object.defineProperty(_this, \"target\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this.target = target;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(TargetedEventDispatcher.prototype, \"copyFrom\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (source) {\r\n            var _this = this;\r\n            if (this._disposed) {\r\n                throw new Error(\"EventDispatcher is disposed\");\r\n            }\r\n            if (source === this) {\r\n                throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n            }\r\n            var disposers = [];\r\n            $array.each(source._listeners, function (x) {\r\n                // TODO very hacky\r\n                if (x.context === source.target) {\r\n                    return;\r\n                }\r\n                // TODO is this correct ?\r\n                if (!x.killed && x.shouldClone) {\r\n                    if (x.type === null) {\r\n                        disposers.push(_this.onAll(x.callback, x.context));\r\n                    }\r\n                    else if (x.once) {\r\n                        disposers.push(_this.once(x.type, x.callback, x.context));\r\n                    }\r\n                    else {\r\n                        disposers.push(_this.on(x.type, x.callback, x.context));\r\n                    }\r\n                }\r\n            });\r\n            return new MultiDisposer(disposers);\r\n        }\r\n    });\r\n    return TargetedEventDispatcher;\r\n}(EventDispatcher));\r\nexport { TargetedEventDispatcher };\r\n//# sourceMappingURL=EventDispatcher.js.map","import { __extends, __generator } from \"tslib\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $array from \"./Array\";\r\n/**\r\n * Checks if specific index fits into length.\r\n *\r\n * @param index  Index\r\n * @param len    Length\r\n * @ignore\r\n */\r\nfunction checkBounds(index, len) {\r\n    if (!(index >= 0 && index < len)) {\r\n        throw new Error(\"Index out of bounds: \" + index);\r\n    }\r\n}\r\n/**\r\n * A List class is used to hold a number of indexed items of the same type.\r\n */\r\nvar List = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param initial  Inital list of values to add to list\r\n     */\r\n    function List(initial) {\r\n        if (initial === void 0) { initial = []; }\r\n        /**\r\n         * List values.\r\n         */\r\n        Object.defineProperty(this, \"_values\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        this._values = initial;\r\n    }\r\n    Object.defineProperty(List.prototype, \"values\", {\r\n        /**\r\n         * An array of values in the list.\r\n         *\r\n         * Do not use this property to add values. Rather use dedicated methods, like\r\n         * `push()`, `removeIndex()`, etc.\r\n         *\r\n         * @readonly\r\n         * @return List values\r\n         */\r\n        get: function () {\r\n            return this._values;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if list contains specific item reference.\r\n     *\r\n     * @param item  Item to search for\r\n     * @return `true` if found, `false` if not found\r\n     */\r\n    Object.defineProperty(List.prototype, \"contains\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            return this._values.indexOf(value) !== -1;\r\n        }\r\n    });\r\n    /**\r\n     * Removes specific item from the list.\r\n     *\r\n     * @param item An item to remove\r\n     */\r\n    Object.defineProperty(List.prototype, \"removeValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var i = 0;\r\n            var length = this._values.length;\r\n            while (i < length) {\r\n                // TODO handle NaN\r\n                if (this._values[i] === value) {\r\n                    this.removeIndex(i);\r\n                    --length;\r\n                }\r\n                else {\r\n                    ++i;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Searches the list for specific item and returns its index.\r\n     *\r\n     * @param item  An item to search for\r\n     * @return Index or -1 if not found\r\n     */\r\n    Object.defineProperty(List.prototype, \"indexOf\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            return $array.indexOf(this._values, value);\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"length\", {\r\n        /**\r\n         * Number of items in list.\r\n         *\r\n         * @readonly\r\n         * @return Number of items\r\n         */\r\n        get: function () {\r\n            return this._values.length;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Checks if there's a value at specific index.\r\n     *\r\n     * @param index  Index\r\n     * @return Value exists?\r\n     */\r\n    Object.defineProperty(List.prototype, \"hasIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return index >= 0 && index < this._values.length;\r\n        }\r\n    });\r\n    /**\r\n     * Returns an item at specified index.\r\n     *\r\n     * @param index  Index\r\n     * @return List item\r\n     */\r\n    Object.defineProperty(List.prototype, \"getIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return this._values[index];\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onPush\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (newValue) {\r\n            if (this.events.isEnabled(\"push\")) {\r\n                this.events.dispatch(\"push\", {\r\n                    type: \"push\",\r\n                    target: this,\r\n                    newValue: newValue\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onInsertIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, newValue) {\r\n            if (this.events.isEnabled(\"insertIndex\")) {\r\n                this.events.dispatch(\"insertIndex\", {\r\n                    type: \"insertIndex\",\r\n                    target: this,\r\n                    index: index,\r\n                    newValue: newValue\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onSetIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, oldValue, newValue) {\r\n            if (this.events.isEnabled(\"setIndex\")) {\r\n                this.events.dispatch(\"setIndex\", {\r\n                    type: \"setIndex\",\r\n                    target: this,\r\n                    index: index,\r\n                    oldValue: oldValue,\r\n                    newValue: newValue\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onRemoveIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, oldValue) {\r\n            if (this.events.isEnabled(\"removeIndex\")) {\r\n                this.events.dispatch(\"removeIndex\", {\r\n                    type: \"removeIndex\",\r\n                    target: this,\r\n                    index: index,\r\n                    oldValue: oldValue\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onMoveIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (oldIndex, newIndex, value) {\r\n            if (this.events.isEnabled(\"moveIndex\")) {\r\n                this.events.dispatch(\"moveIndex\", {\r\n                    type: \"moveIndex\",\r\n                    target: this,\r\n                    oldIndex: oldIndex,\r\n                    newIndex: newIndex,\r\n                    value: value,\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(List.prototype, \"_onClear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (oldValues) {\r\n            if (this.events.isEnabled(\"clear\")) {\r\n                this.events.dispatch(\"clear\", {\r\n                    type: \"clear\",\r\n                    target: this,\r\n                    oldValues: oldValues\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Sets value at specific index.\r\n     *\r\n     * If there's already a value at the index, it is overwritten.\r\n     *\r\n     * @param index  Index\r\n     * @param value  New value\r\n     * @return New value\r\n     */\r\n    Object.defineProperty(List.prototype, \"setIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, value) {\r\n            checkBounds(index, this._values.length);\r\n            var oldValue = this._values[index];\r\n            // Do nothing if the old value and the new value are the same\r\n            if (oldValue !== value) {\r\n                this._values[index] = value;\r\n                this._onSetIndex(index, oldValue, value);\r\n            }\r\n            return oldValue;\r\n        }\r\n    });\r\n    /**\r\n     * Adds an item to the list at a specific index, which pushes all the other\r\n     * items further down the list.\r\n     *\r\n     * @param index Index\r\n     * @param item  An item to add\r\n     */\r\n    Object.defineProperty(List.prototype, \"insertIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, value) {\r\n            checkBounds(index, this._values.length + 1);\r\n            $array.insertIndex(this._values, index, value);\r\n            this._onInsertIndex(index, value);\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Swaps indexes of two items in the list.\r\n     *\r\n     * @param a  Item 1\r\n     * @param b  Item 2\r\n     */\r\n    Object.defineProperty(List.prototype, \"swap\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (a, b) {\r\n            var len = this._values.length;\r\n            checkBounds(a, len);\r\n            checkBounds(b, len);\r\n            if (a !== b) {\r\n                var value_a = this._values[a];\r\n                var value_b = this._values[b];\r\n                this._values[a] = value_b;\r\n                this._onSetIndex(a, value_a, value_b);\r\n                this._values[b] = value_a;\r\n                this._onSetIndex(b, value_b, value_a);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Removes a value at specific index.\r\n     *\r\n     * @param index  Index of value to remove\r\n     * @return Removed value\r\n     */\r\n    Object.defineProperty(List.prototype, \"removeIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            checkBounds(index, this._values.length);\r\n            var oldValue = this._values[index];\r\n            $array.removeIndex(this._values, index);\r\n            this._onRemoveIndex(index, oldValue);\r\n            return oldValue;\r\n        }\r\n    });\r\n    /**\r\n     * Moves an item to a specific index within the list.\r\n     *\r\n     * If the index is not specified it will move the item to the end of the\r\n     * list.\r\n     *\r\n     * @param value  Item to move\r\n     * @param index  Index to place item at\r\n     */\r\n    Object.defineProperty(List.prototype, \"moveValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, toIndex) {\r\n            // TODO don't do anything if the desired index is the same as the current index\r\n            var index = this.indexOf(value);\r\n            // TODO remove all old values rather than only the first ?\r\n            if (index !== -1) {\r\n                $array.removeIndex(this._values, index);\r\n                if (toIndex == null) {\r\n                    var toIndex_1 = this._values.length;\r\n                    this._values.push(value);\r\n                    this._onMoveIndex(index, toIndex_1, value);\r\n                }\r\n                else {\r\n                    $array.insertIndex(this._values, toIndex, value);\r\n                    this._onMoveIndex(index, toIndex, value);\r\n                }\r\n            }\r\n            else if (toIndex == null) {\r\n                this._values.push(value);\r\n                this._onPush(value);\r\n            }\r\n            else {\r\n                $array.insertIndex(this._values, toIndex, value);\r\n                this._onInsertIndex(toIndex, value);\r\n            }\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Adds an item to the end of the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    Object.defineProperty(List.prototype, \"push\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            this._values.push(value);\r\n            this._onPush(value);\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Adds an item as a first item in the list.\r\n     *\r\n     * @param item  An item to add\r\n     */\r\n    Object.defineProperty(List.prototype, \"unshift\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            this.insertIndex(0, value);\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Adds multiple items to the list.\r\n     *\r\n     * @param items  An Array of items to add\r\n     */\r\n    Object.defineProperty(List.prototype, \"pushAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (values) {\r\n            var _this = this;\r\n            $array.each(values, function (value) {\r\n                _this.push(value);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Copies and adds items from abother list.\r\n     *\r\n     * @param source  A list top copy items from\r\n     */\r\n    Object.defineProperty(List.prototype, \"copyFrom\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (source) {\r\n            this.pushAll(source._values);\r\n        }\r\n    });\r\n    /**\r\n     * Returns the last item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    Object.defineProperty(List.prototype, \"pop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var index = this._values.length - 1;\r\n            return index < 0 ? undefined : this.removeIndex(this._values.length - 1);\r\n        }\r\n    });\r\n    /**\r\n     * Returns the first item from the list, and removes it.\r\n     *\r\n     * @return Item\r\n     */\r\n    Object.defineProperty(List.prototype, \"shift\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._values.length ? this.removeIndex(0) : undefined;\r\n        }\r\n    });\r\n    /**\r\n     * Sets multiple items to the list.\r\n     *\r\n     * All current items are removed.\r\n     *\r\n     * @param newArray  New items\r\n     */\r\n    Object.defineProperty(List.prototype, \"setAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (newArray) {\r\n            var _this = this;\r\n            var old = this._values;\r\n            this._values = [];\r\n            this._onClear(old);\r\n            $array.each(newArray, function (value) {\r\n                _this._values.push(value);\r\n                _this._onPush(value);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Removes all items from the list.\r\n     */\r\n    Object.defineProperty(List.prototype, \"clear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setAll([]);\r\n        }\r\n    });\r\n    /**\r\n     * Returns an ES6 iterator for the list.\r\n     */\r\n    Object.defineProperty(List.prototype, Symbol.iterator, {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var length, i;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        length = this._values.length;\r\n                        i = 0;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(i < length)) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, this._values[i]];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        ++i;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Calls `f` for each element in the list.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    Object.defineProperty(List.prototype, \"each\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            $array.each(this._values, f);\r\n        }\r\n    });\r\n    /**\r\n     * Calls `f` for each element in the list, from right to left.\r\n     *\r\n     * `f` should have at least one parameter defined which will get a current\r\n     * item, with optional second argument - index.\r\n     */\r\n    Object.defineProperty(List.prototype, \"eachReverse\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            $array.eachReverse(this._values, f);\r\n        }\r\n    });\r\n    return List;\r\n}());\r\nexport { List };\r\n/**\r\n * A version of a [[List]] where the elements are disposed automatically when\r\n * removed from the list, unless `autoDispose` is set to `false`.\r\n */\r\nvar ListAutoDispose = /** @class */ (function (_super) {\r\n    __extends(ListAutoDispose, _super);\r\n    function ListAutoDispose() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Automatically disposes elements that are removed from the list.\r\n         *\r\n         * @default true\r\n         */\r\n        Object.defineProperty(_this, \"autoDispose\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ListAutoDispose.prototype, \"_onSetIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, oldValue, newValue) {\r\n            if (this.autoDispose) {\r\n                oldValue.dispose();\r\n            }\r\n            _super.prototype._onSetIndex.call(this, index, oldValue, newValue);\r\n        }\r\n    });\r\n    Object.defineProperty(ListAutoDispose.prototype, \"_onRemoveIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, oldValue) {\r\n            if (this.autoDispose) {\r\n                oldValue.dispose();\r\n            }\r\n            _super.prototype._onRemoveIndex.call(this, index, oldValue);\r\n        }\r\n    });\r\n    Object.defineProperty(ListAutoDispose.prototype, \"_onClear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (oldValues) {\r\n            if (this.autoDispose) {\r\n                $array.each(oldValues, function (x) {\r\n                    x.dispose();\r\n                });\r\n            }\r\n            _super.prototype._onClear.call(this, oldValues);\r\n        }\r\n    });\r\n    Object.defineProperty(ListAutoDispose.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    Object.defineProperty(ListAutoDispose.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                if (this.autoDispose) {\r\n                    $array.each(this._values, function (x) {\r\n                        x.dispose();\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return ListAutoDispose;\r\n}(List));\r\nexport { ListAutoDispose };\r\n/**\r\n * A version of a [[List]] that is able to create new elements as well as\r\n * apply additional settings to newly created items.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/list-templates/} for more info\r\n */\r\nvar ListTemplate = /** @class */ (function (_super) {\r\n    __extends(ListTemplate, _super);\r\n    function ListTemplate(template, make) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"make\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this.template = template;\r\n        _this.make = make;\r\n        return _this;\r\n    }\r\n    return ListTemplate;\r\n}(ListAutoDispose));\r\nexport { ListTemplate };\r\n//# sourceMappingURL=List.js.map","import { __extends } from \"tslib\";\r\nimport { List } from \"./List\";\r\nimport * as $array from \"./Array\";\r\n/**\r\n * A version of [[List]] to hold children of the [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n */\r\nvar Children = /** @class */ (function (_super) {\r\n    __extends(Children, _super);\r\n    function Children(container) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this._container = container;\r\n        _this._events = _this.events.onAll(function (change) {\r\n            if (change.type === \"clear\") {\r\n                $array.each(change.oldValues, function (x) {\r\n                    _this._onRemoved(x);\r\n                });\r\n            }\r\n            else if (change.type === \"push\") {\r\n                _this._onInserted(change.newValue);\r\n            }\r\n            else if (change.type === \"setIndex\") {\r\n                _this._onRemoved(change.oldValue);\r\n                _this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"insertIndex\") {\r\n                _this._onInserted(change.newValue, change.index);\r\n            }\r\n            else if (change.type === \"removeIndex\") {\r\n                _this._onRemoved(change.oldValue);\r\n            }\r\n            else if (change.type === \"moveIndex\") {\r\n                _this._onRemoved(change.value);\r\n                _this._onInserted(change.value, change.newIndex);\r\n            }\r\n            else {\r\n                throw new Error(\"Unknown IListEvent type\");\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Children.prototype, \"_onInserted\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child, index) {\r\n            child._setParent(this._container, true);\r\n            var childrenDisplay = this._container._childrenDisplay;\r\n            if (index === undefined) {\r\n                childrenDisplay.addChild(child._display);\r\n            }\r\n            else {\r\n                childrenDisplay.addChildAt(child._display, index);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Children.prototype, \"_onRemoved\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child) {\r\n            this._container._childrenDisplay.removeChild(child._display);\r\n            this._container.markDirtyBounds();\r\n            this._container.markDirty();\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if obejct is disposed.\r\n     */\r\n    Object.defineProperty(Children.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    /**\r\n     * Permanently dispose this object.\r\n     */\r\n    Object.defineProperty(Children.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                this._events.dispose();\r\n                $array.each(this.values, function (child) {\r\n                    child.dispose();\r\n                });\r\n            }\r\n        }\r\n    });\r\n    return Children;\r\n}(List));\r\nexport { Children };\r\n//# sourceMappingURL=Children.js.map","/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a relative value (percent).\r\n *\r\n * The Percent object, can be instantiated using two ways:\r\n *\r\n * * Via `new Percent(X)`.\r\n * * Via `am5.percent(X)`.\r\n *\r\n * You can also use shortcut functions for `0%`, `50%`, and `100%`:\r\n * * `am5.p0`\r\n * * `am5.p50`\r\n * * `am5.p1000`\r\n */\r\nvar Percent = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param percent  Percent value\r\n     */\r\n    function Percent(percent) {\r\n        /**\r\n         * Value in percent.\r\n         */\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = percent;\r\n    }\r\n    Object.defineProperty(Percent.prototype, \"value\", {\r\n        /**\r\n         * Relative value.\r\n         *\r\n         * E.g. 100% is 1, 50% is 0.5, etc.\r\n         *\r\n         * This is useful to apply transformations to other values. E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * let value = 256;\r\n         * let percent = new am5.p50;\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         * ```JavaScript\r\n         * var value = 256;\r\n         * var percent = new am5.p50;\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         *\r\n         * Alternatively, you can use `am5.percent()` helper function:\r\n         *\r\n         * ```TypeScript\r\n         * let value = 256;\r\n         * let percent = am5.p50;\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         * ```JavaScript\r\n         * var value = 256;\r\n         * var percent = am5.p50;\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         *\r\n         * @readonly\r\n         * @return Relative value\r\n         */\r\n        get: function () {\r\n            return this._value / 100;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Percent.prototype, \"percent\", {\r\n        /**\r\n         * Value in percent.\r\n         *\r\n         * @return Percent\r\n         */\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Percent.prototype, \"toString\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return \"\" + this._value + \"%\";\r\n        }\r\n    });\r\n    Object.defineProperty(Percent.prototype, \"interpolate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max) {\r\n            return min + (this.value * (max - min));\r\n        }\r\n    });\r\n    Object.defineProperty(Percent, \"normalize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (percent, min, max) {\r\n            if (percent instanceof Percent) {\r\n                return percent;\r\n            }\r\n            else {\r\n                if (min === max) {\r\n                    return new Percent(0);\r\n                }\r\n                else {\r\n                    return new Percent(Math.min(Math.max((percent - min) * (1 / (max - min)), 0), 1) * 100);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return Percent;\r\n}());\r\nexport { Percent };\r\n/**\r\n * Converts numeric percent value to a proper [[Percent]] object.\r\n *\r\n * ```TypeScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n * ```JavaScript\r\n * pieSeries.set(\"radius\", am5.percent(80));\r\n * ```\r\n *\r\n * @param value  Percent\r\n * @return Percent object\r\n */\r\nexport function percent(value) {\r\n    return new Percent(value);\r\n}\r\n/**\r\n * A shortcut function to `am5.percent(0)`.\r\n */\r\nexport var p0 = percent(0);\r\n/**\r\n * A shortcut function to `am5.percent(100)`.\r\n */\r\nexport var p100 = percent(100);\r\n/**\r\n * A shortcut function to `am5.percent(50)`.\r\n */\r\nexport var p50 = percent(50);\r\n/**\r\n * Checks if value is a [[Percent]] object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value  Input value\r\n * @return Is percent?\r\n */\r\nexport function isPercent(value) {\r\n    return value instanceof Percent;\r\n}\r\n//# sourceMappingURL=Percent.js.map","import { __extends, __read, __spreadArray } from \"tslib\";\r\nimport * as $type from \"./Type\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nimport { Disposer, DisposerClass } from \"./Disposer\";\r\n/**\r\n * ============================================================================\r\n * DOM FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Execute a function when DOM is ready.\r\n *\r\n * @since 5.0.2\r\n * @param  f  Callback\r\n */\r\nexport function ready(f) {\r\n    if (document.readyState !== \"loading\") {\r\n        f();\r\n    }\r\n    else {\r\n        var listener_1 = function () {\r\n            if (document.readyState !== \"loading\") {\r\n                document.removeEventListener(\"readystatechange\", listener_1);\r\n                f();\r\n            }\r\n        };\r\n        document.addEventListener(\"readystatechange\", listener_1);\r\n    }\r\n}\r\n/**\r\n * Removes a DOM element.\r\n * @param  el  Target element\r\n */\r\nexport function removeElement(el) {\r\n    if (el.parentNode) {\r\n        el.parentNode.removeChild(el);\r\n    }\r\n}\r\n/**\r\n * Function that adds a disposable event listener directly to a DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param dom       A DOM element to add event to\r\n * @param type      Event type\r\n * @param listener  Event listener\r\n * @returns Disposable event\r\n */\r\nexport function addEventListener(dom, type, listener, options) {\r\n    //@todo proper type check for options: EventListenerOptions | boolean (TS for some reason gives error on passive parameter)\r\n    //console.log(type, dom);\r\n    dom.addEventListener(type, listener, options || false);\r\n    return new Disposer(function () {\r\n        dom.removeEventListener(type, listener, options || false);\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function supports(cap) {\r\n    switch (cap) {\r\n        case \"touchevents\":\r\n            //return \"ontouchstart\" in document.documentElement;\r\n            return window.hasOwnProperty(\"TouchEvent\");\r\n        case \"pointerevents\":\r\n            return window.hasOwnProperty(\"PointerEvent\");\r\n        case \"mouseevents\":\r\n            return window.hasOwnProperty(\"MouseEvent\");\r\n        case \"wheelevents\":\r\n            return window.hasOwnProperty(\"WheelEvent\");\r\n        case \"keyboardevents\":\r\n            return window.hasOwnProperty(\"KeyboardEvent\");\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getPointerId(event) {\r\n    var id = event.pointerId || 0;\r\n    //console.log(event);\r\n    return id;\r\n}\r\n/**\r\n * Removes focus from any element by shifting focus to body.\r\n *\r\n * @ignore\r\n */\r\nexport function blur() {\r\n    if (document.activeElement && document.activeElement != document.body) {\r\n        if (document.activeElement.blur) {\r\n            document.activeElement.blur();\r\n        }\r\n        else {\r\n            var input = document.createElement(\"button\");\r\n            input.style.position = \"fixed\";\r\n            input.style.top = \"0px\";\r\n            input.style.left = \"-10000px\";\r\n            document.body.appendChild(input);\r\n            input.focus();\r\n            input.blur();\r\n            document.body.removeChild(input);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Focuses element.\r\n *\r\n * @ignore\r\n */\r\nexport function focus(el) {\r\n    if (el) {\r\n        el.focus();\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getRendererEvent(key) {\r\n    if (supports(\"pointerevents\")) {\r\n        return key;\r\n    }\r\n    else if (supports(\"touchevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"touchstart\";\r\n            case \"pointerout\": return \"touchend\";\r\n            case \"pointerdown\": return \"touchstart\";\r\n            case \"pointermove\": return \"touchmove\";\r\n            case \"pointerup\": return \"touchend\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    else if (supports(\"mouseevents\")) {\r\n        switch (key) {\r\n            case \"pointerover\": return \"mouseover\";\r\n            case \"pointerout\": return \"mouseout\";\r\n            case \"pointerdown\": return \"mousedown\";\r\n            case \"pointermove\": return \"mousemove\";\r\n            case \"pointerup\": return \"mouseup\";\r\n            case \"click\": return \"click\";\r\n            case \"dblclick\": return \"dblclick\";\r\n        }\r\n    }\r\n    return key;\r\n}\r\n/**\r\n * Determines if pointer event originated from a touch pointer or mouse.\r\n *\r\n * @param ev  Original event\r\n * @return Touch pointer?\r\n */\r\nexport function isTouchEvent(ev) {\r\n    if (typeof Touch !== \"undefined\" && ev instanceof Touch) {\r\n        return true;\r\n    }\r\n    else if (typeof PointerEvent !== \"undefined\" && ev instanceof PointerEvent && ev.pointerType != null) {\r\n        switch (ev.pointerType) {\r\n            case \"touch\":\r\n            case \"pen\":\r\n            case 2:\r\n                return true;\r\n            case \"mouse\":\r\n            case 4:\r\n                return false;\r\n            default:\r\n                return !(ev instanceof MouseEvent);\r\n        }\r\n    }\r\n    else if (ev.type != null) {\r\n        if (ev.type.match(/^mouse/)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Sets style property on DOM element.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport function setStyle(dom, property, value) {\r\n    dom.style[property] = value;\r\n}\r\nexport function getStyle(dom, property) {\r\n    return dom.style[property];\r\n}\r\n/**\r\n * Checks of element `a` contains element `b`.\r\n *\r\n * @param a  Aleged ascendant\r\n * @param b  Aleged descendant\r\n * @return Contains?\r\n */\r\nexport function contains(a, b) {\r\n    var cursor = b;\r\n    while (true) {\r\n        if (a === cursor) {\r\n            return true;\r\n        }\r\n        else if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host == null) {\r\n                return false;\r\n            }\r\n            else {\r\n                cursor = cursor.host;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns `true` if pointer event originated on an element within Root.\r\n *\r\n * @since 5.2.8\r\n * @param  event   Event\r\n * @param  target  Target element\r\n */\r\nexport function isLocalEvent(event, target) {\r\n    return event.target && contains(target.root.dom, event.target);\r\n}\r\n/**\r\n * Disables or enables interactivity of a DOM element.\r\n *\r\n * @param  target       Target element\r\n * @param  interactive  Interactive?\r\n */\r\nexport function setInteractive(target, interactive) {\r\n    if (interactive) {\r\n        target.style.pointerEvents = \"\";\r\n    }\r\n    else {\r\n        target.style.pointerEvents = \"none\";\r\n    }\r\n}\r\n/**\r\n * Returns the shadow root of the element or null\r\n *\r\n * @param a  Node\r\n * @return Root\r\n */\r\nexport function getShadowRoot(a) {\r\n    var cursor = a;\r\n    while (true) {\r\n        if (cursor.parentNode === null) {\r\n            // TODO better ShadowRoot detection\r\n            if (cursor.host != null) {\r\n                return cursor;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            cursor = cursor.parentNode;\r\n        }\r\n    }\r\n}\r\n/**\r\n * [rootStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar rootStylesheet;\r\n/**\r\n * @ignore Exclude from docs\r\n */\r\nfunction createStylesheet(element, text, nonce) {\r\n    if (nonce === void 0) { nonce = \"\"; }\r\n    // TODO use createElementNS ?\r\n    var e = document.createElement(\"style\");\r\n    e.type = \"text/css\";\r\n    if (nonce != \"\") {\r\n        e.setAttribute(\"nonce\", nonce);\r\n    }\r\n    e.textContent = text;\r\n    if (element === null) {\r\n        document.head.appendChild(e);\r\n    }\r\n    else {\r\n        element.appendChild(e);\r\n    }\r\n    return e;\r\n}\r\n/**\r\n * [getStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @return [description]\r\n */\r\nfunction getStylesheet(element, nonce) {\r\n    if (nonce === void 0) { nonce = \"\"; }\r\n    if (element === null) {\r\n        if (rootStylesheet == null) {\r\n            // TODO use createElementNS ?\r\n            var e = document.createElement(\"style\");\r\n            e.type = \"text/css\";\r\n            if (nonce != \"\") {\r\n                e.setAttribute(\"nonce\", nonce);\r\n            }\r\n            document.head.appendChild(e);\r\n            rootStylesheet = e.sheet;\r\n        }\r\n        return rootStylesheet;\r\n    }\r\n    else {\r\n        // TODO use createElementNS ?\r\n        var e = document.createElement(\"style\");\r\n        e.type = \"text/css\";\r\n        if (nonce != \"\") {\r\n            e.setAttribute(\"nonce\", nonce);\r\n        }\r\n        element.appendChild(e);\r\n        return e.sheet;\r\n    }\r\n}\r\n/**\r\n * [makeStylesheet description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param selector  [description]\r\n * @return [description]\r\n */\r\nfunction appendStylesheet(root, selector) {\r\n    var index = root.cssRules.length;\r\n    root.insertRule(selector + \"{}\", index);\r\n    return root.cssRules[index];\r\n}\r\n/**\r\n * Defines a class for a CSS rule.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nvar StyleRule = /** @class */ (function (_super) {\r\n    __extends(StyleRule, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param selector  CSS selector\r\n     * @param styles    An object of style attribute - value pairs\r\n     */\r\n    function StyleRule(element, selector, styles, nonce) {\r\n        if (nonce === void 0) { nonce = \"\"; }\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * CSS rule.\r\n         */\r\n        Object.defineProperty(_this, \"_rule\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this._root = getStylesheet(element, nonce);\r\n        _this._rule = appendStylesheet(_this._root, selector);\r\n        $object.each(styles, function (key, value) {\r\n            _this.setStyle(key, value);\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(StyleRule.prototype, \"selector\", {\r\n        /**\r\n         * @return CSS selector\r\n         */\r\n        get: function () {\r\n            return this._rule.selectorText;\r\n        },\r\n        /**\r\n         * A CSS selector text.\r\n         *\r\n         * E.g.: `.myClass p`\r\n         *\r\n         * @param selector  CSS selector\r\n         */\r\n        set: function (selector) {\r\n            this._rule.selectorText = selector;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    // TODO test this\r\n    Object.defineProperty(StyleRule.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // TODO a bit hacky\r\n            var index = $array.indexOf(this._root.cssRules, this._rule);\r\n            if (index === -1) {\r\n                throw new Error(\"Could not dispose StyleRule\");\r\n            }\r\n            else {\r\n                // TODO if it's empty remove it from the DOM ?\r\n                this._root.deleteRule(index);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Sets the same style properties with browser-specific prefixes.\r\n     *\r\n     * @param name   Attribute name\r\n     * @param value  Attribute value\r\n     */\r\n    Object.defineProperty(StyleRule.prototype, \"_setVendorPrefixName\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, value) {\r\n            var style = this._rule.style;\r\n            style.setProperty(\"-webkit-\" + name, value, \"\");\r\n            style.setProperty(\"-moz-\" + name, value, \"\");\r\n            style.setProperty(\"-ms-\" + name, value, \"\");\r\n            style.setProperty(\"-o-\" + name, value, \"\");\r\n            style.setProperty(name, value, \"\");\r\n        }\r\n    });\r\n    /**\r\n     * Sets a value for specific style attribute.\r\n     *\r\n     * @param name   Attribute\r\n     * @param value  Value\r\n     */\r\n    Object.defineProperty(StyleRule.prototype, \"setStyle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, value) {\r\n            if (name === \"transition\") {\r\n                this._setVendorPrefixName(name, value);\r\n            }\r\n            else {\r\n                this._rule.style.setProperty(name, value, \"\");\r\n            }\r\n        }\r\n    });\r\n    return StyleRule;\r\n}(DisposerClass));\r\nexport { StyleRule };\r\n/**\r\n * Defines a class for an entire CSS style sheet.\r\n *\r\n * Can be used to dynamically add CSS to the document.\r\n */\r\nvar StyleSheet = /** @class */ (function (_super) {\r\n    __extends(StyleSheet, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param text  CSS stylesheet\r\n     */\r\n    function StyleSheet(element, text, nonce) {\r\n        if (nonce === void 0) { nonce = \"\"; }\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this._element = createStylesheet(element, text, nonce);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(StyleSheet.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._element.parentNode) {\r\n                this._element.parentNode.removeChild(this._element);\r\n            }\r\n        }\r\n    });\r\n    return StyleSheet;\r\n}(DisposerClass));\r\nexport { StyleSheet };\r\n/**\r\n * Adds a class name to an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function addClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        var classes = className.split(\" \");\r\n        $array.each(classes, function (name) {\r\n            element.classList.add(name);\r\n        });\r\n    }\r\n    else {\r\n        var currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter(function (item) {\r\n                return item !== className;\r\n            }).join(\" \") + \" \" + className);\r\n        }\r\n        else {\r\n            element.setAttribute(\"class\", className);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Removes a class name from an HTML or SVG element.\r\n *\r\n * @ignore Exclude from docs\r\n * @param element    Element\r\n * @param className  Class name to add\r\n */\r\nexport function removeClass(element, className) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    if (element.classList) {\r\n        element.classList.remove(className);\r\n    }\r\n    else {\r\n        var currentClassName = element.getAttribute(\"class\");\r\n        if (currentClassName) {\r\n            element.setAttribute(\"class\", currentClassName.split(\" \").filter(function (item) {\r\n                return item !== className;\r\n            }).join(\" \"));\r\n        }\r\n    }\r\n}\r\n// /**\r\n//  * Applies a set of styles to an element. Stores the original styles so they\r\n//  * can be restored later.\r\n//  *\r\n//  * @ignore\r\n//  * @param io      Element\r\n//   */\r\n// export function prepElementForDrag(dom: HTMLElement): void {\r\n// \t// @todo: save current values\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"none\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"rgba(0, 0, 0, 0)\");\r\n// }\r\n// /**\r\n//  * Restores replaced styles\r\n//  *\r\n//  * @ignore\r\n//  * @param  io  Element\r\n//  */\r\n// export function unprepElementForDrag(dom: HTMLElement): void {\r\n// \t// Define possible props\r\n// \tlet props = [\r\n// \t\t\"touchAction\", \"webkitTouchAction\", \"MozTouchAction\", \"MSTouchAction\", \"msTouchAction\", \"oTouchAction\",\r\n// \t\t\"userSelect\", \"webkitUserSelect\", \"MozUserSelect\", \"MSUserSelect\", \"msUserSelect\", \"oUserSelect\",\r\n// \t\t\"touchSelect\", \"webkitTouchSelect\", \"MozTouchSelect\", \"MSTouchSelect\", \"msTouchSelect\", \"oTouchSelect\",\r\n// \t\t\"touchCallout\", \"webkitTouchCallout\", \"MozTouchCallout\", \"MSTouchCallout\", \"msTouchCallout\", \"oTouchCallout\",\r\n// \t\t\"contentZooming\", \"webkitContentZooming\", \"MozContentZooming\", \"MSContentZooming\", \"msContentZooming\", \"oContentZooming\",\r\n// \t\t\"userDrag\", \"webkitUserDrag\", \"MozUserDrag\", \"MSUserDrag\", \"msUserDrag\", \"oUserDrag\"\r\n// \t];\r\n// \tfor (let i = 0; i < props.length; i++) {\r\n// \t\tif (props[i] in dom.style) {\r\n// \t\t\tsetStyle(dom, props[i], \"\");\r\n// \t\t}\r\n// \t}\r\n// \t// Remove iOS-specific selection;\r\n// \tsetStyle(dom, \"tapHighlightColor\", \"\");\r\n// }\r\nexport function iOS() {\r\n    return /apple/i.test(navigator.vendor) && \"ontouchend\" in document;\r\n}\r\nexport function getSafeResolution() {\r\n    return iOS() ? 1 : undefined;\r\n}\r\nexport function relativeToValue(percent, full) {\r\n    if ($type.isNumber(percent)) {\r\n        return percent;\r\n    }\r\n    else if (percent != null && $type.isNumber(percent.value) && $type.isNumber(full)) {\r\n        return full * percent.value;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * Returns number of decimals\r\n *\r\n * @ignore Exclude from docs\r\n * @param number  Input number\r\n * @return Number of decimals\r\n */\r\nexport function decimalPlaces(number) {\r\n    var match = ('' + number).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\r\n    if (!match) {\r\n        return 0;\r\n    }\r\n    return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));\r\n}\r\n/**\r\n * ============================================================================\r\n * STRING FORMATTING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Pads a string with additional characters to certain length.\r\n *\r\n * @param value  A numeric value\r\n * @param len    Result string length in characters\r\n * @param char   A character to use for padding\r\n * @return Padded value as string\r\n */\r\nexport function padString(value, len, char) {\r\n    if (len === void 0) { len = 0; }\r\n    if (char === void 0) { char = \"0\"; }\r\n    if (typeof value !== \"string\") {\r\n        value = value.toString();\r\n    }\r\n    return len > value.length ? Array(len - value.length + 1).join(char) + value : value;\r\n}\r\nexport function trimLeft(text) {\r\n    return text.replace(/^[\\s]*/, \"\");\r\n}\r\nexport function trimRight(text) {\r\n    return text.replace(/[\\s]*$/, \"\");\r\n}\r\nexport function trim(text) {\r\n    return trimLeft(trimRight(text));\r\n}\r\n/**\r\n * Tries to determine format type.\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format string\r\n * @return Format type (\"string\" | \"number\" | \"date\" | \"duration\")\r\n */\r\nexport function getFormat(format) {\r\n    // Undefined?\r\n    if (typeof format === \"undefined\") {\r\n        return \"string\";\r\n    }\r\n    // Cleanup and lowercase format\r\n    format = format.toLowerCase().replace(/^\\[[^\\]]*\\]/, \"\");\r\n    // Remove style tags\r\n    format = format.replace(/\\[[^\\]]+\\]/, \"\");\r\n    // Trim\r\n    format = format.trim();\r\n    // Check for any explicit format hints (i.e. /Date)\r\n    var hints = format.match(/\\/(date|number|duration)$/);\r\n    if (hints) {\r\n        return hints[1];\r\n    }\r\n    // Check for explicit hints\r\n    if (format === \"number\") {\r\n        return \"number\";\r\n    }\r\n    if (format === \"date\") {\r\n        return \"date\";\r\n    }\r\n    if (format === \"duration\") {\r\n        return \"duration\";\r\n    }\r\n    // Detect number formatting symbols\r\n    if (format.match(/[#0]/)) {\r\n        return \"number\";\r\n    }\r\n    // Detect date formatting symbols\r\n    if (format.match(/[ymwdhnsqaxkzgtei]/)) {\r\n        return \"date\";\r\n    }\r\n    // Nothing? Let's display as string\r\n    return \"string\";\r\n}\r\n/**\r\n * Cleans up format:\r\n * * Strips out formatter hints\r\n *\r\n * @ignore Exclude from docs\r\n * @param format  Format\r\n * @return Cleaned format\r\n */\r\nexport function cleanFormat(format) {\r\n    return format.replace(/\\/(date|number|duration)$/i, \"\");\r\n}\r\n/**\r\n * Strips all tags from the string.\r\n *\r\n * @param text  Source string\r\n * @return String without tags\r\n */\r\nexport function stripTags(text) {\r\n    return text ? text.replace(/<[^>]*>/g, \"\") : text;\r\n}\r\n/**\r\n * Removes new lines and tags from a string.\r\n *\r\n * @param text  String to conver\r\n * @return Converted string\r\n */\r\nexport function plainText(text) {\r\n    return text ? stripTags((\"\" + text).replace(/[\\n\\r]+/g, \". \")) : text;\r\n}\r\n/**\r\n * Escapes string so it can safely be used in a Regex.\r\n *\r\n * @param value  Unsescaped string\r\n * @return Escaped string\r\n */\r\nexport function escapeForRgex(value) {\r\n    return value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n}\r\n/**\r\n * ============================================================================\r\n * DATE-RELATED FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns a year day.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Year day\r\n * @todo Account for UTC\r\n */\r\nexport function getYearDay(date, utc) {\r\n    if (utc === void 0) { utc = false; }\r\n    // TODO: utc needed?\r\n    utc;\r\n    var start = new Date(date.getFullYear(), 0, 0);\r\n    var diff = (date.getTime() - start.getTime()) + ((start.getTimezoneOffset() - date.getTimezoneOffset()) * 60 * 1000);\r\n    var oneDay = 1000 * 60 * 60 * 24;\r\n    return Math.floor(diff / oneDay);\r\n}\r\n/**\r\n * Returns week number for a given date.\r\n *\r\n * @param date  Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number\r\n * @todo Account for UTC\r\n */\r\nexport function getWeek(date, _utc) {\r\n    if (_utc === void 0) { _utc = false; }\r\n    var d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n    var day = d.getUTCDay() || 7;\r\n    d.setUTCDate(d.getUTCDate() + 4 - day);\r\n    var firstDay = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n    return Math.ceil((((d.getTime() - firstDay.getTime()) / 86400000) + 1) / 7);\r\n}\r\n/**\r\n * Returns a week number in the month.\r\n *\r\n * @param date  Source Date\r\n * @param utc   Assume UTC dates?\r\n * @return Week number in month\r\n */\r\nexport function getMonthWeek(date, utc) {\r\n    if (utc === void 0) { utc = false; }\r\n    var firstWeek = getWeek(new Date(date.getFullYear(), date.getMonth(), 1), utc);\r\n    var currentWeek = getWeek(date, utc);\r\n    if (currentWeek == 1) {\r\n        currentWeek = 53;\r\n    }\r\n    return currentWeek - firstWeek + 1;\r\n}\r\n/**\r\n * Returns a year day out of the given week number.\r\n *\r\n * @param week     Week\r\n * @param year     Year\r\n * @param weekday  Weekday\r\n * @param utc      Assume UTC dates\r\n * @return Day in a year\r\n */\r\nexport function getDayFromWeek(week, year, weekday, utc) {\r\n    if (weekday === void 0) { weekday = 1; }\r\n    if (utc === void 0) { utc = false; }\r\n    var date = new Date(year, 0, 4, 0, 0, 0, 0);\r\n    if (utc) {\r\n        date.setUTCFullYear(year);\r\n    }\r\n    var day = week * 7 + weekday - ((date.getDay() || 7) + 3);\r\n    return day;\r\n}\r\n/**\r\n * Returns 12-hour representation out of the 24-hour hours.\r\n *\r\n * @param hours  24-hour number\r\n * @return 12-hour number\r\n */\r\nexport function get12Hours(hours, base) {\r\n    if (hours > 12) {\r\n        hours -= 12;\r\n    }\r\n    else if (hours === 0) {\r\n        hours = 12;\r\n    }\r\n    return base != null ? hours + (base - 1) : hours;\r\n}\r\n/**\r\n * Returns a string name of the time zone.\r\n *\r\n * @param date     Date object\r\n * @param long     Should return long (\"Pacific Standard Time\") or short abbreviation (\"PST\")\r\n * @param savings  Include information if it's in daylight savings mode\r\n * @param utc      Assume UTC dates\r\n * @return Time zone name\r\n */\r\nexport function getTimeZone(date, long, savings, utc) {\r\n    if (long === void 0) { long = false; }\r\n    if (savings === void 0) { savings = false; }\r\n    if (utc === void 0) { utc = false; }\r\n    if (utc) {\r\n        return long ? \"Coordinated Universal Time\" : \"UTC\";\r\n    }\r\n    var wotz = date.toLocaleString(\"UTC\");\r\n    var wtz = date.toLocaleString(\"UTC\", { timeZoneName: long ? \"long\" : \"short\" }).substr(wotz.length);\r\n    //wtz = wtz.replace(/[+-]+[0-9]+$/, \"\");\r\n    if (savings === false) {\r\n        wtz = wtz.replace(/ (standard|daylight|summer|winter) /i, \" \");\r\n    }\r\n    return wtz;\r\n}\r\nexport function capitalizeFirst(text) {\r\n    return text.charAt(0).toUpperCase() + text.slice(1);\r\n}\r\n/**\r\n * The functions below are taken and adapted from Garry Tan's blog post:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * The further attributions go mjijackson.com, which now seems to be defunct.\r\n */\r\n/**\r\n * Converts an HSL color value to RGB. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes h, s, and l are contained in the set [0, 1] and\r\n * returns r, g, and b in the set [0, 255].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @ignore Exclude from docs\r\n * @param h       The hue\r\n * @param s       The saturation\r\n * @param l       The lightness\r\n * @return The RGB representation\r\n */\r\nexport function hslToRgb(color) {\r\n    var r, g, b;\r\n    var h = color.h;\r\n    var s = color.s;\r\n    var l = color.l;\r\n    if (s == 0) {\r\n        r = g = b = l; // achromatic\r\n    }\r\n    else {\r\n        var hue2rgb = function hue2rgb(p, q, t) {\r\n            if (t < 0) {\r\n                t += 1;\r\n            }\r\n            if (t > 1) {\r\n                t -= 1;\r\n            }\r\n            if (t < 1 / 6) {\r\n                return p + (q - p) * 6 * t;\r\n            }\r\n            if (t < 1 / 2) {\r\n                return q;\r\n            }\r\n            if (t < 2 / 3) {\r\n                return p + (q - p) * (2 / 3 - t) * 6;\r\n            }\r\n            return p;\r\n        };\r\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n        r = hue2rgb(p, q, h + 1 / 3);\r\n        g = hue2rgb(p, q, h);\r\n        b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n    return {\r\n        r: Math.round(r * 255),\r\n        g: Math.round(g * 255),\r\n        b: Math.round(b * 255)\r\n    };\r\n}\r\n/**\r\n * Converts an RGB color value to HSL. Conversion formula\r\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n * Assumes r, g, and b are contained in the set [0, 255] and\r\n * returns h, s, and l in the set [0, 1].\r\n *\r\n * Function adapted from:\r\n * http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n *\r\n * @ignore Exclude from docs\r\n * @param r       The red color value\r\n * @param g       The green color value\r\n * @param b       The blue color value\r\n * @return The HSL representation\r\n */\r\nexport function rgbToHsl(color) {\r\n    var r = color.r / 255;\r\n    var g = color.g / 255;\r\n    var b = color.b / 255;\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var h = 0;\r\n    var s = 0;\r\n    var l = (max + min) / 2;\r\n    if (max === min) {\r\n        h = s = 0; // achromatic\r\n    }\r\n    else {\r\n        var d = max - min;\r\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n        switch (max) {\r\n            case r:\r\n                h = (g - b) / d + (g < b ? 6 : 0);\r\n                break;\r\n            case g:\r\n                h = (b - r) / d + 2;\r\n                break;\r\n            case b:\r\n                h = (r - g) / d + 4;\r\n                break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return {\r\n        h: h,\r\n        s: s,\r\n        l: l\r\n    };\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the reference color.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color    Reference color\r\n * @param percent  Brightness percent\r\n * @return Hex code of the new color\r\n */\r\nexport function lighten(rgb, percent) {\r\n    if (rgb) {\r\n        return {\r\n            r: Math.max(0, Math.min(255, rgb.r + getLightnessStep(rgb.r, percent))),\r\n            g: Math.max(0, Math.min(255, rgb.g + getLightnessStep(rgb.g, percent))),\r\n            b: Math.max(0, Math.min(255, rgb.b + getLightnessStep(rgb.b, percent))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Gets lightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getLightnessStep(value, percent) {\r\n    var base = percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns a color that is `percent` brighter than the source `color`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color    Source color\r\n * @param percent  Brightness percent\r\n * @return New color\r\n */\r\nexport function brighten(rgb, percent) {\r\n    if (rgb) {\r\n        var base = Math.min(Math.max(rgb.r, rgb.g, rgb.b), 230);\r\n        //let base = Math.max(rgb.r, rgb.g, rgb.b);\r\n        var step = getLightnessStep(base, percent);\r\n        return {\r\n            r: Math.max(0, Math.min(255, Math.round(rgb.r + step))),\r\n            g: Math.max(0, Math.min(255, Math.round(rgb.g + step))),\r\n            b: Math.max(0, Math.min(255, Math.round(rgb.b + step))),\r\n            a: rgb.a\r\n        };\r\n    }\r\n    else {\r\n        // TODO is this correct ?\r\n        return rgb;\r\n    }\r\n}\r\n;\r\n/**\r\n * Returns brightness step.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value    Value\r\n * @param percent  Percent\r\n * @return Step\r\n */\r\nexport function getBrightnessStep(_value, percent) {\r\n    var base = 255; //percent > 0 ? 255 - value : value;\r\n    return Math.round(base * percent);\r\n}\r\n/**\r\n * Returns `true` if color is \"light\". Useful indetermining which contrasting\r\n * color to use for elements over this color. E.g.: you would want to use\r\n * black text over light background, and vice versa.\r\n *\r\n * @ignore Exclude from docs\r\n * @param color  Source color\r\n * @return Light?\r\n */\r\nexport function isLight(color) {\r\n    return ((color.r * 299) + (color.g * 587) + (color.b * 114)) / 1000 >= 128;\r\n}\r\n/**\r\n * Returns a new [[iRGB]] object based on `rgb` parameter with specific\r\n * saturation applied.\r\n *\r\n * `saturation` can be in the range of 0 (fully desaturated) to 1 (fully\r\n * saturated).\r\n *\r\n * @ignore Exclude from docs\r\n * @param color       Base color\r\n * @param saturation  Saturation (0-1)\r\n * @return New color\r\n */\r\nexport function saturate(rgb, saturation) {\r\n    if (rgb === undefined || saturation == 1) {\r\n        return rgb;\r\n    }\r\n    var hsl = rgbToHsl(rgb);\r\n    hsl.s = saturation;\r\n    return hslToRgb(hsl);\r\n}\r\nexport function alternativeColor(color, lightAlternative, darkAlternative) {\r\n    if (lightAlternative === void 0) { lightAlternative = { r: 255, g: 255, b: 255 }; }\r\n    if (darkAlternative === void 0) { darkAlternative = { r: 255, g: 255, b: 255 }; }\r\n    var light = lightAlternative;\r\n    var dark = darkAlternative;\r\n    if (isLight(darkAlternative)) {\r\n        light = darkAlternative;\r\n        dark = lightAlternative;\r\n    }\r\n    return isLight(color) ? dark : light;\r\n}\r\n/**\r\n * @ignore\r\n * @deprecated\r\n */\r\n// export function unshiftThemeClass(settings: any, themeClass: string) {\r\n// \tlet themeClasses = settings.themeClasses;\r\n// \tif (!themeClasses) {\r\n// \t\tthemeClasses = [];\r\n// \t}\r\n// \tthemeClasses.unshift(themeClass);\r\n// \tsettings.themeClasses = themeClasses;\r\n// }\r\n/**\r\n * @ignore\r\n * @deprecated\r\n */\r\n// export function pushThemeClass(settings: any, themeClass: string) {\r\n// \tlet themeClasses = settings.themeClasses;\r\n// \tif (!themeClasses) {\r\n// \t\tthemeClasses = [];\r\n// \t}\r\n// \tthemeClasses.push(themeClass);\r\n// \tsettings.themeClasses = themeClasses;\r\n// }\r\n/**\r\n * @ignore\r\n */\r\nexport function mergeTags(tags1, tags2) {\r\n    if (!tags1) {\r\n        tags1 = [];\r\n    }\r\n    return __spreadArray(__spreadArray([], __read(tags1), false), __read(tags2), false).filter(function (value, index, self) {\r\n        return self.indexOf(value) === index;\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function sameBounds(a, b) {\r\n    if (!b) {\r\n        return false;\r\n    }\r\n    if (a.left != b.left) {\r\n        return false;\r\n    }\r\n    if (a.right != b.right) {\r\n        return false;\r\n    }\r\n    if (a.top != b.top) {\r\n        return false;\r\n    }\r\n    if (a.bottom != b.bottom) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n//# sourceMappingURL=Utils.js.map","import * as $array from \"./Array\";\r\nexport function keys(object) {\r\n    return Object.keys(object);\r\n}\r\n/**\r\n * Returns an array of object's property names ordered using specific ordering\r\n * function.\r\n *\r\n * @param object  Source object\r\n * @param order   Ordering function\r\n * @returns Object property names\r\n */\r\nexport function keysOrdered(object, order) {\r\n    return keys(object).sort(order);\r\n}\r\nexport function copy(object) {\r\n    return Object.assign({}, object);\r\n}\r\nexport function each(object, f) {\r\n    keys(object).forEach(function (key) {\r\n        f(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * If return value of the function evaluates to `false` further iteration is\r\n * cancelled.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nexport function eachContinue(object, fn) {\r\n    for (var key in object) {\r\n        if (hasKey(object, key)) {\r\n            if (!fn(key, object[key])) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Orders object properties using custom `ord` function and iterates through\r\n * them calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n * @param order   Ordering function\r\n */\r\nexport function eachOrdered(object, fn, ord) {\r\n    $array.each(keysOrdered(object, ord), function (key) {\r\n        fn(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Checks if `object` has a specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Has key?\r\n */\r\nexport function hasKey(object, key) {\r\n    return {}.hasOwnProperty.call(object, key);\r\n}\r\n/**\r\n * Copies all properties of one object to the other, omitting undefined, but only if property in target object doesn't have a value set.\r\n *\r\n * @param fromObject  Source object\r\n * @param toObject    Target object\r\n * @return Updated target object\r\n * @todo Maybe consolidate with utils.copy?\r\n */\r\nexport function softCopyProperties(source, target) {\r\n    each(source, function (key, value) {\r\n        // only if value is set\r\n        //if ($type.hasValue(value) && !($type.hasValue((<any>target)[key]))) {\r\n        if (value != null && target[key] == null) {\r\n            target[key] = value;\r\n        }\r\n    });\r\n    return target;\r\n}\r\n//# sourceMappingURL=Object.js.map","import { range } from \"./Animation\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * @ignore\r\n */\r\nfunction string2hex(string) {\r\n    //string = cssColorNames[string.toLowerCase()] || string;\r\n    if (string[0] === \"#\") {\r\n        string = string.substr(1);\r\n    }\r\n    if (string.length == 3) {\r\n        string = string[0].repeat(2) + string[1].repeat(2) + string[2].repeat(2);\r\n    }\r\n    return parseInt(string, 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function rgba2hex(color) {\r\n    color = color.replace(/[ ]/g, \"\");\r\n    // Init\r\n    var matches = color.match(/^rgb\\(([0-9]*),([0-9]*),([0-9]*)\\)/i);\r\n    // Try rgb() format\r\n    if (matches) {\r\n        matches.push(\"1\");\r\n    }\r\n    else {\r\n        matches = color.match(/^rgba\\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\\)/i);\r\n        if (!matches) {\r\n            return 0x000000;\r\n        }\r\n    }\r\n    var hex = \"\";\r\n    for (var i = 1; i <= 3; i++) {\r\n        var val = parseInt(matches[i]).toString(16);\r\n        if (val.length == 1) {\r\n            val = \"0\" + val;\r\n        }\r\n        hex += val;\r\n    }\r\n    return string2hex(hex);\r\n}\r\n/**\r\n * Returns a new [[Color]] object base on input.\r\n *\r\n * Accepts parameters in CSS hex or rgb/rtba strings, or hex numbers.\r\n *\r\n * * `\"#f00\"`\r\n * * `\"#ff0000\"`\r\n * * `\"rgb(255, 0, 0)\"`\r\n * * `\"rgba(255, 0, 0, 1)\"`\r\n * * `0xff0000`\r\n *\r\n * @param   input  Input color\r\n * @return         Color\r\n */\r\nexport function color(input) {\r\n    return Color.fromAny(input);\r\n}\r\n/**\r\n * Wherever color needs to be specified in amCharts 5, `Color` object needs to\r\n * be used.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/} for more info\r\n * @important\r\n */\r\nvar Color = /** @class */ (function () {\r\n    function Color(hex) {\r\n        Object.defineProperty(this, \"_hex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._hex = hex | 0;\r\n    }\r\n    Object.defineProperty(Color.prototype, \"hex\", {\r\n        /**\r\n         * Color numeric value.\r\n         */\r\n        get: function () {\r\n            return this._hex;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"r\", {\r\n        /**\r\n         * Value of color's R channel.\r\n         * @return R value\r\n         */\r\n        get: function () {\r\n            return this._hex >>> 16;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"g\", {\r\n        /**\r\n         * Value of color's G channel.\r\n         * @return G value\r\n         */\r\n        get: function () {\r\n            return (this._hex >> 8) & 0xFF;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"b\", {\r\n        /**\r\n         * Value of color's B channel.\r\n         * @return B value\r\n         */\r\n        get: function () {\r\n            return this._hex & 0xFF;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns color CSS representation in form of `rgba(r, g, b, a)` string.\r\n     *\r\n     * @param   alpha  Opacity\r\n     * @return         CSS string\r\n     */\r\n    Object.defineProperty(Color.prototype, \"toCSS\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (alpha) {\r\n            if (alpha === void 0) { alpha = 1; }\r\n            return \"rgba(\" + this.r + \", \" + this.g + \", \" + this.b + \", \" + alpha + \")\";\r\n        }\r\n    });\r\n    /**\r\n     * Returns color CSS representation in form of `#rgb` string.\r\n     *\r\n     * @return         CSS string\r\n     */\r\n    Object.defineProperty(Color.prototype, \"toCSSHex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return \"#\" + $utils.padString(this.r.toString(16), 2) + $utils.padString(this.g.toString(16), 2) + $utils.padString(this.b.toString(16), 2);\r\n        }\r\n    });\r\n    /**\r\n     * Returns color's HSL info.\r\n     * @param   alpha Opacity\r\n     * @return        HSL info\r\n     */\r\n    Object.defineProperty(Color.prototype, \"toHSL\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (alpha) {\r\n            if (alpha === void 0) { alpha = 1; }\r\n            return $utils.rgbToHsl({\r\n                r: this.r,\r\n                g: this.g,\r\n                b: this.b,\r\n                a: alpha\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Converts HSL values into a new [[Color]] object.\r\n     *\r\n     * @param   h H value\r\n     * @param   s S value\r\n     * @param   l L value\r\n     * @return    Color object\r\n     */\r\n    Object.defineProperty(Color, \"fromHSL\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (h, s, l) {\r\n            var rgb = $utils.hslToRgb({\r\n                h: h,\r\n                s: s,\r\n                l: l\r\n            });\r\n            return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n        }\r\n    });\r\n    Object.defineProperty(Color.prototype, \"toString\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.toCSSHex();\r\n        }\r\n    });\r\n    /**\r\n     * Converts hex number into a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromHex(0xff0000) // red\r\n     * ```\r\n     *\r\n     * @param   hex  Hex color\r\n     * @return       Color\r\n     */\r\n    Object.defineProperty(Color, \"fromHex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (hex) {\r\n            return new Color(hex);\r\n        }\r\n    });\r\n    /**\r\n     * Converts RGB values to a new [[Color]] object.\r\n     *\r\n     * @param   r  R value\r\n     * @param   g  G value\r\n     * @param   b  B value\r\n     * @return     Color\r\n     */\r\n    Object.defineProperty(Color, \"fromRGB\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (r, g, b) {\r\n            return new Color((b | 0) + (g << 8) + (r << 16));\r\n        }\r\n    });\r\n    /**\r\n     * Converts RGB string to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromString(\"#ff0000\") // red\r\n     * ```\r\n     *\r\n     * @param   s  RGB string\r\n     * @return     Color\r\n     */\r\n    Object.defineProperty(Color, \"fromString\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (s) {\r\n            return new Color(string2hex(s));\r\n        }\r\n    });\r\n    /**\r\n     * Converts CSS rgba() syntax to a new [[Color]] object.\r\n     *\r\n     * ```TypeScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     * ```JavaScript\r\n     * Color.fromCSS(\"rgba(255, 0, 0, 1)\") // red\r\n     * ```\r\n     *\r\n     * @param  {string} s [description]\r\n     * @return {Color}    [description]\r\n     */\r\n    Object.defineProperty(Color, \"fromCSS\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (s) {\r\n            return new Color(rgba2hex(s));\r\n        }\r\n    });\r\n    /**\r\n     * Convert to color from virtually anything.\r\n     *\r\n     * Will throw an exception if unable to resolve the color.\r\n     *\r\n     * @param   s  Source\r\n     * @return     Color\r\n     */\r\n    Object.defineProperty(Color, \"fromAny\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (s) {\r\n            if ($type.isString(s)) {\r\n                if (s[0] == \"#\") {\r\n                    return Color.fromString(s);\r\n                }\r\n                else if (s.substr(0, 3) == \"rgb\") {\r\n                    return Color.fromCSS(s);\r\n                }\r\n            }\r\n            else if ($type.isNumber(s)) {\r\n                return Color.fromHex(s);\r\n            }\r\n            else if (s instanceof Color) {\r\n                return Color.fromHex(s.hex);\r\n            }\r\n            throw new Error(\"Unknown color syntax: \" + s);\r\n        }\r\n    });\r\n    /**\r\n     * Returns a new [[Color]] object based on either `lightAlternative` or\r\n     * `darkAlternative` depending on which one is more contrasting with\r\n     * the `color`.\r\n     *\r\n     * @param   color             Reference color\r\n     * @param   lightAlternative  Light color\r\n     * @param   darkAlternative   Dark color\r\n     * @return                    Alternative color\r\n     */\r\n    Object.defineProperty(Color, \"alternative\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, lightAlternative, darkAlternative) {\r\n            var rgb = $utils.alternativeColor({ r: color.r, g: color.g, b: color.b }, lightAlternative ? { r: lightAlternative.r, g: lightAlternative.g, b: lightAlternative.b } : undefined, darkAlternative ? { r: darkAlternative.r, g: darkAlternative.g, b: darkAlternative.b } : undefined);\r\n            return this.fromRGB(rgb.r, rgb.g, rgb.b);\r\n        }\r\n    });\r\n    /**\r\n     * Returns an intermediate Color between two reference colors depending on\r\n     * the progress (`diff`) between the two.\r\n     *\r\n     * @param   diff  Progress\r\n     * @param   from  Source color\r\n     * @param   to    Target color\r\n     * @param   mode  Interpolation mode\r\n     * @return        Color\r\n     */\r\n    Object.defineProperty(Color, \"interpolate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (diff, from, to, mode) {\r\n            if (mode === void 0) { mode = \"rgb\"; }\r\n            if (mode == \"hsl\") {\r\n                var fromHSL = from.toHSL();\r\n                var toHSL = to.toHSL();\r\n                return Color.fromHSL(range(diff, fromHSL.h, toHSL.h), range(diff, fromHSL.s, toHSL.s), range(diff, fromHSL.l, toHSL.l));\r\n            }\r\n            else {\r\n                return Color.fromRGB(range(diff, from.r, to.r), range(diff, from.g, to.g), range(diff, from.b, to.b));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns a new [[Color]] lightened by `percent` value.\r\n     *\r\n     * Use negative value to darken the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    Object.defineProperty(Color, \"lighten\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, percent) {\r\n            var rgb = $utils.lighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n            return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n        }\r\n    });\r\n    /**\r\n     * Returns a new [[Color]] brightened by `percent` value.\r\n     *\r\n     * Use negative value to dim the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    Object.defineProperty(Color, \"brighten\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, percent) {\r\n            var rgb = $utils.brighten({ r: color.r, g: color.g, b: color.b }, percent);\r\n            return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n        }\r\n    });\r\n    /**\r\n     * Returns a new [[Color]] saturated by `percent` value.\r\n     *\r\n     * Use negative value to desaturate the color.\r\n     *\r\n     * @param   color    Source color\r\n     * @param   percent  Percent\r\n     * @return           New color\r\n     */\r\n    Object.defineProperty(Color, \"saturate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, percent) {\r\n            var rgb = $utils.saturate({ r: color.r, g: color.g, b: color.b }, percent);\r\n            return Color.fromRGB(rgb.r, rgb.g, rgb.b);\r\n        }\r\n    });\r\n    return Color;\r\n}());\r\nexport { Color };\r\n//# sourceMappingURL=Color.js.map","import { __awaiter, __generator } from \"tslib\";\r\nimport { Percent } from \"./Percent\";\r\nimport { Color } from \"./Color\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $object from \"./Object\";\r\n/**\r\n * @ignore\r\n */\r\nexport function waitForAnimations(animations) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var promises_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!(animations !== undefined)) return [3 /*break*/, 2];\r\n                    promises_1 = [];\r\n                    $object.each(animations, function (_, animation) {\r\n                        promises_1.push(animation.waitForStop());\r\n                    });\r\n                    return [4 /*yield*/, Promise.all(promises_1)];\r\n                case 1:\r\n                    _a.sent();\r\n                    _a.label = 2;\r\n                case 2: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function normalize(value, min, max) {\r\n    if (min === max) {\r\n        return 0;\r\n    }\r\n    else {\r\n        return Math.min(Math.max((value - min) * (1 / (max - min)), 0), 1);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function range(diff, from, to) {\r\n    return from + (diff * (to - from));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function defaultInterpolate(diff, from, to) {\r\n    if (diff >= 1) {\r\n        return to;\r\n    }\r\n    else {\r\n        return from;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function percentInterpolate(diff, from, to) {\r\n    return new Percent(range(diff, from.percent, to.percent));\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function colorInterpolate(diff, from, to) {\r\n    return Color.interpolate(diff, from, to);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getInterpolate(from, to) {\r\n    if (typeof from === \"number\" && typeof to === \"number\") {\r\n        return range;\r\n    }\r\n    if (from instanceof Percent && to instanceof Percent) {\r\n        return percentInterpolate;\r\n    }\r\n    if (from instanceof Color && to instanceof Color) {\r\n        return colorInterpolate;\r\n    }\r\n    return defaultInterpolate;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nvar AnimationTime = /** @class */ (function () {\r\n    function AnimationTime(entity, duration) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_playingDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_startingTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_current\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n        this._duration = duration;\r\n    }\r\n    Object.defineProperty(AnimationTime.prototype, \"_stopEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var type = \"stopped\";\r\n            if (this.events.isEnabled(type)) {\r\n                this.events.dispatch(type, { type: type, target: this });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"_runAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            if (this._playingDuration !== null) {\r\n                if (this._startingTime === null) {\r\n                    this._startingTime = currentTime;\r\n                    return false;\r\n                }\r\n                else {\r\n                    var diff = (currentTime - this._startingTime) / this._playingDuration;\r\n                    if (diff >= 1) {\r\n                        this._playingDuration = null;\r\n                        this._startingTime = null;\r\n                        this._from = this._to;\r\n                        this._current = this._to;\r\n                        this._entity.markDirty();\r\n                        this._stopEvent();\r\n                        var type = \"ended\";\r\n                        if (this.events.isEnabled(type)) {\r\n                            this.events.dispatch(type, { type: type, target: this });\r\n                        }\r\n                        return true;\r\n                    }\r\n                    else {\r\n                        this._current = range(diff, this._from, this._to);\r\n                        this._entity.markDirty();\r\n                        var type = \"progress\";\r\n                        if (this.events.isEnabled(type)) {\r\n                            this.events.dispatch(type, { type: type, target: this, progress: diff });\r\n                        }\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"_play\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._from = this._current;\r\n            if (this._playingDuration === null) {\r\n                this._entity._root._addAnimation(this);\r\n                var type = \"started\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this });\r\n                }\r\n            }\r\n            else {\r\n                this._startingTime = null;\r\n            }\r\n            this._playingDuration = Math.abs(this._to - this._from) * this._duration;\r\n        }\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"duration\", {\r\n        get: function () {\r\n            return this._duration;\r\n        },\r\n        set: function (value) {\r\n            if (this._duration !== value) {\r\n                this._duration = value;\r\n                if (value === 0) {\r\n                    this.jumpTo(this._to);\r\n                }\r\n                else if (this._current !== this._to) {\r\n                    this._play();\r\n                }\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"current\", {\r\n        get: function () {\r\n            if (this.easing) {\r\n                return this.easing(this._current);\r\n            }\r\n            else {\r\n                return this._current;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"stop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.jumpTo(this._current);\r\n        }\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"jumpTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            if (this._current !== value) {\r\n                this._entity.markDirty();\r\n            }\r\n            if (this._playingDuration !== null) {\r\n                this._stopEvent();\r\n            }\r\n            this._playingDuration = null;\r\n            this._startingTime = null;\r\n            this._current = value;\r\n            this._from = value;\r\n            this._to = value;\r\n        }\r\n    });\r\n    Object.defineProperty(AnimationTime.prototype, \"tweenTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            if (this._current === value || this._duration === 0) {\r\n                this.jumpTo(value);\r\n            }\r\n            else {\r\n                if (this._to !== value) {\r\n                    this._to = value;\r\n                    this._play();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return AnimationTime;\r\n}());\r\nexport { AnimationTime };\r\n/*export class AnimationValue extends AnimationTime {\r\n    public _min: number;\r\n    public _max: number;\r\n\r\n    constructor(entity: Entity, duration: number, min: number, max: number) {\r\n        super(entity, duration);\r\n        this._min = min;\r\n        this._max = max;\r\n    }\r\n\r\n    public get min(): number {\r\n        return this._min;\r\n    }\r\n\r\n    public set min(value: number) {\r\n        if (this._min !== value) {\r\n            this._min = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public get max(): number {\r\n        return this._max;\r\n    }\r\n\r\n    public set max(value: number) {\r\n        if (this._max !== value) {\r\n            this._max = value;\r\n            this._entity.markDirty();\r\n        }\r\n    }\r\n\r\n    public currentValue(): number {\r\n        return range(super.currentTime(), this._min, this._max);\r\n    }\r\n\r\n    public jumpToValue(value: number) {\r\n        super.jumpToTime(normalize(value, this._min, this._max));\r\n    }\r\n\r\n    public tweenToValue(value: number) {\r\n        super.tweenToTime(normalize(value, this._min, this._max));\r\n    }\r\n}\r\n*/\r\n//# sourceMappingURL=Animation.js.map","/**\r\n * A collection of easing functions\r\n *\r\n * Parts of this collection are taken from D3.js library (https://d3js.org/)\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $math from \"./Math\";\r\n/**\r\n * The functions below are from D3.js library (https://d3js.org/)\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Copyright 2017 Mike Bostock\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer.\r\n *\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *\tthis list of conditions and the following disclaimer in the documentation\r\n *\tand/or other materials provided with the distribution.\r\n *\r\n * 3. Neither the name of the copyright holder nor the names of its\r\n *\tcontributors may be used to endorse or promote products derived from this\r\n *\tsoftware without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n * ----------------------------------------------------------------------------\r\n * @hidden\r\n */\r\n/**\r\n */\r\nexport function linear(t) {\r\n    return t;\r\n}\r\nexport function quad(t) {\r\n    return t * t;\r\n}\r\nexport function cubic(t) {\r\n    return t * t * t;\r\n}\r\nexport function pow(t, e) {\r\n    return Math.pow(t, e);\r\n}\r\nexport function exp(t) {\r\n    return Math.pow(2, 10 * t - 10);\r\n}\r\nexport function sine(t) {\r\n    return 1 - Math.cos(t * $math.HALFPI);\r\n}\r\nexport function circle(t) {\r\n    return 1 - Math.sqrt(1 - t * t);\r\n}\r\n/**\r\n * ============================================================================\r\n * TRANSFORMERS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n */\r\nexport function yoyo(ease) {\r\n    return function (t) {\r\n        if (t < 0.5) {\r\n            return ease(t * 2.0);\r\n        }\r\n        else {\r\n            return ease((1.0 - t) * 2.0);\r\n        }\r\n    };\r\n}\r\nexport function out(ease) {\r\n    return function (t) {\r\n        return 1.0 - ease(1.0 - t);\r\n    };\r\n}\r\nexport function inOut(ease) {\r\n    return function (t) {\r\n        if (t <= 0.5) {\r\n            return ease(t * 2.0) / 2.0;\r\n        }\r\n        else {\r\n            return 1.0 - (ease((1.0 - t) * 2.0) / 2.0);\r\n        }\r\n    };\r\n}\r\n/**\r\n * ============================================================================\r\n * BOUNCE\r\n * ============================================================================\r\n * @hidden\r\n */\r\nvar b1 = 4 / 11, b2 = 6 / 11, b3 = 8 / 11, b4 = 3 / 4, b5 = 9 / 11, b6 = 10 / 11, b7 = 15 / 16, b8 = 21 / 22, b9 = 63 / 64, b0 = 1 / b1 / b1;\r\nexport function bounce(t) {\r\n    return 1 - bounceOut(1 - t);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction bounceOut(t) {\r\n    t = t;\r\n    if (t < b1) {\r\n        return b0 * t * t;\r\n    }\r\n    else if (t < b3) {\r\n        return b0 * (t -= b2) * t + b4;\r\n    }\r\n    else if (t < b6) {\r\n        return b0 * (t -= b5) * t + b7;\r\n    }\r\n    else {\r\n        return b0 * (t -= b8) * t + b9;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * ELASTIC\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar tau = 2 * Math.PI;\r\n/**\r\n * @ignore\r\n */\r\nvar amplitude = 1;\r\n/**\r\n * @ignore\r\n */\r\nvar period = 0.3 / tau;\r\n/**\r\n * @ignore\r\n */\r\nvar s = Math.asin(1 / amplitude) * period;\r\nexport function elastic(t) {\r\n    var v = t;\r\n    return amplitude * Math.pow(2, 10 * --v) * Math.sin((s - v) / period);\r\n}\r\n//# sourceMappingURL=Ease.js.map","import * as $object from \"./Object\";\r\nimport * as $ease from \"./Ease\";\r\n/**\r\n * An object representing a collection of setting values to apply as required.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nvar State = /** @class */ (function () {\r\n    function State(entity, settings) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_userSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n        this._settings = settings;\r\n    }\r\n    Object.defineProperty(State.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._settings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(State.prototype, \"setRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._settings[key] = value;\r\n        }\r\n    });\r\n    /**\r\n     * Sets a setting `value` for the specified `key` to be set when the state\r\n     * is applied.\r\n     *\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    Object.defineProperty(State.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._userSettings[key] = true;\r\n            this.setRaw(key, value);\r\n        }\r\n    });\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    Object.defineProperty(State.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            delete this._userSettings[key];\r\n            delete this._settings[key];\r\n        }\r\n    });\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    Object.defineProperty(State.prototype, \"setAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (settings) {\r\n            var _this = this;\r\n            $object.keys(settings).forEach(function (key) {\r\n                _this.set(key, settings[key]);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(State.prototype, \"_eachSetting\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            $object.each(this._settings, f);\r\n        }\r\n    });\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * All setting values are set immediately.\r\n     */\r\n    Object.defineProperty(State.prototype, \"apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var seen = {};\r\n            seen[\"stateAnimationEasing\"] = true;\r\n            seen[\"stateAnimationDuration\"] = true;\r\n            var defaultState = this._entity.states.lookup(\"default\");\r\n            this._eachSetting(function (key, value) {\r\n                if (!seen[key]) {\r\n                    seen[key] = true;\r\n                    // save values to default state\r\n                    if (_this !== defaultState) {\r\n                        if (!(key in defaultState._settings)) {\r\n                            defaultState._settings[key] = _this._entity.get(key);\r\n                        }\r\n                    }\r\n                    _this._entity.set(key, value);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Applies the state to the target element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @return           Animations\r\n     */\r\n    Object.defineProperty(State.prototype, \"applyAnimate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            var _this = this;\r\n            if (duration == null) {\r\n                duration = this._settings.stateAnimationDuration;\r\n            }\r\n            if (duration == null) {\r\n                duration = this.get(\"stateAnimationDuration\", this._entity.get(\"stateAnimationDuration\", 0));\r\n            }\r\n            var easing = this._settings.stateAnimationEasing;\r\n            if (easing == null) {\r\n                easing = this.get(\"stateAnimationEasing\", this._entity.get(\"stateAnimationEasing\", $ease.cubic));\r\n            }\r\n            var defaultState = this._entity.states.lookup(\"default\");\r\n            var seen = {};\r\n            seen[\"stateAnimationEasing\"] = true;\r\n            seen[\"stateAnimationDuration\"] = true;\r\n            var animations = {};\r\n            this._eachSetting(function (key, value) {\r\n                if (!seen[key]) {\r\n                    seen[key] = true;\r\n                    // save values to default state\r\n                    if (_this != defaultState) {\r\n                        if (!(key in defaultState._settings)) {\r\n                            defaultState._settings[key] = _this._entity.get(key);\r\n                        }\r\n                    }\r\n                    var animation = _this._entity.animate({\r\n                        key: key,\r\n                        to: value,\r\n                        duration: duration,\r\n                        easing: easing\r\n                    });\r\n                    if (animation) {\r\n                        animations[key] = animation;\r\n                    }\r\n                }\r\n            });\r\n            return animations;\r\n        }\r\n    });\r\n    return State;\r\n}());\r\nexport { State };\r\n/**\r\n * Collection of [[State]] objects for an element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/states/} for more info\r\n */\r\nvar States = /** @class */ (function () {\r\n    function States(entity) {\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Checks if a state by `name` exists. Returns it there is one.\r\n     *\r\n     * @param  name  State name\r\n     * @return       State\r\n     */\r\n    Object.defineProperty(States.prototype, \"lookup\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            return this._states[name];\r\n        }\r\n    });\r\n    /**\r\n     * Sets supplied `settings` on a state by the `name`.\r\n     *\r\n     * If such state does not yet exists, it is created.\r\n     *\r\n     * @param   name      State name\r\n     * @param   settings  Settings\r\n     * @return            New State\r\n     */\r\n    Object.defineProperty(States.prototype, \"create\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, settings) {\r\n            var state = this._states[name];\r\n            if (state) {\r\n                state.setAll(settings);\r\n                return state;\r\n            }\r\n            else {\r\n                var state_1 = new State(this._entity, settings);\r\n                this._states[name] = state_1;\r\n                return state_1;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Removes the state called `name`.\r\n     *\r\n     * @param   name      State name\r\n     */\r\n    Object.defineProperty(States.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            delete this._states[name];\r\n        }\r\n    });\r\n    /**\r\n     * Applies a named state to the target element.\r\n     *\r\n     * @param  newState  State name\r\n     */\r\n    Object.defineProperty(States.prototype, \"apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (newState) {\r\n            var state = this._states[newState];\r\n            if (state) {\r\n                state.apply();\r\n            }\r\n            this._entity._applyState(newState);\r\n        }\r\n    });\r\n    /**\r\n     * Applies a named state to the element.\r\n     *\r\n     * Returns an object representing all [[Animation]] objects created for\r\n     * each setting key transition.\r\n     *\r\n     * @param   newState  State name\r\n     * @return            Animations\r\n     */\r\n    Object.defineProperty(States.prototype, \"applyAnimate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (newState, duration) {\r\n            var animations;\r\n            var state = this._states[newState];\r\n            if (state) {\r\n                animations = state.applyAnimate(duration);\r\n            }\r\n            this._entity._applyStateAnimated(newState, duration);\r\n            return animations;\r\n        }\r\n    });\r\n    return States;\r\n}());\r\nexport { States };\r\n//# sourceMappingURL=States.js.map","/**\r\n * @ignore\r\n */\r\nvar Registry = /** @class */ (function () {\r\n    function Registry() {\r\n        /**\r\n         * List of applied licenses.\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"licenses\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * Entities that have their `id` setting set.\r\n         */\r\n        Object.defineProperty(this, \"entitiesById\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        /**\r\n         * All created [[Root]] elements.\r\n         */\r\n        Object.defineProperty(this, \"rootElements\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    return Registry;\r\n}());\r\nexport { Registry };\r\n/**\r\n    * @ignore\r\n */\r\nexport var registry = new Registry();\r\n/**\r\n * Adds a license, e.g.:\r\n *\r\n * ```TypeScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n * ```JavaScript\r\n * am5.addLicense(\"xxxxxxxx\");\r\n * ```\r\n *\r\n * Multiple licenses can be added to cover for multiple products.\r\n *\r\n * @param  license  License key\r\n */\r\nexport function addLicense(license) {\r\n    registry.licenses.push(license);\r\n}\r\n/**\r\n * Disposes all [[Root]] elements.\r\n */\r\nexport function disposeAllRootElements() {\r\n    var root;\r\n    while (root = registry.rootElements.pop()) {\r\n        root.dispose();\r\n    }\r\n}\r\n//# sourceMappingURL=Registry.js.map","/**\r\n * @ignore\r\n */\r\nexport function compare(left, right) {\r\n    if (left === right) {\r\n        return 0;\r\n    }\r\n    else if (left < right) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function compareArray(left, right, f) {\r\n    var leftLength = left.length;\r\n    var rightLength = right.length;\r\n    var length = Math.min(leftLength, rightLength);\r\n    for (var i = 0; i < length; ++i) {\r\n        var order = f(left[i], right[i]);\r\n        if (order !== 0) {\r\n            return order;\r\n        }\r\n    }\r\n    return compare(leftLength, rightLength);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function reverse(order) {\r\n    if (order < 0) {\r\n        return 1;\r\n    }\r\n    else if (order > 0) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function compareNumber(a, b) {\r\n    if (a === b) {\r\n        return 0;\r\n    }\r\n    else if (a < b) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n//# sourceMappingURL=Order.js.map","import { __extends, __read, __spreadArray } from \"tslib\";\r\nimport { Disposer } from \"./Disposer\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport { getInterpolate } from \"./Animation\";\r\nimport { States } from \"./States\";\r\nimport { registry } from \"../Registry\";\r\nimport * as $object from \"./Object\";\r\nimport * as $ease from \"./Ease\";\r\nimport * as $array from \"./Array\";\r\nimport * as $order from \"./Order\";\r\n/**\r\n * Allows to dynamically modify setting value of its target element.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n */\r\nvar Adapters = /** @class */ (function () {\r\n    function Adapters(entity) {\r\n        Object.defineProperty(this, \"_entity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_disabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._entity = entity;\r\n    }\r\n    /**\r\n     * Add a function (`callback`) that will modify value for setting `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/adapters/} for more info\r\n     */\r\n    Object.defineProperty(Adapters.prototype, \"add\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var callbacks = this._callbacks[key];\r\n            if (callbacks === undefined) {\r\n                callbacks = this._callbacks[key] = [];\r\n            }\r\n            callbacks.push(callback);\r\n            this._entity._markDirtyKey(key);\r\n            return new Disposer(function () {\r\n                if ($array.removeFirst(callbacks, callback)) {\r\n                    _this._entity._markDirtyKey(key);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Removes all adapters for the specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    Object.defineProperty(Adapters.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var callbacks = this._callbacks[key];\r\n            if (callbacks !== undefined) {\r\n                delete this._callbacks[key];\r\n                if (callbacks.length !== 0) {\r\n                    this._entity._markDirtyKey(key);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Enables (previously disabled) adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    Object.defineProperty(Adapters.prototype, \"enable\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (this._disabled[key]) {\r\n                delete this._disabled[key];\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Disables all adapters for specific key.\r\n     *\r\n     * @since 5.1.0\r\n     */\r\n    Object.defineProperty(Adapters.prototype, \"disable\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (!this._disabled[key]) {\r\n                this._disabled[key] = true;\r\n                this._entity._markDirtyKey(key);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Adapters.prototype, \"fold\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            if (!this._disabled[key]) {\r\n                var callbacks = this._callbacks[key];\r\n                if (callbacks !== undefined) {\r\n                    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n                        value = callbacks[i](value, this._entity, key);\r\n                    }\r\n                }\r\n            }\r\n            return value;\r\n        }\r\n    });\r\n    return Adapters;\r\n}());\r\nexport { Adapters };\r\n/**\r\n * Animation object.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/} for more info\r\n */\r\nvar Animation = /** @class */ (function () {\r\n    function Animation(from, to, duration, easing, loops, startingTime) {\r\n        Object.defineProperty(this, \"_from\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_to\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_duration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_easing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_loops\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_interpolate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_oldTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_time\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_stopped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_playing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        this._from = from;\r\n        this._to = to;\r\n        this._duration = duration;\r\n        this._easing = easing;\r\n        this._loops = loops;\r\n        this._interpolate = getInterpolate(from, to);\r\n        this._oldTime = startingTime;\r\n    }\r\n    Object.defineProperty(Animation.prototype, \"to\", {\r\n        get: function () {\r\n            return this._to;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"from\", {\r\n        get: function () {\r\n            return this._from;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"playing\", {\r\n        get: function () {\r\n            return this._playing;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"stopped\", {\r\n        get: function () {\r\n            return this._stopped;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"stop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._stopped) {\r\n                this._stopped = true;\r\n                this._playing = false;\r\n                if (this.events.isEnabled(\"stopped\")) {\r\n                    this.events.dispatch(\"stopped\", {\r\n                        type: \"stopped\",\r\n                        target: this,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"pause\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._playing = false;\r\n            this._oldTime = null;\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"play\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._stopped) {\r\n                this._playing = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"percentage\", {\r\n        get: function () {\r\n            return this._time / this._duration;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"waitForStop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            return new Promise(function (resolve, _reject) {\r\n                if (_this._stopped) {\r\n                    resolve();\r\n                }\r\n                else {\r\n                    var listener = function () {\r\n                        stopped_1.dispose();\r\n                        resolve();\r\n                    };\r\n                    var stopped_1 = _this.events.on(\"stopped\", listener);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"_checkEnded\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._loops > 1) {\r\n                --this._loops;\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"_run\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            if (this._oldTime !== null) {\r\n                this._time += currentTime - this._oldTime;\r\n                if (this._time > this._duration) {\r\n                    this._time = this._duration;\r\n                }\r\n            }\r\n            this._oldTime = currentTime;\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"_reset\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            this._oldTime = currentTime;\r\n            this._time = 0;\r\n        }\r\n    });\r\n    Object.defineProperty(Animation.prototype, \"_value\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (diff) {\r\n            return this._interpolate(this._easing(diff), this._from, this._to);\r\n        }\r\n    });\r\n    return Animation;\r\n}());\r\nexport { Animation };\r\n/**\r\n * @ignore\r\n */\r\nvar counter = 0;\r\n/**\r\n * Base class for [[Entity]] objects that support Settings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n */\r\nvar Settings = /** @class */ (function () {\r\n    function Settings(settings) {\r\n        /**\r\n         * Unique ID.\r\n         */\r\n        Object.defineProperty(this, \"uid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: ++counter\r\n        });\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_prevPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingPrivateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_animatingCount\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO move this into Entity\r\n        Object.defineProperty(this, \"_userProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._settings = settings;\r\n    }\r\n    Object.defineProperty(Settings.prototype, \"_checkDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $object.keys(this._settings).forEach(function (key) {\r\n                _this._userProperties[key] = true;\r\n                _this._markDirtyKey(key);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_runAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            var _this = this;\r\n            if (!this.isDisposed()) {\r\n                $object.each(this._animatingSettings, function (key, animation) {\r\n                    if (animation._stopped) {\r\n                        _this._stopAnimation(key);\r\n                    }\r\n                    else if (animation._playing) {\r\n                        animation._run(currentTime);\r\n                        var diff = animation.percentage;\r\n                        if (diff >= 1) {\r\n                            if (animation._checkEnded()) {\r\n                                _this.set(key, animation._value(1));\r\n                            }\r\n                            else {\r\n                                animation._reset(currentTime);\r\n                                _this._set(key, animation._value(1));\r\n                            }\r\n                        }\r\n                        else {\r\n                            _this._set(key, animation._value(diff));\r\n                        }\r\n                    }\r\n                });\r\n                $object.each(this._animatingPrivateSettings, function (key, animation) {\r\n                    if (animation._stopped) {\r\n                        _this._stopAnimationPrivate(key);\r\n                    }\r\n                    else if (animation._playing) {\r\n                        animation._run(currentTime);\r\n                        var diff = animation.percentage;\r\n                        if (diff >= 1) {\r\n                            if (animation._checkEnded()) {\r\n                                _this.setPrivate(key, animation._value(1));\r\n                            }\r\n                            else {\r\n                                animation._reset(currentTime);\r\n                                _this._setPrivate(key, animation._value(1));\r\n                            }\r\n                        }\r\n                        else {\r\n                            _this._setPrivate(key, animation._value(diff));\r\n                        }\r\n                    }\r\n                });\r\n                if (this._animatingCount < 0) {\r\n                    throw new Error(\"Invalid animation count\");\r\n                }\r\n                return this._animatingCount === 0;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_markDirtyKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_key) {\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_markDirtyPrivateKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_key) {\r\n            this.markDirty();\r\n        }\r\n    });\r\n    /**\r\n     * Sets a callback function to invoke when specific key of settings changes\r\n     * or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @param   key       Settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var events = this._settingEvents[key];\r\n            if (events === undefined) {\r\n                events = this._settingEvents[key] = [];\r\n            }\r\n            events.push(callback);\r\n            return new Disposer(function () {\r\n                $array.removeFirst(events, callback);\r\n                if (events.length === 0) {\r\n                    delete _this._settingEvents[key];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Sets a callback function to invoke when specific key of private settings\r\n     * changes or is set.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/#Settings_value_change} for more info\r\n     * @ignore\r\n     * @param   key       Private settings key\r\n     * @param   callback  Callback\r\n     * @return            Disposer for event\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"onPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var events = this._privateSettingEvents[key];\r\n            if (events === undefined) {\r\n                events = this._privateSettingEvents[key] = [];\r\n            }\r\n            events.push(callback);\r\n            return new Disposer(function () {\r\n                $array.removeFirst(events, callback);\r\n                if (events.length === 0) {\r\n                    delete _this._privateSettingEvents[key];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"getRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._settings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            return this.getRaw(key, fallback);\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_sendKeyEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var _this = this;\r\n            var events = this._settingEvents[key];\r\n            if (events !== undefined) {\r\n                $array.each(events, function (callback) {\r\n                    callback(value, _this, key);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_sendPrivateKeyEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var _this = this;\r\n            var events = this._privateSettingEvents[key];\r\n            if (events !== undefined) {\r\n                $array.each(events, function (callback) {\r\n                    callback(value, _this, key);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"_setRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, old, value) {\r\n            this._prevSettings[key] = old;\r\n            this._sendKeyEvent(key, value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"setRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var old = this._settings[key];\r\n            this._settings[key] = value;\r\n            if (old !== value) {\r\n                this._setRaw(key, old, value);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"_set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var old = this._settings[key];\r\n            this._settings[key] = value;\r\n            if (old !== value) {\r\n                this._setRaw(key, old, value);\r\n                this._markDirtyKey(key);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_stopAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var animation = this._animatingSettings[key];\r\n            if (animation) {\r\n                delete this._animatingSettings[key];\r\n                --this._animatingCount;\r\n                animation.stop();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._set(key, value);\r\n            this._stopAnimation(key);\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Removes a setting value for the specified `key`;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (key in this._settings) {\r\n                this._prevSettings[key] = this._settings[key];\r\n                delete this._settings[key];\r\n                this._sendKeyEvent(key, undefined);\r\n                this._markDirtyKey(key);\r\n            }\r\n            this._stopAnimation(key);\r\n        }\r\n    });\r\n    /**\r\n     * Removes all keys;\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"removeAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $array.each($object.keys(this._settings), function (key) {\r\n                _this.remove(key);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Returns a value of a private setting.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/#Private_settings} for more info\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"getPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._privateSettings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"_setPrivateRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, old, value) {\r\n            this._prevPrivateSettings[key] = old;\r\n            this._sendPrivateKeyEvent(key, value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"setPrivateRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var old = this._privateSettings[key];\r\n            this._privateSettings[key] = value;\r\n            if (old !== value) {\r\n                this._setPrivateRaw(key, old, value);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"_setPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var old = this._privateSettings[key];\r\n            this._privateSettings[key] = value;\r\n            if (old !== value) {\r\n                this._setPrivateRaw(key, old, value);\r\n                this._markDirtyPrivateKey(key);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_stopAnimationPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var animation = this._animatingPrivateSettings[key];\r\n            if (animation) {\r\n                animation.stop();\r\n                delete this._animatingPrivateSettings[key];\r\n                --this._animatingCount;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"setPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._setPrivate(key, value);\r\n            this._stopAnimationPrivate(key);\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"removePrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (key in this._privateSettings) {\r\n                this._prevPrivateSettings[key] = this._privateSettings[key];\r\n                delete this._privateSettings[key];\r\n                this._markDirtyPrivateKey(key);\r\n            }\r\n            this._stopAnimationPrivate(key);\r\n        }\r\n    });\r\n    /**\r\n     * Sets multiple settings at once.\r\n     *\r\n     * `settings` must be an object with key: value pairs.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param settings Settings\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"setAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (settings) {\r\n            var _this = this;\r\n            $object.each(settings, function (key, value) {\r\n                _this.set(key, value);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Animates setting values from current/start values to new ones.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animating_settings} for more info\r\n     * @param   options  Animation options\r\n     * @return           Animation object\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"animate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (options) {\r\n            var key = options.key;\r\n            var to = options.to;\r\n            var duration = options.duration || 0;\r\n            var loops = options.loops || 1;\r\n            var from = (options.from === undefined ? this.get(key) : options.from);\r\n            var easing = (options.easing === undefined ? $ease.linear : options.easing);\r\n            if (duration === 0) {\r\n                this.set(key, to);\r\n            }\r\n            else {\r\n                if (from === undefined || from === to) {\r\n                    this.set(key, to);\r\n                }\r\n                else {\r\n                    ++this._animatingCount;\r\n                    this.set(key, from);\r\n                    var animation_1 = this._animatingSettings[key] = new Animation(from, to, duration, easing, loops, this._animationTime());\r\n                    this._startAnimation();\r\n                    return animation_1;\r\n                }\r\n            }\r\n            var animation = new Animation(from, to, duration, easing, loops, null);\r\n            animation.stop();\r\n            return animation;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"animatePrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (options) {\r\n            var key = options.key;\r\n            var to = options.to;\r\n            var duration = options.duration || 0;\r\n            var loops = options.loops || 1;\r\n            var from = (options.from === undefined ? this.getPrivate(key) : options.from);\r\n            var easing = (options.easing === undefined ? $ease.linear : options.easing);\r\n            if (duration === 0) {\r\n                this.setPrivate(key, to);\r\n            }\r\n            else {\r\n                if (from === undefined || from === to) {\r\n                    this.setPrivate(key, to);\r\n                }\r\n                else {\r\n                    ++this._animatingCount;\r\n                    this.setPrivate(key, from);\r\n                    var animation_2 = this._animatingPrivateSettings[key] = new Animation(from, to, duration, easing, loops, this._animationTime());\r\n                    this._startAnimation();\r\n                    return animation_2;\r\n                }\r\n            }\r\n            var animation = new Animation(from, to, duration, easing, loops, null);\r\n            animation.stop();\r\n            return animation;\r\n        }\r\n    });\r\n    Object.defineProperty(Settings.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is disposed.\r\n     *\r\n     * @return Disposed\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    /**\r\n     * Disposes this object.\r\n     */\r\n    Object.defineProperty(Settings.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                this._dispose();\r\n            }\r\n        }\r\n    });\r\n    return Settings;\r\n}());\r\nexport { Settings };\r\n/**\r\n * Base class.\r\n *\r\n * @important\r\n */\r\nvar Entity = /** @class */ (function (_super) {\r\n    __extends(Entity, _super);\r\n    /**\r\n     * IMPORTANT! Do not instantiate this class via `new Class()` syntax.\r\n     *\r\n     * Use static method `Class.new()` instead.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @ignore\r\n     */\r\n    function Entity(root, settings, isReal, templates) {\r\n        if (templates === void 0) { templates = []; }\r\n        var _this = _super.call(this, settings) || this;\r\n        Object.defineProperty(_this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_user_id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        }); // for testing purposes\r\n        Object.defineProperty(_this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new States(_this)\r\n        });\r\n        Object.defineProperty(_this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Adapters(_this)\r\n        });\r\n        Object.defineProperty(_this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._createEvents()\r\n        });\r\n        Object.defineProperty(_this, \"_userPrivateProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_dirtyPrivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Templates for the themes\r\n        Object.defineProperty(_this, \"_templates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Internal templates which can be overridden by the user's templates\r\n        Object.defineProperty(_this, \"_internalTemplates\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Default themes which can be overridden by the user's themes\r\n        Object.defineProperty(_this, \"_defaultThemes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Disposers for all of the templates\r\n        Object.defineProperty(_this, \"_templateDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        // Whether the template setup function should be run\r\n        Object.defineProperty(_this, \"_runSetup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"_disposerProperties\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        _this._root = root;\r\n        _this._internalTemplates = templates;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    Object.defineProperty(Entity, \"new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (root, settings, template) {\r\n            var x = (new this(root, settings, true));\r\n            x._template = template;\r\n            x._afterNew();\r\n            return x;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity, \"_new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (root, settings, templates) {\r\n            if (templates === void 0) { templates = []; }\r\n            var x = (new this(root, settings, true, templates));\r\n            x._afterNew();\r\n            return x;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._checkDirty();\r\n            var shouldApply = false;\r\n            var template = this._template;\r\n            if (template) {\r\n                shouldApply = true;\r\n                template._setObjectTemplate(this);\r\n            }\r\n            $array.each(this._internalTemplates, function (template) {\r\n                shouldApply = true;\r\n                template._setObjectTemplate(_this);\r\n            });\r\n            if (shouldApply) {\r\n                this._applyTemplates(false);\r\n            }\r\n            this.states.create(\"default\", {});\r\n            this._setDefaults();\r\n        }\r\n    });\r\n    // This is the same as _afterNew, except it also applies the themes.\r\n    // This should only be used for classes which don't have a parent (because they extend from Entity and not Sprite).\r\n    Object.defineProperty(Entity.prototype, \"_afterNewApplyThemes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._checkDirty();\r\n            var template = this._template;\r\n            if (template) {\r\n                template._setObjectTemplate(this);\r\n            }\r\n            $array.each(this._internalTemplates, function (template) {\r\n                template._setObjectTemplate(_this);\r\n            });\r\n            this.states.create(\"default\", {});\r\n            this._setDefaults();\r\n            this._applyThemes();\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_createEvents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return new EventDispatcher();\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"classNames\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this.constructor.classNames;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"className\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this.constructor.className;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_setDefaults\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_setDefault\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            if (!(key in this._settings)) {\r\n                _super.prototype.set.call(this, key, value);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_setRawDefault\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            if (!(key in this._settings)) {\r\n                _super.prototype.setRaw.call(this, key, value);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $object.keys(this._dirty).forEach(function (key) {\r\n                _this._dirty[key] = false;\r\n            });\r\n            $object.keys(this._dirtyPrivate).forEach(function (key) {\r\n                _this._dirtyPrivate[key] = false;\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"isDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            return !!this._dirty[key];\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"isPrivateDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            return !!this._dirtyPrivate[key];\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_markDirtyKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            this._dirty[key] = true;\r\n            _super.prototype._markDirtyKey.call(this, key);\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_markDirtyPrivateKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            this._dirtyPrivate[key] = true;\r\n            _super.prototype._markDirtyKey.call(this, key);\r\n        }\r\n    });\r\n    /**\r\n     * Checks if element is of certain class (or inherits one).\r\n     *\r\n     * @param   type  Class name to check\r\n     * @return {boolean} Is of class?\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"isType\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type) {\r\n            return this.classNames.indexOf(type) !== -1;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_pushPropertyDisposer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, disposer) {\r\n            var disposers = this._disposerProperties[key];\r\n            if (disposers === undefined) {\r\n                disposers = this._disposerProperties[key] = [];\r\n            }\r\n            disposers.push(disposer);\r\n            return disposer;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_disposeProperty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var disposers = this._disposerProperties[key];\r\n            if (disposers !== undefined) {\r\n                $array.each(disposers, function (disposer) {\r\n                    disposer.dispose();\r\n                });\r\n                delete this._disposerProperties[key];\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"template\", {\r\n        get: function () {\r\n            return this._template;\r\n        },\r\n        /**\r\n         * @todo needs description\r\n         * @param  value  Template\r\n         */\r\n        set: function (value) {\r\n            var template = this._template;\r\n            if (template !== value) {\r\n                this._template = value;\r\n                if (template) {\r\n                    template._removeObjectTemplate(this);\r\n                }\r\n                if (value) {\r\n                    value._setObjectTemplate(this);\r\n                }\r\n                this._applyTemplates();\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"markDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._root._addDirtyEntity(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_startAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._root._addAnimation(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_animationTime\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._root.animationTime;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_applyState\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_name) { }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_applyStateAnimated\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_name, _duration) { }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this.adapters.fold(key, this._settings[key]);\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Sets a setting `value` for the specified `key`, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._userProperties[key] = true;\r\n            return _super.prototype.set.call(this, key, value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"setRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._userProperties[key] = true;\r\n            _super.prototype.setRaw.call(this, key, value);\r\n        }\r\n    });\r\n    /**\r\n     * Sets a setting `value` for the specified `key` only if the value for this key was not set previously using set method, and returns the same `value`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     * @param   value     Setting value\r\n     * @return            Setting value\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"_setSoft\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            if (!this._userProperties[key]) {\r\n                return _super.prototype.set.call(this, key, value);\r\n            }\r\n            return value;\r\n        }\r\n    });\r\n    /**\r\n     * Removes a setting value for the specified `key`.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/} for more info\r\n     * @param   key       Setting key\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            delete this._userProperties[key];\r\n            this._removeTemplateProperty(key);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"setPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._userPrivateProperties[key] = true;\r\n            return _super.prototype.setPrivate.call(this, key, value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"setPrivateRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._userPrivateProperties[key] = true;\r\n            _super.prototype.setPrivateRaw.call(this, key, value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"removePrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            delete this._userPrivateProperties[key];\r\n            this._removeTemplatePrivateProperty(key);\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_setTemplateProperty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (template, key, value) {\r\n            if (!this._userProperties[key]) {\r\n                var match = this._findTemplateByKey(key);\r\n                if (template === match) {\r\n                    _super.prototype.set.call(this, key, value);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_setTemplatePrivateProperty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (template, key, value) {\r\n            if (!this._userPrivateProperties[key]) {\r\n                var match = this._findTemplateByPrivateKey(key);\r\n                if (template === match) {\r\n                    _super.prototype.setPrivate.call(this, key, value);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_removeTemplateProperty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (!this._userProperties[key]) {\r\n                var match = this._findTemplateByKey(key);\r\n                if (match) {\r\n                    // TODO don't stop the animation if the property didn't change\r\n                    _super.prototype.set.call(this, key, match._settings[key]);\r\n                }\r\n                else {\r\n                    _super.prototype.remove.call(this, key);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_removeTemplatePrivateProperty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (!this._userPrivateProperties[key]) {\r\n                var match = this._findTemplateByPrivateKey(key);\r\n                if (match) {\r\n                    // TODO don't stop the animation if the property didn't change\r\n                    _super.prototype.setPrivate.call(this, key, match._privateSettings[key]);\r\n                }\r\n                else {\r\n                    _super.prototype.removePrivate.call(this, key);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_walkParents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            f(this._root._rootContainer);\r\n            f(this);\r\n        }\r\n    });\r\n    // TODO faster version of this method which is specialized to just 1 key\r\n    Object.defineProperty(Entity.prototype, \"_applyStateByKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            var other = this.states.create(name, {});\r\n            var seen = {};\r\n            this._eachTemplate(function (template) {\r\n                var state = template.states.lookup(name);\r\n                if (state) {\r\n                    state._apply(other, seen);\r\n                }\r\n            });\r\n            $object.each(other._settings, function (key) {\r\n                if (!seen[key] && !other._userSettings[key]) {\r\n                    other.remove(key);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_applyTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (template, state) {\r\n            var _this = this;\r\n            this._templateDisposers.push(template._apply(this, state));\r\n            $object.each(template._settings, function (key, value) {\r\n                if (!state.settings[key] && !_this._userProperties[key]) {\r\n                    state.settings[key] = true;\r\n                    _super.prototype.set.call(_this, key, value);\r\n                }\r\n            });\r\n            $object.each(template._privateSettings, function (key, value) {\r\n                if (!state.privateSettings[key] && !_this._userPrivateProperties[key]) {\r\n                    state.privateSettings[key] = true;\r\n                    _super.prototype.setPrivate.call(_this, key, value);\r\n                }\r\n            });\r\n            if (this._runSetup && template.setup) {\r\n                this._runSetup = false;\r\n                template.setup(this);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Calls the closure with each template and returns the first template which is true\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"_findStaticTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            if (this._template) {\r\n                if (f(this._template)) {\r\n                    return this._template;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_eachTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            this._findStaticTemplate(function (template) {\r\n                f(template);\r\n                return false;\r\n            });\r\n            // _internalTemplates is sorted with most specific to the right\r\n            $array.eachReverse(this._internalTemplates, f);\r\n            // _templates is sorted with most specific to the left\r\n            $array.each(this._templates, f);\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_applyTemplates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (remove) {\r\n            var _this = this;\r\n            if (remove === void 0) { remove = true; }\r\n            if (remove) {\r\n                this._disposeTemplates();\r\n            }\r\n            var state = {\r\n                settings: {},\r\n                privateSettings: {},\r\n                states: {},\r\n            };\r\n            this._eachTemplate(function (template) {\r\n                _this._applyTemplate(template, state);\r\n            });\r\n            if (remove) {\r\n                $object.each(this._settings, function (key) {\r\n                    if (!_this._userProperties[key] && !state.settings[key]) {\r\n                        _super.prototype.remove.call(_this, key);\r\n                    }\r\n                });\r\n                $object.each(this._privateSettings, function (key) {\r\n                    if (!_this._userPrivateProperties[key] && !state.privateSettings[key]) {\r\n                        _super.prototype.removePrivate.call(_this, key);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_findTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            var value = this._findStaticTemplate(f);\r\n            if (value === undefined) {\r\n                // _internalTemplates is sorted with most specific to the right\r\n                var value_1 = $array.findReverse(this._internalTemplates, f);\r\n                if (value_1 === undefined) {\r\n                    // _templates is sorted with most specific to the left\r\n                    return $array.find(this._templates, f);\r\n                }\r\n                else {\r\n                    return value_1;\r\n                }\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_findTemplateByKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            return this._findTemplate(function (template) {\r\n                return key in template._settings;\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_findTemplateByPrivateKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            return this._findTemplate(function (template) {\r\n                return key in template._privateSettings;\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_disposeTemplates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            $array.each(this._templateDisposers, function (disposer) {\r\n                disposer.dispose();\r\n            });\r\n            this._templateDisposers.length = 0;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_removeTemplates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $array.each(this._templates, function (template) {\r\n                template._removeObjectTemplate(_this);\r\n            });\r\n            this._templates.length = 0;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_applyThemes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var isConnected = false;\r\n            var defaults = [];\r\n            var themes = [];\r\n            var themeTags = new Set();\r\n            var tags = this.get(\"themeTagsSelf\");\r\n            if (tags) {\r\n                $array.each(tags, function (tag) {\r\n                    themeTags.add(tag);\r\n                });\r\n            }\r\n            this._walkParents(function (entity) {\r\n                if (entity === _this._root._rootContainer) {\r\n                    isConnected = true;\r\n                }\r\n                if (entity._defaultThemes.length > 0) {\r\n                    defaults.push(entity._defaultThemes);\r\n                }\r\n                var theme = entity.get(\"themes\");\r\n                if (theme) {\r\n                    themes.push(theme);\r\n                }\r\n                var tags = entity.get(\"themeTags\");\r\n                if (tags) {\r\n                    $array.each(tags, function (tag) {\r\n                        themeTags.add(tag);\r\n                    });\r\n                }\r\n            });\r\n            themes = defaults.concat(themes);\r\n            this._removeTemplates();\r\n            if (isConnected) {\r\n                $array.eachReverse(this.classNames, function (name) {\r\n                    var allRules = [];\r\n                    $array.each(themes, function (themes) {\r\n                        $array.each(themes, function (theme) {\r\n                            var rules = theme._lookupRules(name);\r\n                            if (rules) {\r\n                                $array.eachReverse(rules, function (rule) {\r\n                                    var matches = rule.tags.every(function (tag) {\r\n                                        return themeTags.has(tag);\r\n                                    });\r\n                                    if (matches) {\r\n                                        var result = $array.getFirstSortedIndex(allRules, function (x) {\r\n                                            var order = $order.compare(rule.tags.length, x.tags.length);\r\n                                            if (order === 0) {\r\n                                                return $order.compareArray(rule.tags, x.tags, $order.compare);\r\n                                            }\r\n                                            else {\r\n                                                return order;\r\n                                            }\r\n                                        });\r\n                                        allRules.splice(result.index, 0, rule);\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                    });\r\n                    $array.each(allRules, function (rule) {\r\n                        _this._templates.push(rule.template);\r\n                        rule.template._setObjectTemplate(_this);\r\n                    });\r\n                });\r\n            }\r\n            this._applyTemplates();\r\n            if (isConnected) {\r\n                // This causes it to only run the setup function the first time that the themes are applied\r\n                this._runSetup = false;\r\n            }\r\n            return isConnected;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.isDirty(\"id\")) {\r\n                var id = this.get(\"id\");\r\n                if (id) {\r\n                    if (registry.entitiesById[id]) {\r\n                        throw new Error(\"An entity with id \\\"\" + id + \"\\\" already exists.\");\r\n                    }\r\n                    registry.entitiesById[id] = this;\r\n                }\r\n                var prevId = this._prevSettings.id;\r\n                if (prevId) {\r\n                    delete registry.entitiesById[prevId];\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"addDisposer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (disposer) {\r\n            this._disposers.push(disposer);\r\n            return disposer;\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._dispose.call(this);\r\n            var template = this._template;\r\n            if (template) {\r\n                template._removeObjectTemplate(this);\r\n            }\r\n            $array.each(this._internalTemplates, function (template) {\r\n                template._removeObjectTemplate(_this);\r\n            });\r\n            this._removeTemplates();\r\n            this._disposeTemplates();\r\n            this.events.dispose();\r\n            this._disposers.forEach(function (x) {\r\n                x.dispose();\r\n            });\r\n            $object.each(this._disposerProperties, function (_, disposers) {\r\n                $array.each(disposers, function (disposer) {\r\n                    disposer.dispose();\r\n                });\r\n            });\r\n            var id = this.get(\"id\");\r\n            if (id) {\r\n                delete registry.entitiesById[id];\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Creates and returns a \"disposable\" timeout.\r\n     *\r\n     * @param   fn     Callback\r\n     * @param   delay  Delay in milliseconds\r\n     * @return         Timeout disposer\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"setTimeout\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fn, delay) {\r\n            var _this = this;\r\n            var id = setTimeout(function () {\r\n                _this.removeDispose(disposer);\r\n                fn();\r\n            }, delay);\r\n            var disposer = new Disposer(function () {\r\n                clearTimeout(id);\r\n            });\r\n            this._disposers.push(disposer);\r\n            return disposer;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"removeDispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            if (!this.isDisposed()) {\r\n                var index = $array.indexOf(this._disposers, target);\r\n                if (index > -1) {\r\n                    this._disposers.splice(index, 1);\r\n                }\r\n            }\r\n            target.dispose();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"hasTag\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tag) {\r\n            return $array.indexOf(this.get(\"themeTags\", []), tag) !== -1;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"addTag\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tag) {\r\n            if (!this.hasTag(tag)) {\r\n                var tags = this.get(\"themeTags\", []);\r\n                tags.push(tag);\r\n                this.set(\"themeTags\", tags);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Entity.prototype, \"removeTag\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tag) {\r\n            if (this.hasTag(tag)) {\r\n                var tags = this.get(\"themeTags\", []);\r\n                $array.remove(tags, tag);\r\n                this.set(\"themeTags\", tags);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"_t\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text, locale) {\r\n            var _a;\r\n            var rest = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                rest[_i - 2] = arguments[_i];\r\n            }\r\n            return (_a = this._root.language).translate.apply(_a, __spreadArray([text, locale], __read(rest), false));\r\n        }\r\n    });\r\n    Object.defineProperty(Entity.prototype, \"root\", {\r\n        /**\r\n         * An instance of [[Root]] object.\r\n         *\r\n         * @readonly\r\n         * @since 5.0.6\r\n         * @return Root object\r\n         */\r\n        get: function () {\r\n            return this._root;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Entity, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Entity\"\r\n    });\r\n    Object.defineProperty(Entity, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: [\"Entity\"]\r\n    });\r\n    return Entity;\r\n}(Settings));\r\nexport { Entity };\r\n//# sourceMappingURL=Entity.js.map","import { EventDispatcher } from \"./EventDispatcher\";\r\nimport { Disposer, MultiDisposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $object from \"./Object\";\r\nvar TemplateState = /** @class */ (function () {\r\n    function TemplateState(name, template, settings) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_name\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._name = name;\r\n        this._template = template;\r\n        this._settings = settings;\r\n    }\r\n    Object.defineProperty(TemplateState.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._settings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateState.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._settings[key] = value;\r\n            // TODO maybe only do this if the value changed ?\r\n            this._template._stateChanged(this._name);\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateState.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            delete this._settings[key];\r\n            // TODO maybe only do this if the value changed ?\r\n            this._template._stateChanged(this._name);\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateState.prototype, \"setAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (settings) {\r\n            var _this = this;\r\n            $object.keys(settings).forEach(function (key) {\r\n                _this._settings[key] = settings[key];\r\n            });\r\n            this._template._stateChanged(this._name);\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateState.prototype, \"_apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (other, seen) {\r\n            $object.each(this._settings, function (key, value) {\r\n                if (!seen[key] && !other._userSettings[key]) {\r\n                    seen[key] = true;\r\n                    other.setRaw(key, value);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    return TemplateState;\r\n}());\r\nexport { TemplateState };\r\nvar TemplateStates = /** @class */ (function () {\r\n    function TemplateStates(template) {\r\n        Object.defineProperty(this, \"_template\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._template = template;\r\n    }\r\n    Object.defineProperty(TemplateStates.prototype, \"lookup\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            return this._states[name];\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateStates.prototype, \"create\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, settings) {\r\n            var state = this._states[name];\r\n            if (state) {\r\n                state.setAll(settings);\r\n                return state;\r\n            }\r\n            else {\r\n                var state_1 = new TemplateState(name, this._template, settings);\r\n                this._states[name] = state_1;\r\n                this._template._stateChanged(name);\r\n                return state_1;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateStates.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            delete this._states[name];\r\n            this._template._stateChanged(name);\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateStates.prototype, \"_apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity, state) {\r\n            $object.each(this._states, function (key, value) {\r\n                var seen = state.states[key];\r\n                if (seen == null) {\r\n                    seen = state.states[key] = {};\r\n                }\r\n                var other = entity.states.create(key, {});\r\n                value._apply(other, seen);\r\n            });\r\n        }\r\n    });\r\n    return TemplateStates;\r\n}());\r\nexport { TemplateStates };\r\nvar TemplateAdapters = /** @class */ (function () {\r\n    function TemplateAdapters() {\r\n        Object.defineProperty(this, \"_callbacks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n    }\r\n    Object.defineProperty(TemplateAdapters.prototype, \"add\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var callbacks = this._callbacks[key];\r\n            if (callbacks === undefined) {\r\n                callbacks = this._callbacks[key] = [];\r\n            }\r\n            callbacks.push(callback);\r\n            return new Disposer(function () {\r\n                $array.removeFirst(callbacks, callback);\r\n                if (callbacks.length === 0) {\r\n                    delete _this._callbacks[key];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateAdapters.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var callbacks = this._callbacks[key];\r\n            if (callbacks !== undefined) {\r\n                delete this._callbacks[key];\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(TemplateAdapters.prototype, \"_apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity) {\r\n            var disposers = [];\r\n            $object.each(this._callbacks, function (key, callbacks) {\r\n                $array.each(callbacks, function (callback) {\r\n                    disposers.push(entity.adapters.add(key, callback));\r\n                });\r\n            });\r\n            return new MultiDisposer(disposers);\r\n        }\r\n    });\r\n    return TemplateAdapters;\r\n}());\r\nexport { TemplateAdapters };\r\n// TODO maybe extend from Properties ?\r\nvar Template = /** @class */ (function () {\r\n    function Template(settings, isReal) {\r\n        Object.defineProperty(this, \"_settings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_privateSettings\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        // TODO code duplication with Properties\r\n        Object.defineProperty(this, \"_settingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_privateSettingEvents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_entities\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"states\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateStates(this)\r\n        });\r\n        Object.defineProperty(this, \"adapters\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new TemplateAdapters()\r\n        });\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        Object.defineProperty(this, \"setup\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        this._settings = settings;\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    Object.defineProperty(Template, \"new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (settings) {\r\n            return new Template(settings, true);\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"get\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._settings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"setRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._settings[key] = value;\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"set\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var _this = this;\r\n            if (this._settings[key] !== value) {\r\n                this.setRaw(key, value);\r\n                this._entities.forEach(function (entity) {\r\n                    entity._setTemplateProperty(_this, key, value);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"remove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (key in this._settings) {\r\n                delete this._settings[key];\r\n                this._entities.forEach(function (entity) {\r\n                    entity._removeTemplateProperty(key);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"removeAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $object.each(this._settings, function (key, _value) {\r\n                _this.remove(key);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"getPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, fallback) {\r\n            var value = this._privateSettings[key];\r\n            if (value !== undefined) {\r\n                return value;\r\n            }\r\n            else {\r\n                return fallback;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"setPrivateRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            this._privateSettings[key] = value;\r\n            return value;\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"setPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var _this = this;\r\n            if (this._privateSettings[key] !== value) {\r\n                this.setPrivateRaw(key, value);\r\n                this._entities.forEach(function (entity) {\r\n                    entity._setTemplatePrivateProperty(_this, key, value);\r\n                });\r\n            }\r\n            return value;\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"removePrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            if (key in this._privateSettings) {\r\n                delete this._privateSettings[key];\r\n                this._entities.forEach(function (entity) {\r\n                    entity._removeTemplatePrivateProperty(key);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"setAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var _this = this;\r\n            $object.each(value, function (key, value) {\r\n                _this.set(key, value);\r\n            });\r\n        }\r\n    });\r\n    // TODO code duplication with Properties\r\n    Object.defineProperty(Template.prototype, \"on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var events = this._settingEvents[key];\r\n            if (events === undefined) {\r\n                events = this._settingEvents[key] = [];\r\n            }\r\n            events.push(callback);\r\n            return new Disposer(function () {\r\n                $array.removeFirst(events, callback);\r\n                if (events.length === 0) {\r\n                    delete _this._settingEvents[key];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    // TODO code duplication with Properties\r\n    Object.defineProperty(Template.prototype, \"onPrivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback) {\r\n            var _this = this;\r\n            var events = this._privateSettingEvents[key];\r\n            if (events === undefined) {\r\n                events = this._privateSettingEvents[key] = [];\r\n            }\r\n            events.push(callback);\r\n            return new Disposer(function () {\r\n                $array.removeFirst(events, callback);\r\n                if (events.length === 0) {\r\n                    delete _this._privateSettingEvents[key];\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"_apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity, state) {\r\n            var disposers = [];\r\n            $object.each(this._settingEvents, function (key, events) {\r\n                $array.each(events, function (event) {\r\n                    disposers.push(entity.on(key, event));\r\n                });\r\n            });\r\n            $object.each(this._privateSettingEvents, function (key, events) {\r\n                $array.each(events, function (event) {\r\n                    disposers.push(entity.onPrivate(key, event));\r\n                });\r\n            });\r\n            this.states._apply(entity, state);\r\n            disposers.push(this.adapters._apply(entity));\r\n            disposers.push(entity.events.copyFrom(this.events));\r\n            return new MultiDisposer(disposers);\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"_setObjectTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity) {\r\n            this._entities.push(entity);\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"_removeObjectTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity) {\r\n            $array.remove(this._entities, entity);\r\n        }\r\n    });\r\n    Object.defineProperty(Template.prototype, \"_stateChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            this._entities.forEach(function (entity) {\r\n                entity._applyStateByKey(name);\r\n            });\r\n        }\r\n    });\r\n    return Template;\r\n}());\r\nexport { Template };\r\n//# sourceMappingURL=Template.js.map","import { isNumber } from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nexport var PI = Math.PI;\r\nexport var HALFPI = PI / 2;\r\nexport var RADIANS = PI / 180;\r\nexport var DEGREES = 180 / PI;\r\n/**\r\n * Rounds the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @param floor  In case value ends with 0.5 and precision is 0, we might need to floor the value instead of ceiling it.\r\n * @return Rounded value\r\n */\r\nexport function round(value, precision, floor) {\r\n    if (!isNumber(precision) || precision <= 0) {\r\n        var rounded = Math.round(value);\r\n        if (floor) {\r\n            if (rounded - value == 0.5) {\r\n                rounded--;\r\n            }\r\n        }\r\n        return rounded;\r\n    }\r\n    else {\r\n        var d = Math.pow(10, precision);\r\n        return Math.round(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * Ceils the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @return Rounded value\r\n */\r\nexport function ceil(value, precision) {\r\n    if (!isNumber(precision) || precision <= 0) {\r\n        return Math.ceil(value);\r\n    }\r\n    else {\r\n        var d = Math.pow(10, precision);\r\n        return Math.ceil(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * [getCubicControlPointA description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointA(p0, p1, p2, tensionX, tensionY) {\r\n    return { x: ((-p0.x + p1.x / tensionX + p2.x) * tensionX), y: ((-p0.y + p1.y / tensionY + p2.y) * tensionY) };\r\n}\r\n/**\r\n * [getCubicControlPointB description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointB(p1, p2, p3, tensionX, tensionY) {\r\n    return { x: ((p1.x + p2.x / tensionX - p3.x) * tensionX), y: ((p1.y + p2.y / tensionY - p3.y) * tensionY) };\r\n}\r\nexport function fitToRange(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\n/**\r\n * Returns sine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function sin(angle) {\r\n    return Math.sin(RADIANS * angle);\r\n}\r\n/**\r\n * Returns tan of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function tan(angle) {\r\n    return Math.tan(RADIANS * angle);\r\n}\r\n/**\r\n * Returns cosine of an angle specified in degrees.\r\n *\r\n * @param value  Value\r\n * @return Cosine\r\n */\r\nexport function cos(angle) {\r\n    return Math.cos(RADIANS * angle);\r\n}\r\n// 0 to 360\r\nexport function normalizeAngle(value) {\r\n    value = value % 360;\r\n    if (value < 0) {\r\n        value += 360;\r\n    }\r\n    return value;\r\n}\r\n// TODO this doesn't work properly for skewing, and it's probably broken for rotation too\r\nexport function getArcBounds(cx, cy, startAngle, endAngle, radius) {\r\n    var minX = Number.MAX_VALUE;\r\n    var minY = Number.MAX_VALUE;\r\n    var maxX = -Number.MAX_VALUE;\r\n    var maxY = -Number.MAX_VALUE;\r\n    var bpoints = [];\r\n    bpoints.push(getArcPoint(radius, startAngle));\r\n    bpoints.push(getArcPoint(radius, endAngle));\r\n    var fromAngle = Math.min(Math.floor(startAngle / 90) * 90, Math.floor(endAngle / 90) * 90);\r\n    var toAngle = Math.max(Math.ceil(startAngle / 90) * 90, Math.ceil(endAngle / 90) * 90);\r\n    for (var angle = fromAngle; angle <= toAngle; angle += 90) {\r\n        if (angle >= startAngle && angle <= endAngle) {\r\n            bpoints.push(getArcPoint(radius, angle));\r\n        }\r\n    }\r\n    for (var i = 0; i < bpoints.length; i++) {\r\n        var pt = bpoints[i];\r\n        if (pt.x < minX) {\r\n            minX = pt.x;\r\n        }\r\n        if (pt.y < minY) {\r\n            minY = pt.y;\r\n        }\r\n        if (pt.x > maxX) {\r\n            maxX = pt.x;\r\n        }\r\n        if (pt.y > maxY) {\r\n            maxY = pt.y;\r\n        }\r\n    }\r\n    return ({ left: cx + minX, top: cy + minY, right: cx + maxX, bottom: cy + maxY });\r\n}\r\n/**\r\n * Returns point on arc\r\n *\r\n * @param center point\r\n * @param radius\r\n * @param arc\r\n * @return {boolean}\r\n */\r\nexport function getArcPoint(radius, arc) {\r\n    return ({ x: radius * cos(arc), y: radius * sin(arc) });\r\n}\r\nexport function mergeBounds(bounds) {\r\n    var len = bounds.length;\r\n    if (len > 0) {\r\n        var bound = bounds[0];\r\n        var left = bound.left;\r\n        var top_1 = bound.top;\r\n        var right = bound.right;\r\n        var bottom = bound.bottom;\r\n        if (len > 1) {\r\n            for (var i = 1; i < len; i++) {\r\n                bound = bounds[i];\r\n                left = Math.min(bound.left, left);\r\n                right = Math.max(bound.right, right);\r\n                top_1 = Math.min(bound.top, top_1);\r\n                bottom = Math.max(bound.bottom, bottom);\r\n            }\r\n        }\r\n        return { left: left, right: right, top: top_1, bottom: bottom };\r\n    }\r\n    return { left: 0, right: 0, top: 0, bottom: 0 };\r\n}\r\nexport function fitAngleToRange(value, startAngle, endAngle) {\r\n    if (startAngle > endAngle) {\r\n        var temp = startAngle;\r\n        startAngle = endAngle;\r\n        endAngle = temp;\r\n    }\r\n    value = normalizeAngle(value);\r\n    var count = (startAngle - normalizeAngle(startAngle)) / 360;\r\n    if (value < startAngle) {\r\n        value += 360 * (count + 1);\r\n    }\r\n    var maxEnd = startAngle + (endAngle - startAngle) / 2 + 180;\r\n    var maxStart = startAngle + (endAngle - startAngle) / 2 - 180;\r\n    if (value > endAngle) {\r\n        if (value - 360 > startAngle) {\r\n            value -= 360;\r\n        }\r\n        else {\r\n            if (value < maxEnd) {\r\n                value = endAngle;\r\n            }\r\n            else {\r\n                value = startAngle;\r\n            }\r\n        }\r\n    }\r\n    if (value < startAngle) {\r\n        if (value > maxStart) {\r\n            value = startAngle;\r\n        }\r\n        else {\r\n            value = endAngle;\r\n        }\r\n    }\r\n    return value;\r\n}\r\nexport function inBounds(point, bounds) {\r\n    if (point.x >= bounds.left && point.y >= bounds.top && point.x <= bounds.right && point.y <= bounds.bottom) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexport function getAngle(point1, point2) {\r\n    if (!point2) {\r\n        point2 = { x: point1.x * 2, y: point1.y * 2 };\r\n    }\r\n    var diffX = point2.x - point1.x;\r\n    var diffY = point2.y - point1.y;\r\n    var angle = Math.atan2(diffY, diffX) * DEGREES;\r\n    if (angle < 0) {\r\n        angle += 360;\r\n    }\r\n    return normalizeAngle(angle);\r\n}\r\n/**\r\n * [getPointOnQuadraticCurve description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param pointA        [description]\r\n * @param pointB        [description]\r\n * @param controlPoint  [description]\r\n * @param position      [description]\r\n * @return [description]\r\n */\r\nexport function getPointOnQuadraticCurve(pointA, pointB, controlPoint, position) {\r\n    var x = (1 - position) * (1 - position) * pointA.x + 2 * (1 - position) * position * controlPoint.x + position * position * pointB.x;\r\n    var y = (1 - position) * (1 - position) * pointA.y + 2 * (1 - position) * position * controlPoint.y + position * position * pointB.y;\r\n    return { x: x, y: y };\r\n}\r\nexport function getPointOnLine(pointA, pointB, position) {\r\n    return { x: pointA.x + (pointB.x - pointA.x) * position, y: pointA.y + (pointB.y - pointA.y) * position };\r\n}\r\n/**\r\n * Returns the closest value from the array of values to the reference value.\r\n *\r\n * @param values  Array of values\r\n * @param value   Reference value\r\n * @return Closes value from the array\r\n */\r\nexport function closest(values, referenceValue) {\r\n    return values.reduce(function (prev, curr) {\r\n        return (Math.abs(curr - referenceValue) < Math.abs(prev - referenceValue) ? curr : prev);\r\n    });\r\n}\r\nexport function boundsOverlap(bounds1, bounds2) {\r\n    return !(bounds1.bottom < bounds2.top || bounds2.bottom < bounds1.top || bounds1.right < bounds2.left || bounds2.right < bounds1.left);\r\n}\r\n//# sourceMappingURL=Math.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { Entity } from \"../util/Entity\";\r\nimport { Template } from \"../util/Template\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { EventDispatcher } from \"../util/EventDispatcher\";\r\nimport { MultiDisposer, CounterDisposer } from \"../util/Disposer\";\r\nimport { waitForAnimations } from \"../util/Animation\";\r\nimport * as $utils from \"../util/Utils\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $object from \"../util/Object\";\r\nimport * as $math from \"../util/Math\";\r\n//import { populateString } from \"../util/PopulateString\";\r\n/**\r\n * An [[EventDispatcher]] for [[Sprite]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n */\r\nvar SpriteEventDispatcher = /** @class */ (function (_super) {\r\n    __extends(SpriteEventDispatcher, _super);\r\n    function SpriteEventDispatcher(sprite) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_sprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_rendererDisposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_dispatchParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        _this._sprite = sprite;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SpriteEventDispatcher.prototype, \"_makePointerEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, event) {\r\n            return {\r\n                type: key,\r\n                originalEvent: event.event,\r\n                point: event.point,\r\n                simulated: event.simulated,\r\n                native: event.native,\r\n                target: this._sprite\r\n            };\r\n        }\r\n    });\r\n    Object.defineProperty(SpriteEventDispatcher.prototype, \"_onRenderer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, dispatch) {\r\n            var _this = this;\r\n            // TODO: is this OK? it'd be good not to require to set this on each individual element\r\n            this._sprite.set(\"interactive\", true);\r\n            this._sprite._display.interactive = true;\r\n            var events = this._rendererDisposers[key];\r\n            if (events === undefined) {\r\n                var disposer_1 = this._sprite._display.on(key, function (e) {\r\n                    dispatch.call(_this, e);\r\n                });\r\n                events = this._rendererDisposers[key] = new CounterDisposer(function () {\r\n                    delete _this._rendererDisposers[key];\r\n                    disposer_1.dispose();\r\n                });\r\n            }\r\n            return events.increment();\r\n        }\r\n    });\r\n    Object.defineProperty(SpriteEventDispatcher.prototype, \"_on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (once, type, callback, context, shouldClone, dispatch) {\r\n            var info = _super.prototype._on.call(this, once, type, callback, context, shouldClone, dispatch);\r\n            var rendererEvent = SpriteEventDispatcher.RENDERER_EVENTS[type];\r\n            if (rendererEvent !== undefined) {\r\n                info.disposer = new MultiDisposer([\r\n                    info.disposer,\r\n                    this._onRenderer(type, rendererEvent),\r\n                ]);\r\n            }\r\n            return info;\r\n        }\r\n    });\r\n    /**\r\n     * Will stop any bubbling up of the event to element's parents.\r\n     *\r\n     * Should be called in an event handler, e.g.:\r\n     *\r\n     * ```TypeScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     * ```JavaScript\r\n     * element.events.on(\"pointerdown\", function(ev) {\r\n     *   // Do something here and prevent from \"pointerdown\" bubbling up\r\n     *   // ...\r\n     *   ev.target.events.stopParentDispatch();\r\n     * });\r\n     * ```\r\n     */\r\n    Object.defineProperty(SpriteEventDispatcher.prototype, \"stopParentDispatch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._dispatchParents = false;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(SpriteEventDispatcher.prototype, \"dispatchParents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (type, event) {\r\n            var old = this._dispatchParents;\r\n            this._dispatchParents = true;\r\n            try {\r\n                this.dispatch(type, event);\r\n                if (this._dispatchParents && this._sprite.parent) {\r\n                    this._sprite.parent.events.dispatchParents(type, event);\r\n                }\r\n            }\r\n            finally {\r\n                this._dispatchParents = old;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(SpriteEventDispatcher, \"RENDERER_EVENTS\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: {\r\n            \"click\": function (event) {\r\n                if (this.isEnabled(\"click\") && !this._sprite.isDragging() && this._sprite._hasDown() && !this._sprite._hasMoved(this._makePointerEvent(\"click\", event))) {\r\n                    this.dispatch(\"click\", this._makePointerEvent(\"click\", event));\r\n                }\r\n            },\r\n            \"rightclick\": function (event) {\r\n                if (this.isEnabled(\"rightclick\")) {\r\n                    this.dispatch(\"rightclick\", this._makePointerEvent(\"rightclick\", event));\r\n                }\r\n            },\r\n            \"middleclick\": function (event) {\r\n                if (this.isEnabled(\"middleclick\")) {\r\n                    this.dispatch(\"middleclick\", this._makePointerEvent(\"middleclick\", event));\r\n                }\r\n            },\r\n            \"dblclick\": function (event) {\r\n                this.dispatchParents(\"dblclick\", this._makePointerEvent(\"dblclick\", event));\r\n            },\r\n            \"pointerover\": function (event) {\r\n                if (this.isEnabled(\"pointerover\")) {\r\n                    this.dispatch(\"pointerover\", this._makePointerEvent(\"pointerover\", event));\r\n                }\r\n            },\r\n            \"pointerout\": function (event) {\r\n                if (this.isEnabled(\"pointerout\")) {\r\n                    this.dispatch(\"pointerout\", this._makePointerEvent(\"pointerout\", event));\r\n                }\r\n            },\r\n            \"pointerdown\": function (event) {\r\n                this.dispatchParents(\"pointerdown\", this._makePointerEvent(\"pointerdown\", event));\r\n            },\r\n            \"pointerup\": function (event) {\r\n                if (this.isEnabled(\"pointerup\")) {\r\n                    this.dispatch(\"pointerup\", this._makePointerEvent(\"pointerup\", event));\r\n                }\r\n            },\r\n            \"globalpointerup\": function (event) {\r\n                if (this.isEnabled(\"globalpointerup\")) {\r\n                    this.dispatch(\"globalpointerup\", this._makePointerEvent(\"globalpointerup\", event));\r\n                }\r\n            },\r\n            \"globalpointermove\": function (event) {\r\n                if (this.isEnabled(\"globalpointermove\")) {\r\n                    this.dispatch(\"globalpointermove\", this._makePointerEvent(\"globalpointermove\", event));\r\n                }\r\n            },\r\n            \"wheel\": function (event) {\r\n                this.dispatchParents(\"wheel\", {\r\n                    type: \"wheel\",\r\n                    target: this._sprite,\r\n                    originalEvent: event.event,\r\n                    point: event.point,\r\n                });\r\n            },\r\n        }\r\n    });\r\n    return SpriteEventDispatcher;\r\n}(EventDispatcher));\r\n/**\r\n * A base class for all visual elements.\r\n *\r\n * @important\r\n */\r\nvar Sprite = /** @class */ (function (_super) {\r\n    __extends(Sprite, _super);\r\n    function Sprite() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_adjustedLocalBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(_this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { left: 0, right: 0, top: 0, bottom: 0 }\r\n        });\r\n        Object.defineProperty(_this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_dataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_templateField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_sizeDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // Will be true only when dragging\r\n        Object.defineProperty(_this, \"_isDragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // The event when the dragging starts\r\n        Object.defineProperty(_this, \"_dragEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // The position when dragging starts\r\n        Object.defineProperty(_this, \"_dragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_isHidden\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_isShowing\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_isHiding\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_isDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_downPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_toggleDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_dragDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_hoverDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_focusDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipMoveDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipPointerDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_statesHandled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Sprite.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivateRaw(\"visible\", true);\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_markDirtyKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            _super.prototype._markDirtyKey.call(this, key);\r\n            if (key == \"x\" || key == \"y\" || key == \"dx\" || key == \"dy\") {\r\n                this.markDirtyBounds();\r\n                this._addPercentagePositionChildren();\r\n                this.markDirtyPosition();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_markDirtyPrivateKey\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            _super.prototype._markDirtyPrivateKey.call(this, key);\r\n            if (key == \"x\" || key == \"y\") {\r\n                this.markDirtyPosition();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_removeTemplateField\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._templateField) {\r\n                this._templateField._removeObjectTemplate(this);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_createEvents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return new SpriteEventDispatcher(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_processTemplateField\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var template;\r\n            var field = this.get(\"templateField\");\r\n            if (field) {\r\n                var dataItem = this.dataItem;\r\n                if (dataItem) {\r\n                    var context = dataItem.dataContext;\r\n                    if (context) {\r\n                        template = context[field];\r\n                        if (!(template instanceof Template) && template) {\r\n                            template = Template.new(template);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (this._templateField !== template) {\r\n                this._removeTemplateField();\r\n                this._templateField = template;\r\n                if (template) {\r\n                    template._setObjectTemplate(this);\r\n                }\r\n                this._applyTemplates();\r\n            }\r\n        }\r\n    });\r\n    // TODO change this to run before the element is added to the parent, so that way\r\n    //      it doesn't need to apply the themes twice\r\n    Object.defineProperty(Sprite.prototype, \"_setDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var oldDataItem = this._dataItem;\r\n            this._dataItem = dataItem;\r\n            this._processTemplateField();\r\n            var eventType = \"dataitemchanged\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, {\r\n                    type: eventType,\r\n                    target: this,\r\n                    oldDataItem: oldDataItem,\r\n                    newDataItem: dataItem\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"dataItem\", {\r\n        /**\r\n         * @return DataItem\r\n         */\r\n        get: function () {\r\n            if (this._dataItem) {\r\n                return this._dataItem;\r\n            }\r\n            else {\r\n                var parent_1 = this._parent;\r\n                while (parent_1) {\r\n                    if (parent_1._dataItem) {\r\n                        return parent_1._dataItem;\r\n                    }\r\n                    else {\r\n                        parent_1 = parent_1._parent;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * A [[DataItem]] used for this element.\r\n         *\r\n         * NOTE: data item is being assigned automatically in most cases where it\r\n         * matters. Use this accessor to set data item only if you know what you're\r\n         * doing.\r\n         *\r\n         * @param  value  Data item\r\n         */\r\n        set: function (value) {\r\n            this._setDataItem(value);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_addPercentageSizeChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                if (this.get(\"width\") instanceof Percent || this.get(\"height\") instanceof Percent) {\r\n                    $array.pushOne(parent._percentageSizeChildren, this);\r\n                }\r\n                else {\r\n                    $array.removeFirst(parent._percentageSizeChildren, this);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_addPercentagePositionChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                if (this.get(\"x\") instanceof Percent || this.get(\"y\") instanceof Percent) {\r\n                    $array.pushOne(parent._percentagePositionChildren, this);\r\n                }\r\n                else {\r\n                    $array.removeFirst(parent._percentagePositionChildren, this);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirtyPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._root._addDirtyPosition(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"updatePivotPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var bounds = this._localBounds;\r\n            if (bounds) {\r\n                var centerX = this.get(\"centerX\");\r\n                if (centerX != null) {\r\n                    this._display.pivot.x = bounds.left + $utils.relativeToValue(centerX, bounds.right - bounds.left);\r\n                }\r\n                var centerY = this.get(\"centerY\");\r\n                if (centerY != null) {\r\n                    this._display.pivot.y = bounds.top + $utils.relativeToValue(centerY, bounds.bottom - bounds.top);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._beforeChanged.call(this);\r\n            // handling states in beforeChanged, otherwise states is not applied without animated theme\r\n            this._handleStates();\r\n            if (this.isDirty(\"tooltip\")) {\r\n                var previous = this._prevSettings.tooltip;\r\n                if (previous) {\r\n                    previous.dispose();\r\n                }\r\n            }\r\n            if (this.isDirty(\"layer\")) {\r\n                this._display.setLayer(this.get(\"layer\"));\r\n                this.markDirtyLayer();\r\n            }\r\n            if (this.isDirty(\"tooltipPosition\")) {\r\n                var tooltipMoveDp = this._tooltipMoveDp;\r\n                if (tooltipMoveDp) {\r\n                    tooltipMoveDp.dispose();\r\n                    this._tooltipMoveDp = undefined;\r\n                }\r\n                var tooltipPointerDp = this._tooltipPointerDp;\r\n                if (tooltipPointerDp) {\r\n                    tooltipPointerDp.dispose();\r\n                    this._tooltipPointerDp = undefined;\r\n                }\r\n                if (this.get(\"tooltipPosition\") == \"pointer\") {\r\n                    this._tooltipPointerDp = new MultiDisposer([\r\n                        this.events.on(\"pointerover\", function () {\r\n                            _this._tooltipMoveDp = _this.events.on(\"globalpointermove\", function (e) {\r\n                                _this.showTooltip(e.point);\r\n                            });\r\n                        }),\r\n                        this.events.on(\"pointerout\", function () {\r\n                            var tooltipMoveDp = _this._tooltipMoveDp;\r\n                            if (tooltipMoveDp) {\r\n                                tooltipMoveDp.dispose();\r\n                                _this._tooltipMoveDp = undefined;\r\n                            }\r\n                        })\r\n                    ]);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_handleStates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._statesHandled) {\r\n                if (this.isDirty(\"active\")) {\r\n                    if (this.get(\"active\")) {\r\n                        this.states.applyAnimate(\"active\");\r\n                        this.set(\"ariaChecked\", true);\r\n                    }\r\n                    else {\r\n                        if (!this.isHidden()) {\r\n                            this.states.applyAnimate(\"default\");\r\n                        }\r\n                        this.set(\"ariaChecked\", false);\r\n                    }\r\n                    this.markDirtyAccessibility();\r\n                }\r\n                if (this.isDirty(\"disabled\")) {\r\n                    if (this.get(\"disabled\")) {\r\n                        this.states.applyAnimate(\"disabled\");\r\n                        this.set(\"ariaChecked\", false);\r\n                    }\r\n                    else {\r\n                        if (!this.isHidden()) {\r\n                            this.states.applyAnimate(\"default\");\r\n                        }\r\n                        this.set(\"ariaChecked\", true);\r\n                    }\r\n                    this.markDirtyAccessibility();\r\n                }\r\n                this._statesHandled = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._changed.call(this);\r\n            var display = this._display;\r\n            var events = this.events;\r\n            if (this.isDirty(\"draggable\")) {\r\n                var draggable = this.get(\"draggable\");\r\n                if (draggable) {\r\n                    this.set(\"interactive\", true);\r\n                    this._dragDp = new MultiDisposer([\r\n                        events.on(\"pointerdown\", function (ev) {\r\n                            _this.dragStart(ev);\r\n                        }),\r\n                        events.on(\"globalpointermove\", function (ev) {\r\n                            _this.dragMove(ev);\r\n                        }),\r\n                        events.on(\"globalpointerup\", function (ev) {\r\n                            _this.dragStop(ev);\r\n                        })\r\n                    ]);\r\n                }\r\n                else {\r\n                    if (this._dragDp) {\r\n                        this._dragDp.dispose();\r\n                        this._dragDp = undefined;\r\n                    }\r\n                }\r\n                display.cancelTouch = draggable ? true : false;\r\n            }\r\n            if (this.isDirty(\"tooltipText\")) {\r\n                var tooltipText = this.get(\"tooltipText\");\r\n                if (tooltipText) {\r\n                    this._tooltipDp = new MultiDisposer([\r\n                        events.on(\"pointerover\", function () {\r\n                            _this.showTooltip();\r\n                        }),\r\n                        events.on(\"pointerout\", function () {\r\n                            if (_this.get(\"showTooltipOn\") != \"always\") {\r\n                                _this.hideTooltip();\r\n                            }\r\n                        })\r\n                    ]);\r\n                }\r\n                else {\r\n                    if (this._tooltipDp) {\r\n                        this._tooltipDp.dispose();\r\n                        this._tooltipDp = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"toggleKey\")) {\r\n                var toggleKey_1 = this.get(\"toggleKey\");\r\n                if (toggleKey_1 && toggleKey_1 != \"none\") {\r\n                    this._toggleDp = events.on(\"click\", function () {\r\n                        if (!_this._isDragging) {\r\n                            _this.set(toggleKey_1, !_this.get(toggleKey_1));\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    if (this._toggleDp) {\r\n                        this._toggleDp.dispose();\r\n                        this._toggleDp = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"opacity\")) {\r\n                display.alpha = Math.max(0, this.get(\"opacity\", 1));\r\n            }\r\n            if (this.isDirty(\"rotation\")) {\r\n                this.markDirtyBounds();\r\n                display.angle = this.get(\"rotation\", 0);\r\n            }\r\n            if (this.isDirty(\"scale\")) {\r\n                this.markDirtyBounds();\r\n                display.scale = this.get(\"scale\", 0);\r\n            }\r\n            if (this.isDirty(\"centerX\") || this.isDirty(\"centerY\")) {\r\n                this.markDirtyBounds();\r\n                this.updatePivotPoint();\r\n            }\r\n            if (this.isDirty(\"visible\") || this.isPrivateDirty(\"visible\") || this.isDirty(\"forceHidden\")) {\r\n                if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n                    display.visible = false;\r\n                    this.hideTooltip();\r\n                }\r\n                else {\r\n                    display.visible = true;\r\n                }\r\n                this.markDirtyBounds();\r\n                if (this.get(\"focusable\")) {\r\n                    this.markDirtyAccessibility();\r\n                }\r\n            }\r\n            if (this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n                this.markDirtyBounds();\r\n                this._addPercentageSizeChildren();\r\n                var parent_2 = this.parent;\r\n                if (parent_2) {\r\n                    if ((this.isDirty(\"width\") && this.get(\"width\") instanceof Percent) || (this.isDirty(\"height\") && this.get(\"height\") instanceof Percent)) {\r\n                        parent_2.markDirty();\r\n                        parent_2._prevWidth = 0;\r\n                    }\r\n                }\r\n                this._sizeDirty = true;\r\n            }\r\n            if (this.isDirty(\"maxWidth\") || this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"minWidth\") || this.isDirty(\"minHeight\") || this.isPrivateDirty(\"maxWidth\") || this.isPrivateDirty(\"maxHeight\")) {\r\n                this.markDirtyBounds();\r\n                this._sizeDirty = true;\r\n            }\r\n            if (this._sizeDirty) {\r\n                this._updateSize();\r\n            }\r\n            if (this.isDirty(\"wheelable\")) {\r\n                var wheelable = this.get(\"wheelable\");\r\n                if (wheelable) {\r\n                    this.set(\"interactive\", true);\r\n                }\r\n                display.wheelable = wheelable ? true : false;\r\n            }\r\n            // Accessibility\r\n            if (this.isDirty(\"tabindexOrder\") || this.isDirty(\"focusableGroup\")) {\r\n                if (this.get(\"focusable\")) {\r\n                    this._root._registerTabindexOrder(this);\r\n                }\r\n                else {\r\n                    this._root._unregisterTabindexOrder(this);\r\n                }\r\n            }\r\n            if (this.isDirty(\"filter\")) {\r\n                //this.markDirtyBounds();\r\n                display.filter = this.get(\"filter\");\r\n            }\r\n            if (this.isDirty(\"cursorOverStyle\")) {\r\n                display.cursorOverStyle = this.get(\"cursorOverStyle\");\r\n            }\r\n            if (this.isDirty(\"hoverOnFocus\")) {\r\n                if (this.get(\"hoverOnFocus\")) {\r\n                    this._focusDp = new MultiDisposer([\r\n                        events.on(\"focus\", function () {\r\n                            // TODO: proper hover, not just tooltip\r\n                            _this.showTooltip();\r\n                        }),\r\n                        events.on(\"blur\", function () {\r\n                            // TODO: proper hover, not just tooltip\r\n                            _this.hideTooltip();\r\n                        })\r\n                    ]);\r\n                }\r\n                else {\r\n                    if (this._focusDp) {\r\n                        this._focusDp.dispose();\r\n                        this._focusDp = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"focusable\")) {\r\n                if (this.get(\"focusable\")) {\r\n                    this._root._registerTabindexOrder(this);\r\n                }\r\n                else {\r\n                    this._root._unregisterTabindexOrder(this);\r\n                }\r\n                this.markDirtyAccessibility();\r\n            }\r\n            if (this.isDirty(\"role\") || this.isDirty(\"ariaLive\") || this.isDirty(\"ariaChecked\") || this.isDirty(\"ariaHidden\") || this.isDirty(\"ariaOrientation\") || this.isDirty(\"ariaValueNow\") || this.isDirty(\"ariaValueMin\") || this.isDirty(\"ariaValueMax\") || this.isDirty(\"ariaValueText\") || this.isDirty(\"ariaLabel\") || this.isDirty(\"ariaControls\")) {\r\n                // display.accessibility.ariaLabel = populateString(this, this.get(\"ariaLabel\", \"\"));\r\n                // @todo make sure ariaLabel gets populated in Root\r\n                this.markDirtyAccessibility();\r\n            }\r\n            if (this.isDirty(\"exportable\")) {\r\n                display.exportable = this.get(\"exportable\");\r\n            }\r\n            if (this.isDirty(\"interactive\")) {\r\n                var events_1 = this.events;\r\n                if (this.get(\"interactive\")) {\r\n                    this._hoverDp = new MultiDisposer([\r\n                        events_1.on(\"click\", function (ev) {\r\n                            if ($utils.isTouchEvent(ev.originalEvent)) {\r\n                                if (!_this.getPrivate(\"touchHovering\")) {\r\n                                    _this.setTimeout(function () {\r\n                                        _this._handleOver();\r\n                                        if (_this.get(\"tooltipText\")) {\r\n                                            _this.showTooltip();\r\n                                        }\r\n                                        _this.setPrivateRaw(\"touchHovering\", true);\r\n                                        _this.events.dispatch(\"pointerover\", {\r\n                                            type: \"pointerover\",\r\n                                            target: ev.target,\r\n                                            originalEvent: ev.originalEvent,\r\n                                            point: ev.point,\r\n                                            simulated: ev.simulated\r\n                                        });\r\n                                    }, 10);\r\n                                }\r\n                            }\r\n                        }),\r\n                        events_1.on(\"globalpointerup\", function (ev) {\r\n                            if ($utils.isTouchEvent(ev.originalEvent)) {\r\n                                if (_this.getPrivate(\"touchHovering\")) {\r\n                                    _this._handleOut();\r\n                                    if (_this.get(\"tooltipText\")) {\r\n                                        _this.hideTooltip();\r\n                                    }\r\n                                }\r\n                                _this.setPrivateRaw(\"touchHovering\", false);\r\n                                _this.events.dispatch(\"pointerout\", {\r\n                                    type: \"pointerout\",\r\n                                    target: ev.target,\r\n                                    originalEvent: ev.originalEvent,\r\n                                    point: ev.point,\r\n                                    simulated: ev.simulated\r\n                                });\r\n                            }\r\n                            if (_this._isDown) {\r\n                                _this._handleUp(ev);\r\n                            }\r\n                            //this._isDown = false;\r\n                        }),\r\n                        events_1.on(\"pointerover\", function () {\r\n                            _this._handleOver();\r\n                        }),\r\n                        events_1.on(\"pointerout\", function () {\r\n                            _this._handleOut();\r\n                        }),\r\n                        events_1.on(\"pointerdown\", function (e) {\r\n                            _this._handleDown(e);\r\n                        })\r\n                    ]);\r\n                }\r\n                else {\r\n                    this._display.interactive = false;\r\n                    if (this._hoverDp) {\r\n                        this._hoverDp.dispose();\r\n                        this._hoverDp = undefined;\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"forceInactive\")) {\r\n                this._display.inactive = this.get(\"forceInactive\", false);\r\n            }\r\n            if (this.get(\"showTooltipOn\") == \"always\" && this._display.visible) {\r\n                this.showTooltip();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"dragStart\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            this._dragEvent = e;\r\n            this.events.stopParentDispatch();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"dragStop\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            this._dragEvent = undefined;\r\n            this._dragPoint = undefined;\r\n            this.events.stopParentDispatch();\r\n            if (this._isDragging) {\r\n                this._isDragging = false;\r\n                var type = \"dragstop\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, {\r\n                        type: type,\r\n                        target: this,\r\n                        originalEvent: e.originalEvent,\r\n                        point: e.point,\r\n                        simulated: e.simulated,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_handleOver\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.isHidden()) {\r\n                if (this.get(\"active\") && this.states.lookup(\"hoverActive\")) {\r\n                    this.states.applyAnimate(\"hoverActive\");\r\n                }\r\n                else if (this.get(\"disabled\") && this.states.lookup(\"hoverDisabled\")) {\r\n                    this.states.applyAnimate(\"hoverDisabled\");\r\n                }\r\n                else {\r\n                    this.states.applyAnimate(\"hover\");\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_handleOut\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.isHidden()) {\r\n                if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                    this.states.applyAnimate(\"active\");\r\n                }\r\n                else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                    this.states.applyAnimate(\"disabled\");\r\n                }\r\n                else {\r\n                    if (this.states.lookup(\"hover\") || this.states.lookup(\"hoverActive\")) {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_handleUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            if (!this.isHidden()) {\r\n                if (this.get(\"active\") && this.states.lookup(\"active\")) {\r\n                    this.states.applyAnimate(\"active\");\r\n                }\r\n                else if (this.get(\"disabled\") && this.states.lookup(\"disabled\")) {\r\n                    this.states.applyAnimate(\"disabled\");\r\n                }\r\n                else if (this.states.lookup(\"down\")) {\r\n                    if (this.isHover()) {\r\n                        this.states.applyAnimate(\"hover\");\r\n                    }\r\n                    else {\r\n                        this.states.applyAnimate(\"default\");\r\n                    }\r\n                }\r\n                // @todo remove this once migrated to _downPoints\r\n                this._downPoint = undefined;\r\n                var pointerId = $utils.getPointerId(e.originalEvent);\r\n                delete this._downPoints[pointerId];\r\n                if ($object.keys(this._downPoints).length == 0) {\r\n                    this._isDown = false;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_hasMoved\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            // @todo remove this once migrated to _downPoints\r\n            // if (this._downPoint) {\r\n            // \tconst x = Math.abs(this._downPoint.x - e.point.x);\r\n            // \tconst y = Math.abs(this._downPoint.y - e.point.y);\r\n            // \treturn (x > 5) || (y > 5);\r\n            // }\r\n            var pointerId = $utils.getPointerId(e.originalEvent);\r\n            var downPoint = this._downPoints[pointerId];\r\n            if (downPoint) {\r\n                var x = Math.abs(downPoint.x - e.point.x);\r\n                var y = Math.abs(downPoint.y - e.point.y);\r\n                return (x > 5) || (y > 5);\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_hasDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return $object.keys(this._downPoints).length > 0;\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_handleDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            var parent = this.parent;\r\n            if (parent && !this.get(\"draggable\")) {\r\n                parent._handleDown(e);\r\n            }\r\n            if (this.get(\"interactive\") && !this.isHidden()) {\r\n                if (this.states.lookup(\"down\")) {\r\n                    this.states.applyAnimate(\"down\");\r\n                }\r\n                this._downPoint = {\r\n                    x: e.point.x,\r\n                    y: e.point.y\r\n                };\r\n                // @todo remove this once migrated to _downPoints\r\n                this._isDown = true;\r\n                var pointerId = $utils.getPointerId(e.originalEvent);\r\n                this._downPoints[pointerId] = {\r\n                    x: e.point.x,\r\n                    y: e.point.y\r\n                };\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     * @todo should this be user-accessible?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"dragMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (e) {\r\n            var dragEvent = this._dragEvent;\r\n            if (dragEvent) {\r\n                var angle = 0;\r\n                var parent_3 = this.parent;\r\n                while (parent_3 != null) {\r\n                    angle += parent_3.get(\"rotation\", 0);\r\n                    parent_3 = parent_3.parent;\r\n                }\r\n                var x = e.point.x - dragEvent.point.x;\r\n                var y = e.point.y - dragEvent.point.y;\r\n                var events = this.events;\r\n                if (dragEvent.simulated && !this._isDragging) {\r\n                    this._isDragging = true;\r\n                    this._dragEvent = e;\r\n                    this._dragPoint = {\r\n                        x: this.x(),\r\n                        y: this.y()\r\n                    };\r\n                    var type = \"dragstart\";\r\n                    if (events.isEnabled(type)) {\r\n                        events.dispatch(type, {\r\n                            type: type,\r\n                            target: this,\r\n                            originalEvent: e.originalEvent,\r\n                            point: e.point,\r\n                            simulated: e.simulated,\r\n                        });\r\n                    }\r\n                }\r\n                if (this._isDragging) {\r\n                    var dragPoint = this._dragPoint;\r\n                    this.set(\"x\", dragPoint.x + x * $math.cos(angle) + y * $math.sin(angle));\r\n                    this.set(\"y\", dragPoint.y + y * $math.cos(angle) - x * $math.sin(angle));\r\n                    var type = \"dragged\";\r\n                    if (events.isEnabled(type)) {\r\n                        events.dispatch(type, {\r\n                            type: type,\r\n                            target: this,\r\n                            originalEvent: e.originalEvent,\r\n                            point: e.point,\r\n                            simulated: e.simulated,\r\n                        });\r\n                    }\r\n                }\r\n                else {\r\n                    if (Math.hypot(x, y) > 5) {\r\n                        this._isDragging = true;\r\n                        this._dragEvent = e;\r\n                        this._dragPoint = {\r\n                            x: this.x(),\r\n                            y: this.y()\r\n                        };\r\n                        var type = \"dragstart\";\r\n                        if (events.isEnabled(type)) {\r\n                            events.dispatch(type, {\r\n                                type: type,\r\n                                target: this,\r\n                                originalEvent: e.originalEvent,\r\n                                point: e.point,\r\n                                simulated: e.simulated\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_updateSize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_getBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._localBounds = this._display.getLocalBounds();\r\n        }\r\n    });\r\n    /**\r\n     * Returns depth (how deep in the hierachy of the content tree) of this\r\n     * element.\r\n     *\r\n     * @return Depth\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"depth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var self = this.parent;\r\n            var depth = 0;\r\n            while (true) {\r\n                if (self) {\r\n                    ++depth;\r\n                    self = self.parent;\r\n                }\r\n                else {\r\n                    return depth;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirtySize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._sizeDirty = true;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirtyBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var display = this._display;\r\n            if (this.get(\"isMeasured\")) {\r\n                this._root._addDirtyBounds(this);\r\n                display.isMeasured = true;\r\n                display.invalidateBounds();\r\n                var parent_4 = this.parent;\r\n                if (parent_4 && this.get(\"position\") != \"absolute\") {\r\n                    if (parent_4.get(\"width\") == null || parent_4.get(\"height\") == null || parent_4.get(\"layout\")) {\r\n                        parent_4.markDirtyBounds();\r\n                    }\r\n                }\r\n                if (this.get(\"focusable\") && this.isFocus()) {\r\n                    this.markDirtyAccessibility();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirtyAccessibility\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            //if (this._root.focused(this)) {\r\n            this._root._invalidateAccessibility(this);\r\n            //}\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirtyLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            //this._display.markDirtyLayer(this.isDirty(\"opacity\") || this.isDirty(\"visible\")); https://codepen.io/team/amcharts/pen/gOWZPmP <- problems\r\n            this._display.markDirtyLayer(true);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"markDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.markDirty.call(this);\r\n            this.markDirtyLayer();\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_updateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var oldBounds = this._adjustedLocalBounds;\r\n            var newBounds;\r\n            // if display.visible == false, it still returns bounds\r\n            if (!this.get(\"visible\") || !this.getPrivate(\"visible\") || this.get(\"forceHidden\")) {\r\n                newBounds = {\r\n                    left: 0,\r\n                    right: 0,\r\n                    top: 0,\r\n                    bottom: 0\r\n                };\r\n                this._localBounds = newBounds;\r\n                this._adjustedLocalBounds = newBounds;\r\n            }\r\n            else {\r\n                this._getBounds();\r\n                this._fixMinBounds(this._localBounds);\r\n                this.updatePivotPoint();\r\n                this._adjustedLocalBounds = this._display.getAdjustedBounds(this._localBounds);\r\n                newBounds = this._adjustedLocalBounds;\r\n            }\r\n            if (!oldBounds || (oldBounds.left !== newBounds.left || oldBounds.top !== newBounds.top || oldBounds.right !== newBounds.right || oldBounds.bottom !== newBounds.bottom)) {\r\n                var eventType = \"boundschanged\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this });\r\n                }\r\n                if (this.parent) {\r\n                    this.parent.markDirty();\r\n                    this.parent.markDirtyBounds();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_fixMinBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            var minWidth = this.get(\"minWidth\");\r\n            var minHeight = this.get(\"minHeight\");\r\n            if ($type.isNumber(minWidth)) {\r\n                if (bounds.right - bounds.left < minWidth) {\r\n                    bounds.right = bounds.left + minWidth;\r\n                }\r\n            }\r\n            if ($type.isNumber(minHeight)) {\r\n                if (bounds.bottom - bounds.top < minHeight) {\r\n                    bounds.bottom = bounds.top + minHeight;\r\n                }\r\n            }\r\n            var privateWidth = this.getPrivate(\"width\");\r\n            var privateHeight = this.getPrivate(\"height\");\r\n            if ($type.isNumber(privateWidth)) {\r\n                bounds.right = bounds.left + privateWidth;\r\n            }\r\n            if ($type.isNumber(privateHeight)) {\r\n                bounds.bottom = bounds.top + privateHeight;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_removeParent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parent) {\r\n            if (parent) {\r\n                parent.children.removeValue(this);\r\n                $array.removeFirst(parent._percentageSizeChildren, this);\r\n                $array.removeFirst(parent._percentagePositionChildren, this);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._sizeDirty = false;\r\n            this._statesHandled = false;\r\n        }\r\n    });\r\n    /**\r\n     * Simulate hover over element.\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"hover\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.showTooltip();\r\n            this._handleOver();\r\n        }\r\n    });\r\n    /**\r\n     * Simulate unhover over element.\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"unhover\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.hideTooltip();\r\n            this._handleOut();\r\n        }\r\n    });\r\n    /**\r\n     * Shows element's [[Tooltip]].\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"showTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var tooltip = this.getTooltip();\r\n            var tooltipText = this.get(\"tooltipText\");\r\n            if (tooltipText && tooltip) {\r\n                var tooltipPosition = this.get(\"tooltipPosition\");\r\n                var tooltipTarget = this.getPrivate(\"tooltipTarget\", this);\r\n                if (tooltipPosition == \"fixed\" || !point) {\r\n                    this._display._setMatrix();\r\n                    point = this.toGlobal(tooltipTarget._getTooltipPoint());\r\n                }\r\n                tooltip.set(\"pointTo\", point);\r\n                tooltip.set(\"tooltipTarget\", tooltipTarget);\r\n                if (!tooltip.get(\"x\")) {\r\n                    tooltip.set(\"x\", point.x);\r\n                }\r\n                if (!tooltip.get(\"y\")) {\r\n                    tooltip.set(\"y\", point.y);\r\n                }\r\n                tooltip.label.set(\"text\", tooltipText);\r\n                var dataItem = this.dataItem;\r\n                if (dataItem) {\r\n                    tooltip.label._setDataItem(dataItem);\r\n                }\r\n                if (this.get(\"showTooltipOn\") == \"always\" && (point.x < 0 || point.x > this._root.width() || point.y < 0 || point.y > this._root.height())) {\r\n                    this.hideTooltip();\r\n                    return;\r\n                }\r\n                tooltip.label.text.markDirtyText();\r\n                var promise = tooltip.show();\r\n                this.setPrivateRaw(\"showingTooltip\", true);\r\n                return promise;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Hides element's [[Tooltip]].\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"hideTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltip = this.getTooltip();\r\n            if (tooltip) {\r\n                var promise = tooltip.hide();\r\n                this.setPrivateRaw(\"showingTooltip\", false);\r\n                return promise;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_getTooltipPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var bounds = this._localBounds;\r\n            if (bounds) {\r\n                var x = 0;\r\n                var y = 0;\r\n                if (!this.get(\"isMeasured\")) {\r\n                    x = $utils.relativeToValue(this.get(\"tooltipX\", 0), this.width());\r\n                    y = $utils.relativeToValue(this.get(\"tooltipY\", 0), this.height());\r\n                }\r\n                else {\r\n                    x = bounds.left + $utils.relativeToValue(this.get(\"tooltipX\", 0), bounds.right - bounds.left);\r\n                    y = bounds.top + $utils.relativeToValue(this.get(\"tooltipY\", 0), bounds.bottom - bounds.top);\r\n                }\r\n                return { x: x, y: y };\r\n            }\r\n            return { x: 0, y: 0 };\r\n        }\r\n    });\r\n    /**\r\n     * Returns [[Tooltip]] used for this element.\r\n     *\r\n     * @return Tooltip\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"getTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (!tooltip) {\r\n                var parent_5 = this.parent;\r\n                if (parent_5) {\r\n                    return parent_5.getTooltip();\r\n                }\r\n            }\r\n            else {\r\n                return tooltip;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_updatePosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var parent = this.parent;\r\n            var dx = this.get(\"dx\", 0);\r\n            var dy = this.get(\"dy\", 0);\r\n            var x = this.get(\"x\");\r\n            var _x = this.getPrivate(\"x\");\r\n            var xx = 0;\r\n            var yy = 0;\r\n            var position = this.get(\"position\");\r\n            if (x instanceof Percent) {\r\n                if (parent) {\r\n                    x = parent.innerWidth() * x.value + parent.get(\"paddingLeft\", 0);\r\n                }\r\n                else {\r\n                    x = 0;\r\n                }\r\n            }\r\n            if ($type.isNumber(x)) {\r\n                xx = x + dx;\r\n            }\r\n            else {\r\n                if (_x != null) {\r\n                    xx = _x;\r\n                }\r\n                else if (parent) {\r\n                    if (position == \"relative\") {\r\n                        xx = parent.get(\"paddingLeft\", 0) + dx;\r\n                    }\r\n                }\r\n            }\r\n            var y = this.get(\"y\");\r\n            var _y = this.getPrivate(\"y\");\r\n            if (y instanceof Percent) {\r\n                if (parent) {\r\n                    y = parent.innerHeight() * y.value + parent.get(\"paddingTop\", 0);\r\n                }\r\n                else {\r\n                    y = 0;\r\n                }\r\n            }\r\n            if ($type.isNumber(y)) {\r\n                yy = y + dy;\r\n            }\r\n            else {\r\n                if (_y != null) {\r\n                    yy = _y;\r\n                }\r\n                else if (parent) {\r\n                    if (position == \"relative\") {\r\n                        yy = parent.get(\"paddingTop\", 0) + dy;\r\n                    }\r\n                }\r\n            }\r\n            var display = this._display;\r\n            if (display.x != xx || display.y != yy) {\r\n                display.invalidateBounds();\r\n                display.x = xx;\r\n                display.y = yy;\r\n                var eventType = \"positionchanged\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this });\r\n                }\r\n            }\r\n            // Update tooltip position together with the Sprite\r\n            if (this.getPrivate(\"showingTooltip\")) {\r\n                this.showTooltip();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns element's actual X position in pixels.\r\n     *\r\n     * @return X (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"x\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var x = this.get(\"x\");\r\n            var _x = this.getPrivate(\"x\");\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                if (x instanceof Percent) {\r\n                    return $utils.relativeToValue(x, parent.innerWidth()) + parent.get(\"paddingLeft\", 0);\r\n                }\r\n                else {\r\n                    if (!$type.isNumber(x)) {\r\n                        if (_x != null) {\r\n                            return _x;\r\n                        }\r\n                        else {\r\n                            return parent.get(\"paddingLeft\", this._display.x);\r\n                        }\r\n                    }\r\n                    else {\r\n                        return x;\r\n                    }\r\n                }\r\n            }\r\n            return this._display.x;\r\n        }\r\n    });\r\n    /**\r\n     * Returns element's actual Y position in pixels.\r\n     *\r\n     * @return Y (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"y\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _y = this.getPrivate(\"y\");\r\n            if (_y != null) {\r\n                return _y;\r\n            }\r\n            var y = this.get(\"y\");\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                if (y instanceof Percent) {\r\n                    return $utils.relativeToValue(y, parent.innerHeight()) + parent.get(\"paddingTop\", 0);\r\n                }\r\n                else {\r\n                    if (!$type.isNumber(y)) {\r\n                        if (_y != null) {\r\n                            return _y;\r\n                        }\r\n                        else {\r\n                            return parent.get(\"paddingTop\", this._display.y);\r\n                        }\r\n                    }\r\n                    else {\r\n                        return y;\r\n                    }\r\n                }\r\n            }\r\n            return this._display.y;\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            this._display.dispose();\r\n            this._removeTemplateField();\r\n            this._removeParent(this.parent);\r\n            this._root._removeFocusElement(this);\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.dispose();\r\n            }\r\n            this.markDirty();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"adjustedLocalBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._fixMinBounds(this._adjustedLocalBounds);\r\n            return this._adjustedLocalBounds;\r\n        }\r\n    });\r\n    /**\r\n     * Returns local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"localBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._localBounds;\r\n        }\r\n    });\r\n    /**\r\n     * Returns adjusted local coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"bounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var bounds = this._adjustedLocalBounds;\r\n            var x = this.x();\r\n            var y = this.y();\r\n            return { left: bounds.left + x, right: bounds.right + x, top: bounds.top + y, bottom: bounds.bottom + y };\r\n        }\r\n    });\r\n    /**\r\n     * Returns global coordinates of the element's bounds.\r\n     *\r\n     * @ignore\r\n     * @return Global bounds\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"globalBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var bounds = this.localBounds();\r\n            var p0 = this.toGlobal({ x: bounds.left, y: bounds.top });\r\n            var p1 = this.toGlobal({ x: bounds.right, y: bounds.top });\r\n            var p2 = this.toGlobal({ x: bounds.right, y: bounds.bottom });\r\n            var p3 = this.toGlobal({ x: bounds.left, y: bounds.bottom });\r\n            return {\r\n                left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n                top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n                right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n                bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n            };\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_onShow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_duration) {\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_onHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_duration) {\r\n        }\r\n    });\r\n    /**\r\n     * Plays initial reveal animation regardless if element is currently hidden\r\n     * or visible.\r\n     *\r\n     * @param   duration  Duration of the animation in milliseconds\r\n     * @param   delay     Delay showing of the element by X milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"appear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration, delay) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0: return [4 /*yield*/, this.hide(0)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            if (delay) {\r\n                                return [2 /*return*/, new Promise(function (success, _error) {\r\n                                        _this.setTimeout(function () {\r\n                                            success(_this.show(duration));\r\n                                        }, delay);\r\n                                    })];\r\n                            }\r\n                            else {\r\n                                return [2 /*return*/, this.show(duration)];\r\n                            }\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Shows currently hidden element and returns a `Promise` which completes\r\n     * when all showing animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.show().then(function(ev) {\r\n     *   console.log(\"Series is now fully visible\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"show\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var animations;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!!this._isShowing) return [3 /*break*/, 2];\r\n                            this._isHidden = false;\r\n                            this._isShowing = true;\r\n                            this._isHiding = false;\r\n                            if (this.states.lookup(\"default\").get(\"visible\")) {\r\n                                this.set(\"visible\", true);\r\n                            }\r\n                            this._onShow(duration);\r\n                            animations = this.states.applyAnimate(\"default\", duration);\r\n                            return [4 /*yield*/, waitForAnimations(animations)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this._isShowing = false;\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides the element and returns a `Promise` which completes when all hiding\r\n     * animations are finished.\r\n     *\r\n     * ```TypeScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     * ```JavaScript\r\n     * series.hide().then(function(ev) {\r\n     *   console.log(\"Series finished hiding\");\r\n     * })\r\n     * ```\r\n     *\r\n     * @return Promise\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"hide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var state, animations;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!(!this._isHiding && !this._isHidden)) return [3 /*break*/, 2];\r\n                            this._isHiding = true;\r\n                            this._isShowing = false;\r\n                            state = this.states.lookup(\"hidden\");\r\n                            if (!state) {\r\n                                state = this.states.create(\"hidden\", {\r\n                                    \"opacity\": 0,\r\n                                    \"visible\": false\r\n                                });\r\n                            }\r\n                            this._isHidden = true;\r\n                            this._onHide(duration);\r\n                            animations = this.states.applyAnimate(\"hidden\", duration);\r\n                            return [4 /*yield*/, waitForAnimations(animations)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this._isHiding = false;\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is currently hidden.\r\n     *\r\n     * @return Is hidden?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isHidden\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isHidden;\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is currently animating to a default state.\r\n     *\r\n     * @return Is showing?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isShowing\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isShowing;\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is currently animating to a hidden state.\r\n     *\r\n     * @return Is hiding?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isHiding\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isHiding;\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is currently hovered by a pointer.\r\n     *\r\n     * @return Is hovered?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isHover\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._display.hovering();\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element does currently have focus.\r\n     *\r\n     * @return Is focused?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isFocus\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._root.focused(this);\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if this element is currently being dragged.\r\n     *\r\n     * @return Is dragged?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isDragging\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isDragging;\r\n        }\r\n    });\r\n    /**\r\n     * Returns `false` if if either public or private setting `visible` is set\r\n     * to `false`, or `forceHidden` is set to `true`.\r\n     *\r\n     * @return Visible?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isVisible\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.get(\"visible\") && this.getPrivate(\"visible\") && !this.get(\"forceHidden\")) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    /**\r\n     * Same as `isVisible()`, except it checks all ascendants, too.\r\n     *\r\n     * @since 5.2.7\r\n     * @return Visible?\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"isVisibleDeep\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._parent ? (this._parent.isVisibleDeep() && this.isVisible()) : this.isVisible();\r\n        }\r\n    });\r\n    /**\r\n     * Returns width of this element in pixels.\r\n     *\r\n     * @return Width (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"width\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var width = this.get(\"width\");\r\n            var maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n            var minWidth = this.get(\"minWidth\");\r\n            var privateWidth = this.getPrivate(\"width\");\r\n            var w = 0;\r\n            if ($type.isNumber(privateWidth)) {\r\n                w = privateWidth;\r\n            }\r\n            else {\r\n                if (width == null) {\r\n                    if (this._adjustedLocalBounds) {\r\n                        w = this._adjustedLocalBounds.right - this._adjustedLocalBounds.left;\r\n                    }\r\n                }\r\n                else {\r\n                    if (width instanceof Percent) {\r\n                        var parent_6 = this.parent;\r\n                        if (parent_6) {\r\n                            w = parent_6.innerWidth() * width.value;\r\n                        }\r\n                        else {\r\n                            w = this._root.width() * width.value;\r\n                        }\r\n                    }\r\n                    else if ($type.isNumber(width)) {\r\n                        w = width;\r\n                    }\r\n                }\r\n            }\r\n            if ($type.isNumber(minWidth)) {\r\n                w = Math.max(minWidth, w);\r\n            }\r\n            if ($type.isNumber(maxWidth)) {\r\n                w = Math.min(maxWidth, w);\r\n            }\r\n            return w;\r\n        }\r\n    });\r\n    /**\r\n     * Returns maximum allowed width of this element in pixels.\r\n     *\r\n     * @return Maximum width (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"maxWidth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n            if ($type.isNumber(maxWidth)) {\r\n                return maxWidth;\r\n            }\r\n            else {\r\n                var width = this.get(\"width\");\r\n                if ($type.isNumber(width)) {\r\n                    return width;\r\n                }\r\n            }\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                return parent.innerWidth();\r\n            }\r\n            return this._root.width();\r\n        }\r\n    });\r\n    /**\r\n     * Returns maximum allowed height of this element in pixels.\r\n     *\r\n     * @return Maximum height (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"maxHeight\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n            if ($type.isNumber(maxHeight)) {\r\n                return maxHeight;\r\n            }\r\n            else {\r\n                var height = this.get(\"height\");\r\n                if ($type.isNumber(height)) {\r\n                    return height;\r\n                }\r\n            }\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                return parent.innerHeight();\r\n            }\r\n            return this._root.height();\r\n        }\r\n    });\r\n    /**\r\n     * Returns height of this element in pixels.\r\n     *\r\n     * @return Height (px)\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"height\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var height = this.get(\"height\");\r\n            var maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n            var minHeight = this.get(\"minHeight\");\r\n            var privateHeight = this.getPrivate(\"height\");\r\n            var h = 0;\r\n            if ($type.isNumber(privateHeight)) {\r\n                h = privateHeight;\r\n            }\r\n            else {\r\n                if (height == null) {\r\n                    if (this._adjustedLocalBounds) {\r\n                        h = this._adjustedLocalBounds.bottom - this._adjustedLocalBounds.top;\r\n                    }\r\n                }\r\n                else {\r\n                    if (height instanceof Percent) {\r\n                        var parent_7 = this.parent;\r\n                        if (parent_7) {\r\n                            h = parent_7.innerHeight() * height.value;\r\n                        }\r\n                        else {\r\n                            h = this._root.height() * height.value;\r\n                        }\r\n                    }\r\n                    else if ($type.isNumber(height)) {\r\n                        h = height;\r\n                    }\r\n                }\r\n            }\r\n            if ($type.isNumber(minHeight)) {\r\n                h = Math.max(minHeight, h);\r\n            }\r\n            if ($type.isNumber(maxHeight)) {\r\n                h = Math.min(maxHeight, h);\r\n            }\r\n            return h;\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_findStaticTemplate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            // templateField overrides template\r\n            if (this._templateField && f(this._templateField)) {\r\n                return this._templateField;\r\n            }\r\n            return _super.prototype._findStaticTemplate.call(this, f);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_walkParents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            if (this._parent) {\r\n                this._walkParent(f);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_walkParent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            if (this._parent) {\r\n                this._parent._walkParent(f);\r\n            }\r\n            f(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"parent\", {\r\n        /**\r\n         * Parent [[Container]] of this element.\r\n         *\r\n         * @return Parent container\r\n         */\r\n        get: function () {\r\n            return this._parent;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_setParent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parent, updateChildren) {\r\n            if (updateChildren === void 0) { updateChildren = false; }\r\n            var prevParent = this._parent;\r\n            if (parent !== prevParent) {\r\n                this.markDirtyBounds();\r\n                parent.markDirty();\r\n                this._parent = parent;\r\n                if (updateChildren) {\r\n                    this._removeParent(prevParent);\r\n                    if (parent) {\r\n                        this._addPercentageSizeChildren();\r\n                        this._addPercentagePositionChildren();\r\n                    }\r\n                }\r\n                this.markDirtyPosition();\r\n                this._applyThemes();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns an instance of [[NumberFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return NumberFormatter instace\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"getNumberFormatter\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.get(\"numberFormatter\", this._root.numberFormatter);\r\n        }\r\n    });\r\n    /**\r\n     * Returns an instance of [[DateFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DateFormatter instace\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"getDateFormatter\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.get(\"dateFormatter\", this._root.dateFormatter);\r\n        }\r\n    });\r\n    /**\r\n     * Returns an instance of [[DurationFormatter]] used in this element.\r\n     *\r\n     * If this element does not have it set, global one form [[Root]] is used.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/using-formatters/} for more info\r\n     * @return DurationFormatter instace\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"getDurationFormatter\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.get(\"durationFormatter\", this._root.durationFormatter);\r\n        }\r\n    });\r\n    /**\r\n     * Converts X/Y coordinate within this element to a global coordinate.\r\n     *\r\n     * @param  point  Local coordinate\r\n     * @return        Global coordinate\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"toGlobal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this._display.toGlobal(point);\r\n        }\r\n    });\r\n    /**\r\n     * Converts global X/Y coordinate to a coordinate within this element.\r\n     *\r\n     * @param  point  Global coordinate\r\n     * @return        Local coordinate\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"toLocal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this._display.toLocal(point);\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_getDownPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var id = this._getDownPointId();\r\n            if (id) {\r\n                return this._downPoints[id];\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite.prototype, \"_getDownPointId\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._downPoints) {\r\n                return $object.keysOrdered(this._downPoints, function (a, b) {\r\n                    if (a > b) {\r\n                        return 1;\r\n                    }\r\n                    if (a < b) {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                })[0];\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Moves sprite to the end of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"toFront\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                parent.children.moveValue(this, parent.children.length - 1);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Moves sprite to the beginning of the parent's children array.\r\n     *\r\n     * Depending on `layout` setting of the parten container, it may effect the\r\n     * positioning or overlapping order of the elements.\r\n     */\r\n    Object.defineProperty(Sprite.prototype, \"toBack\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                parent.children.moveValue(this, 0);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Sprite, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Sprite\"\r\n    });\r\n    Object.defineProperty(Sprite, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([Sprite.className])\r\n    });\r\n    return Sprite;\r\n}(Entity));\r\nexport { Sprite };\r\n//# sourceMappingURL=Sprite.js.map",";\r\n/**\r\n * From https://github.com/pixijs/pixi.js/blob/3dd0ff9a935f0bc13a09aefff9eb2872f02c51b9/packages/canvas/canvas-renderer/src/utils/mapCanvasBlendModesToPixi.ts#L13\r\n */\r\nexport var BlendMode;\r\n(function (BlendMode) {\r\n    BlendMode[\"ADD\"] = \"lighter\";\r\n    BlendMode[\"COLOR\"] = \"color\";\r\n    BlendMode[\"COLOR_BURN\"] = \"color-burn\";\r\n    BlendMode[\"COLOR_DODGE\"] = \"color-dodge\";\r\n    BlendMode[\"DARKEN\"] = \"darken\";\r\n    BlendMode[\"DIFFERENCE\"] = \"difference\";\r\n    BlendMode[\"DST_OVER\"] = \"destination-over\";\r\n    BlendMode[\"EXCLUSION\"] = \"exclusion\";\r\n    BlendMode[\"HARD_LIGHT\"] = \"hard-light\";\r\n    BlendMode[\"HUE\"] = \"hue\";\r\n    BlendMode[\"LIGHTEN\"] = \"lighten\";\r\n    BlendMode[\"LUMINOSITY\"] = \"luminosity\";\r\n    BlendMode[\"MULTIPLY\"] = \"multiply\";\r\n    BlendMode[\"NORMAL\"] = \"source-over\";\r\n    BlendMode[\"OVERLAY\"] = \"overlay\";\r\n    BlendMode[\"SATURATION\"] = \"saturation\";\r\n    BlendMode[\"SCREEN\"] = \"screen\";\r\n    BlendMode[\"SOFT_LIGHT\"] = \"soft-light\";\r\n    BlendMode[\"SRC_ATOP\"] = \"source-atop\";\r\n    BlendMode[\"XOR\"] = \"xor\";\r\n})(BlendMode || (BlendMode = {}));\r\n//# sourceMappingURL=Renderer.js.map","import { __extends } from \"tslib\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { BlendMode } from \"./backend/Renderer\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $array from \"../util/Array\";\r\nexport var visualSettings = [\"fill\", \"fillOpacity\", \"stroke\", \"strokeWidth\", \"strokeOpacity\", \"fillPattern\", \"strokePattern\", \"fillGradient\", \"strokeGradient\", \"strokeDasharray\", \"strokeDashoffset\"];\r\n/**\r\n * Base class used for drawing shapes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar Graphics = /** @class */ (function (_super) {\r\n    __extends(Graphics, _super);\r\n    function Graphics() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeGraphics()\r\n        });\r\n        Object.defineProperty(_this, \"_clear\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Graphics.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"draw\") || this.isDirty(\"svgPath\")) {\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"fill\") || this.isDirty(\"stroke\") || this.isDirty(\"visible\") || this.isDirty(\"forceHidden\") || this.isDirty(\"fillGradient\") || this.isDirty(\"strokeGradient\") || this.isDirty(\"fillPattern\") || this.isDirty(\"strokePattern\") || this.isDirty(\"fillOpacity\") || this.isDirty(\"strokeOpacity\") || this.isDirty(\"strokeWidth\") || this.isDirty(\"draw\") || this.isDirty(\"blendMode\") || this.isDirty(\"strokeDasharray\") || this.isDirty(\"strokeDashoffset\") || this.isDirty(\"svgPath\") || this.isDirty(\"shadowColor\") || this.isDirty(\"shadowBlur\") || this.isDirty(\"shadowOffsetX\") || this.isDirty(\"shadowOffsetY\")) {\r\n                this._clear = true;\r\n            }\r\n            if (this.isDirty(\"fillGradient\")) {\r\n                var gradient = this.get(\"fillGradient\");\r\n                if (gradient) {\r\n                    this._display.isMeasured = true;\r\n                    var gradientTarget = gradient.get(\"target\");\r\n                    if (gradientTarget) {\r\n                        this._disposers.push(gradientTarget.events.on(\"boundschanged\", function () {\r\n                            _this._markDirtyKey(\"fill\");\r\n                        }));\r\n                        this._disposers.push(gradientTarget.events.on(\"positionchanged\", function () {\r\n                            _this._markDirtyKey(\"fill\");\r\n                        }));\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"strokeGradient\")) {\r\n                var gradient = this.get(\"strokeGradient\");\r\n                if (gradient) {\r\n                    this._display.isMeasured = true;\r\n                    var gradientTarget = gradient.get(\"target\");\r\n                    if (gradientTarget) {\r\n                        this._disposers.push(gradientTarget.events.on(\"boundschanged\", function () {\r\n                            _this._markDirtyKey(\"stroke\");\r\n                        }));\r\n                        this._disposers.push(gradientTarget.events.on(\"positionchanged\", function () {\r\n                            _this._markDirtyKey(\"stroke\");\r\n                        }));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Graphics.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear) {\r\n                this.markDirtyLayer();\r\n                this._display.clear();\r\n                var strokeDasharray = this.get(\"strokeDasharray\");\r\n                if ($type.isNumber(strokeDasharray)) {\r\n                    if (strokeDasharray < 0.5) {\r\n                        strokeDasharray = [0];\r\n                    }\r\n                    else {\r\n                        strokeDasharray = [strokeDasharray];\r\n                    }\r\n                }\r\n                this._display.setLineDash(strokeDasharray);\r\n                var strokeDashoffset = this.get(\"strokeDashoffset\");\r\n                if (strokeDashoffset) {\r\n                    this._display.setLineDashOffset(strokeDashoffset);\r\n                }\r\n                var blendMode = this.get(\"blendMode\", BlendMode.NORMAL);\r\n                this._display.blendMode = blendMode;\r\n                var draw = this.get(\"draw\");\r\n                if (draw) {\r\n                    draw(this._display, this);\r\n                }\r\n                var svgPath = this.get(\"svgPath\");\r\n                if (svgPath != null) {\r\n                    this._display.svgPath(svgPath);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Graphics.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterChanged.call(this);\r\n            if (this._clear) {\r\n                var fill_1 = this.get(\"fill\");\r\n                var fillGradient = this.get(\"fillGradient\");\r\n                var fillPattern = this.get(\"fillPattern\");\r\n                var fillOpacity_1 = this.get(\"fillOpacity\");\r\n                var stroke_1 = this.get(\"stroke\");\r\n                var strokeGradient = this.get(\"strokeGradient\");\r\n                var strokePattern = this.get(\"strokePattern\");\r\n                var shadowColor = this.get(\"shadowColor\");\r\n                var shadowBlur = this.get(\"shadowBlur\");\r\n                var shadowOffsetX = this.get(\"shadowOffsetX\");\r\n                var shadowOffsetY = this.get(\"shadowOffsetY\");\r\n                var shadowOpacity = this.get(\"shadowOpacity\");\r\n                //const bounds = this._display.getLocalBounds();\r\n                if (shadowColor && (shadowBlur || shadowOffsetX || shadowOffsetY)) {\r\n                    this._display.shadow(shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY, shadowOpacity);\r\n                }\r\n                if (fillPattern) {\r\n                    var changed = false;\r\n                    if (fill_1 && (!fillPattern.get(\"fill\") || fillPattern.get(\"fillInherited\"))) {\r\n                        fillPattern.set(\"fill\", fill_1);\r\n                        fillPattern.set(\"fillInherited\", true);\r\n                        changed = true;\r\n                    }\r\n                    if (stroke_1 && (!fillPattern.get(\"color\") || fillPattern.get(\"colorInherited\"))) {\r\n                        fillPattern.set(\"color\", stroke_1);\r\n                        fillPattern.set(\"colorInherited\", true);\r\n                        changed = true;\r\n                    }\r\n                    if (changed) {\r\n                        // @todo: is this OK?\r\n                        fillPattern._changed();\r\n                    }\r\n                    var pattern = fillPattern.pattern;\r\n                    if (pattern) {\r\n                        this._display.beginFill(pattern, fillOpacity_1);\r\n                        this._display.endFill();\r\n                    }\r\n                }\r\n                else if (fillGradient) {\r\n                    if (fill_1) {\r\n                        var stops = fillGradient.get(\"stops\", []);\r\n                        if (stops.length) {\r\n                            $array.each(stops, function (stop) {\r\n                                if ((!stop.color || stop.colorInherited) && fill_1) {\r\n                                    stop.color = fill_1;\r\n                                    stop.colorInherited = true;\r\n                                }\r\n                                if (stop.opacity == null || stop.opacityInherited) {\r\n                                    stop.opacity = fillOpacity_1;\r\n                                    stop.opacityInherited = true;\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    var gradient = fillGradient.getFill(this);\r\n                    if (gradient) {\r\n                        this._display.beginFill(gradient, fillOpacity_1);\r\n                        this._display.endFill();\r\n                    }\r\n                }\r\n                else if (fill_1) {\r\n                    this._display.beginFill(fill_1, fillOpacity_1);\r\n                    this._display.endFill();\r\n                }\r\n                if (stroke_1 || strokeGradient || strokePattern) {\r\n                    var strokeOpacity_1 = this.get(\"strokeOpacity\");\r\n                    var strokeWidth = this.get(\"strokeWidth\", 1);\r\n                    if (strokePattern) {\r\n                        var changed = false;\r\n                        if (stroke_1 && (!strokePattern.get(\"color\") || strokePattern.get(\"colorInherited\"))) {\r\n                            strokePattern.set(\"color\", stroke_1);\r\n                            strokePattern.set(\"colorInherited\", true);\r\n                            changed = true;\r\n                        }\r\n                        if (changed) {\r\n                            // @todo: is this OK?\r\n                            strokePattern._changed();\r\n                        }\r\n                        var pattern = strokePattern.pattern;\r\n                        if (pattern) {\r\n                            this._display.lineStyle(strokeWidth, pattern, strokeOpacity_1);\r\n                            this._display.endStroke();\r\n                        }\r\n                    }\r\n                    else if (strokeGradient) {\r\n                        var stops = strokeGradient.get(\"stops\", []);\r\n                        if (stops.length) {\r\n                            $array.each(stops, function (stop) {\r\n                                if ((!stop.color || stop.colorInherited) && stroke_1) {\r\n                                    stop.color = stroke_1;\r\n                                    stop.colorInherited = true;\r\n                                }\r\n                                if (stop.opacity == null || stop.opacityInherited) {\r\n                                    stop.opacity = strokeOpacity_1;\r\n                                    stop.opacityInherited = true;\r\n                                }\r\n                            });\r\n                        }\r\n                        var gradient = strokeGradient.getFill(this);\r\n                        if (gradient) {\r\n                            this._display.lineStyle(strokeWidth, gradient, strokeOpacity_1);\r\n                            this._display.endStroke();\r\n                        }\r\n                    }\r\n                    else if (stroke_1) {\r\n                        this._display.lineStyle(strokeWidth, stroke_1, strokeOpacity_1);\r\n                        this._display.endStroke();\r\n                    }\r\n                }\r\n            }\r\n            this._clear = false;\r\n        }\r\n    });\r\n    Object.defineProperty(Graphics, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Graphics\"\r\n    });\r\n    Object.defineProperty(Graphics, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Sprite.classNames.concat([Graphics.className])\r\n    });\r\n    return Graphics;\r\n}(Sprite));\r\nexport { Graphics };\r\n//# sourceMappingURL=Graphics.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"./Graphics\";\r\n/**\r\n * Draws a rectangle.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar Rectangle = /** @class */ (function (_super) {\r\n    __extends(Rectangle, _super);\r\n    function Rectangle() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Rectangle.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"width\") || this.isDirty(\"height\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear && !this.get(\"draw\")) {\r\n                this._draw();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"_draw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._display.drawRect(0, 0, this.width(), this.height());\r\n        }\r\n    });\r\n    Object.defineProperty(Rectangle.prototype, \"_updateSize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.markDirty();\r\n            this._clear = true;\r\n        }\r\n    });\r\n    Object.defineProperty(Rectangle, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Rectangle\"\r\n    });\r\n    Object.defineProperty(Rectangle, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([Rectangle.className])\r\n    });\r\n    return Rectangle;\r\n}(Graphics));\r\nexport { Rectangle };\r\n//# sourceMappingURL=Rectangle.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"../util/Entity\";\r\nexport function eachChildren(container, f) {\r\n    if (container.get(\"reverseChildren\", false)) {\r\n        container.children.eachReverse(f);\r\n    }\r\n    else {\r\n        container.children.each(f);\r\n    }\r\n}\r\n/**\r\n * Base class for [[Container]] layouts.\r\n */\r\nvar Layout = /** @class */ (function (_super) {\r\n    __extends(Layout, _super);\r\n    function Layout() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Layout, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Layout\"\r\n    });\r\n    Object.defineProperty(Layout, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([Layout.className])\r\n    });\r\n    return Layout;\r\n}(Entity));\r\nexport { Layout };\r\n//# sourceMappingURL=Layout.js.map","import { __extends } from \"tslib\";\r\nimport { Layout, eachChildren } from \"./Layout\";\r\nimport * as $type from \"../util/Type\";\r\nimport { Percent } from \"../util/Percent\";\r\n/**\r\n * A horizontal children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nvar HorizontalLayout = /** @class */ (function (_super) {\r\n    __extends(HorizontalLayout, _super);\r\n    function HorizontalLayout() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(HorizontalLayout.prototype, \"updateContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container) {\r\n            var paddingLeft = container.get(\"paddingLeft\", 0);\r\n            var availableWidth = container.innerWidth();\r\n            var totalPercent = 0;\r\n            eachChildren(container, function (child) {\r\n                if (child.isVisible()) {\r\n                    if (child.get(\"position\") == \"relative\") {\r\n                        var childWidth = child.get(\"width\");\r\n                        if (childWidth instanceof Percent) {\r\n                            totalPercent += childWidth.value;\r\n                            var w = availableWidth * childWidth.value;\r\n                            var minWidth = child.get(\"minWidth\", -Infinity);\r\n                            if (minWidth > w) {\r\n                                availableWidth -= minWidth;\r\n                                totalPercent -= childWidth.value;\r\n                            }\r\n                            var maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                            if (w > maxWidth) {\r\n                                availableWidth -= maxWidth;\r\n                                totalPercent -= childWidth.value;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (!$type.isNumber(childWidth)) {\r\n                                childWidth = child.width();\r\n                            }\r\n                            availableWidth -= childWidth + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (availableWidth > 0) {\r\n                eachChildren(container, function (child) {\r\n                    if (child.isVisible()) {\r\n                        if (child.get(\"position\") == \"relative\") {\r\n                            var childWidth = child.get(\"width\");\r\n                            if (childWidth instanceof Percent) {\r\n                                var privateWidth = availableWidth * childWidth.value / totalPercent - child.get(\"marginLeft\", 0) - child.get(\"marginRight\", 0);\r\n                                var minWidth = child.get(\"minWidth\", -Infinity);\r\n                                var maxWidth = child.get(\"maxWidth\", child.getPrivate(\"maxWidth\", Infinity));\r\n                                privateWidth = Math.min(Math.max(minWidth, privateWidth), maxWidth);\r\n                                child.setPrivate(\"width\", privateWidth);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            var prevX = paddingLeft;\r\n            eachChildren(container, function (child) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    if (child.isVisible()) {\r\n                        var bounds = child.adjustedLocalBounds();\r\n                        var marginLeft = child.get(\"marginLeft\", 0);\r\n                        var marginRight = child.get(\"marginRight\", 0);\r\n                        var x = prevX + marginLeft - bounds.left;\r\n                        child.setPrivate(\"x\", x);\r\n                        prevX = x + bounds.right + marginRight;\r\n                    }\r\n                    else {\r\n                        child.setPrivate(\"x\", undefined);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(HorizontalLayout, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"HorizontalLayout\"\r\n    });\r\n    Object.defineProperty(HorizontalLayout, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Layout.classNames.concat([HorizontalLayout.className])\r\n    });\r\n    return HorizontalLayout;\r\n}(Layout));\r\nexport { HorizontalLayout };\r\n//# sourceMappingURL=HorizontalLayout.js.map","import { __extends } from \"tslib\";\r\nimport { Layout, eachChildren } from \"./Layout\";\r\nimport * as $type from \"../util/Type\";\r\nimport { Percent } from \"../util/Percent\";\r\n/**\r\n * A vertical children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nvar VerticalLayout = /** @class */ (function (_super) {\r\n    __extends(VerticalLayout, _super);\r\n    function VerticalLayout() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(VerticalLayout.prototype, \"updateContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container) {\r\n            var paddingTop = container.get(\"paddingTop\", 0);\r\n            var availableHeight = container.innerHeight();\r\n            var totalPercent = 0;\r\n            eachChildren(container, function (child) {\r\n                if (child.isVisible()) {\r\n                    if (child.get(\"position\") == \"relative\") {\r\n                        var childHeight = child.get(\"height\");\r\n                        if (childHeight instanceof Percent) {\r\n                            totalPercent += childHeight.value;\r\n                            var h = availableHeight * childHeight.value;\r\n                            var minHeight = child.get(\"minHeight\", -Infinity);\r\n                            if (minHeight > h) {\r\n                                availableHeight -= minHeight;\r\n                                totalPercent -= childHeight.value;\r\n                            }\r\n                            var maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                            if (h > maxHeight) {\r\n                                availableHeight -= maxHeight;\r\n                                totalPercent -= childHeight.value;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (!$type.isNumber(childHeight)) {\r\n                                childHeight = child.height();\r\n                            }\r\n                            availableHeight -= childHeight + child.get(\"marginTop\", 0) + child.get(\"marginBottom\", 0);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (availableHeight > 0) {\r\n                eachChildren(container, function (child) {\r\n                    if (child.isVisible()) {\r\n                        if (child.get(\"position\") == \"relative\") {\r\n                            var childHeight = child.get(\"height\");\r\n                            if (childHeight instanceof Percent) {\r\n                                var privateHeight = availableHeight * childHeight.value / totalPercent - child.get(\"marginTop\", 0) - child.get(\"marginBottom\", 0);\r\n                                var minHeight = child.get(\"minHeight\", -Infinity);\r\n                                var maxHeight = child.get(\"maxHeight\", child.getPrivate(\"maxHeight\", Infinity));\r\n                                privateHeight = Math.min(Math.max(minHeight, privateHeight), maxHeight);\r\n                                child.setPrivate(\"height\", privateHeight);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            var prevY = paddingTop;\r\n            eachChildren(container, function (child) {\r\n                if (child.get(\"position\") == \"relative\") {\r\n                    if (child.isVisible()) {\r\n                        var bounds = child.adjustedLocalBounds();\r\n                        var marginTop = child.get(\"marginTop\", 0);\r\n                        var marginBottom = child.get(\"marginBottom\", 0);\r\n                        var y = prevY + marginTop - bounds.top;\r\n                        child.setPrivate(\"y\", y);\r\n                        prevY = y + bounds.bottom + marginBottom;\r\n                    }\r\n                    else {\r\n                        child.setPrivate(\"y\", undefined);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(VerticalLayout, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"VerticalLayout\"\r\n    });\r\n    Object.defineProperty(VerticalLayout, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Layout.classNames.concat([VerticalLayout.className])\r\n    });\r\n    return VerticalLayout;\r\n}(Layout));\r\nexport { VerticalLayout };\r\n//# sourceMappingURL=VerticalLayout.js.map","import { __extends } from \"tslib\";\r\nimport { Layout, eachChildren } from \"./Layout\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * A grid children layout for [[Container]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/#Layout} for more info\r\n */\r\nvar GridLayout = /** @class */ (function (_super) {\r\n    __extends(GridLayout, _super);\r\n    function GridLayout() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(GridLayout.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._setRawDefault(\"maxColumns\", Number.MAX_VALUE);\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(GridLayout.prototype, \"updateContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container) {\r\n            var paddingLeft = container.get(\"paddingLeft\", 0);\r\n            var paddingRight = container.get(\"paddingRight\", 0);\r\n            var paddingTop = container.get(\"paddingTop\", 0);\r\n            var availableWidth = container.maxWidth() - paddingLeft - paddingRight;\r\n            var minCellWidth = availableWidth;\r\n            var maxCellWidth = 1;\r\n            eachChildren(container, function (child) {\r\n                if (child.get(\"visible\") && child.getPrivate(\"visible\") && !child.get(\"forceHidden\")) {\r\n                    if (child.get(\"position\") != \"absolute\") {\r\n                        var childWidth = child.width();\r\n                        if (childWidth < minCellWidth) {\r\n                            minCellWidth = childWidth;\r\n                        }\r\n                        if (childWidth > maxCellWidth) {\r\n                            maxCellWidth = childWidth;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            minCellWidth = $math.fitToRange(minCellWidth, 1, availableWidth);\r\n            maxCellWidth = $math.fitToRange(maxCellWidth, 1, availableWidth);\r\n            var columnCount = 1;\r\n            if (this.get(\"fixedWidthGrid\")) {\r\n                columnCount = availableWidth / maxCellWidth;\r\n            }\r\n            else {\r\n                columnCount = availableWidth / minCellWidth;\r\n            }\r\n            columnCount = Math.max(1, Math.floor(columnCount));\r\n            columnCount = Math.min(this.get(\"maxColumns\", Number.MAX_VALUE), columnCount);\r\n            var columnWidths = this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n            var prevY = paddingTop;\r\n            var column = 0;\r\n            var maxColumnHeight = 0;\r\n            columnCount = columnWidths.length;\r\n            var prevX = paddingLeft;\r\n            eachChildren(container, function (child) {\r\n                if (child.get(\"position\") == \"relative\" && child.isVisible()) {\r\n                    var marginTop = child.get(\"marginTop\", 0);\r\n                    var marginBottom = child.get(\"marginBottom\", 0);\r\n                    var bounds = child.adjustedLocalBounds();\r\n                    var marginLeft = child.get(\"marginLeft\", 0);\r\n                    var marginRight = child.get(\"marginRight\", 0);\r\n                    var x = prevX + marginLeft - bounds.left;\r\n                    var y = prevY + marginTop - bounds.top;\r\n                    child.setPrivate(\"x\", x);\r\n                    child.setPrivate(\"y\", y);\r\n                    prevX += columnWidths[column] + marginRight;\r\n                    maxColumnHeight = Math.max(maxColumnHeight, child.height() + marginTop + marginBottom);\r\n                    column++;\r\n                    if (column >= columnCount) {\r\n                        column = 0;\r\n                        prevX = paddingLeft;\r\n                        prevY += maxColumnHeight;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(GridLayout.prototype, \"getColumnWidths\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (container, columnCount, maxCellWidth, availableWidth) {\r\n            var _this = this;\r\n            var totalWidth = 0;\r\n            var columnWidths = [];\r\n            var column = 0;\r\n            eachChildren(container, function (child) {\r\n                var bounds = child.adjustedLocalBounds();\r\n                if (child.get(\"position\") != \"absolute\" && child.isVisible()) {\r\n                    if (_this.get(\"fixedWidthGrid\")) {\r\n                        columnWidths[column] = maxCellWidth;\r\n                    }\r\n                    else {\r\n                        columnWidths[column] = Math.max(columnWidths[column] | 0, bounds.right - bounds.left + child.get(\"marginLeft\", 0) + child.get(\"marginRight\", 0));\r\n                    }\r\n                    if (column < container.children.length - 1) {\r\n                        column++;\r\n                        if (column == columnCount) {\r\n                            column = 0;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            $array.each(columnWidths, function (w) {\r\n                totalWidth += w;\r\n            });\r\n            if (totalWidth > availableWidth) {\r\n                if (columnCount > 2) {\r\n                    columnCount -= 1;\r\n                    return this.getColumnWidths(container, columnCount, maxCellWidth, availableWidth);\r\n                }\r\n                else {\r\n                    return [availableWidth];\r\n                }\r\n            }\r\n            return columnWidths;\r\n        }\r\n    });\r\n    Object.defineProperty(GridLayout, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"GridLayout\"\r\n    });\r\n    Object.defineProperty(GridLayout, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Layout.classNames.concat([GridLayout.className])\r\n    });\r\n    return GridLayout;\r\n}(Layout));\r\nexport { GridLayout };\r\n//# sourceMappingURL=GridLayout.js.map","import { __extends } from \"tslib\";\r\nimport { Children } from \"../util/Children\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { Rectangle } from \"./Rectangle\";\r\nimport { HorizontalLayout } from \"./HorizontalLayout\";\r\nimport { VerticalLayout } from \"./VerticalLayout\";\r\nimport { GridLayout } from \"./GridLayout\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $utils from \"../util/Utils\";\r\n/**\r\n * A basic element that can have child elements, maintain their layout, and\r\n * have a background.\r\n *\r\n * It can have any [[Sprite]] element as a child, from very basic shapes, to\r\n * full-fledged charts.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/containers/} for more info\r\n * @important\r\n */\r\nvar Container = /** @class */ (function (_super) {\r\n    __extends(Container, _super);\r\n    function Container() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeContainer()\r\n        });\r\n        Object.defineProperty(_this, \"_childrenDisplay\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeContainer()\r\n        });\r\n        /**\r\n         * List of Container's child elements.\r\n         */\r\n        Object.defineProperty(_this, \"children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Children(_this)\r\n        });\r\n        Object.defineProperty(_this, \"_percentageSizeChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_percentagePositionChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_prevWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_prevHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_contentWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_contentHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_contentMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Container.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterNew.call(this);\r\n            this._display.addChild(this._childrenDisplay);\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            $array.eachReverse(this.allChildren(), function (child) {\r\n                child.dispose();\r\n            });\r\n            _super.prototype._dispose.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this.isDirty(\"interactiveChildren\")) {\r\n                this._display.interactiveChildren = this.get(\"interactiveChildren\", false);\r\n            }\r\n            if (this.isDirty(\"layout\")) {\r\n                this._prevWidth = 0;\r\n                this._prevHeight = 0;\r\n                this.markDirtyBounds();\r\n                if (this._prevSettings.layout) {\r\n                    this.children.each(function (child) {\r\n                        child.removePrivate(\"x\");\r\n                        child.removePrivate(\"y\");\r\n                    });\r\n                }\r\n            }\r\n            if (this.isDirty(\"paddingTop\") || this.isDirty(\"paddingBottom\") || this.isDirty(\"paddingLeft\") || this.isDirty(\"paddingRight\")) {\r\n                this.children.each(function (child) {\r\n                    child.markDirtyPosition();\r\n                });\r\n            }\r\n            if (this.isDirty(\"maskContent\")) {\r\n                var childrenDisplay = this._childrenDisplay;\r\n                var contentMask = this._contentMask;\r\n                if (this.get(\"maskContent\")) {\r\n                    if (!contentMask) {\r\n                        contentMask = Rectangle.new(this._root, {\r\n                            width: this.width(),\r\n                            height: this.height()\r\n                        });\r\n                        this._contentMask = contentMask;\r\n                        childrenDisplay.addChildAt(contentMask._display, 0);\r\n                        childrenDisplay.mask = contentMask._display;\r\n                    }\r\n                }\r\n                else {\r\n                    if (contentMask) {\r\n                        childrenDisplay.removeChild(contentMask._display);\r\n                        childrenDisplay.mask = null;\r\n                        contentMask.dispose();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_updateSize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateSize.call(this);\r\n            $array.each(this._percentageSizeChildren, function (child) {\r\n                child._updateSize();\r\n            });\r\n            $array.each(this._percentagePositionChildren, function (child) {\r\n                child.markDirtyPosition();\r\n                child._updateSize();\r\n            });\r\n            this.updateBackground();\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"updateBackground\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var background = this.get(\"background\");\r\n            var bounds = this._localBounds;\r\n            if (bounds && !this.isHidden()) {\r\n                var x = bounds.left;\r\n                var y = bounds.top;\r\n                var w = bounds.right - x;\r\n                var h = bounds.bottom - y;\r\n                var width = this.width();\r\n                var height = this.height();\r\n                if (background) {\r\n                    background.setAll({ width: w, height: h, x: x, y: y });\r\n                    if (this._display.interactive) {\r\n                        background._display.interactive = true;\r\n                    }\r\n                }\r\n                var contentMask = this._contentMask;\r\n                if (contentMask) {\r\n                    contentMask.setAll({ width: width, height: height });\r\n                }\r\n                var verticalScrollbar = this.get(\"verticalScrollbar\");\r\n                if (verticalScrollbar) {\r\n                    verticalScrollbar.set(\"height\", height);\r\n                    verticalScrollbar.set(\"x\", width - verticalScrollbar.width() - verticalScrollbar.get(\"marginRight\", 0));\r\n                    verticalScrollbar.set(\"end\", verticalScrollbar.get(\"start\", 0) + height / this._contentHeight);\r\n                    var bg = verticalScrollbar.get(\"background\");\r\n                    if (bg) {\r\n                        bg.setAll({ width: verticalScrollbar.width(), height: height });\r\n                    }\r\n                    var visible = true;\r\n                    if (this._contentHeight <= height) {\r\n                        visible = false;\r\n                    }\r\n                    verticalScrollbar.setPrivate(\"visible\", visible);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_applyThemes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (_super.prototype._applyThemes.call(this)) {\r\n                this.eachChildren(function (child) {\r\n                    child._applyThemes();\r\n                });\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_applyState\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name) {\r\n            _super.prototype._applyState.call(this, name);\r\n            if (this.get(\"setStateOnChildren\")) {\r\n                this.eachChildren(function (child) {\r\n                    child.states.apply(name);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_applyStateAnimated\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, duration) {\r\n            _super.prototype._applyStateAnimated.call(this, name, duration);\r\n            if (this.get(\"setStateOnChildren\")) {\r\n                this.eachChildren(function (child) {\r\n                    child.states.applyAnimate(name, duration);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns container's inner width (width without padding) in pixels.\r\n     *\r\n     * @return Inner width (px)\r\n     */\r\n    Object.defineProperty(Container.prototype, \"innerWidth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.width() - this.get(\"paddingRight\", 0) - this.get(\"paddingLeft\", 0);\r\n        }\r\n    });\r\n    /**\r\n     * Returns container's inner height (height without padding) in pixels.\r\n     *\r\n     * @return Inner height (px)\r\n     */\r\n    Object.defineProperty(Container.prototype, \"innerHeight\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.height() - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0);\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_getBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var width = this.get(\"width\");\r\n            var height = this.get(\"height\");\r\n            var pWidth = this.getPrivate(\"width\");\r\n            var pHeight = this.getPrivate(\"height\");\r\n            var bounds = {\r\n                left: 0,\r\n                top: 0,\r\n                right: this.width(),\r\n                bottom: this.height(),\r\n            };\r\n            var layout = this.get(\"layout\");\r\n            var horizontal = false;\r\n            var vertical = false;\r\n            if (layout instanceof HorizontalLayout || layout instanceof GridLayout) {\r\n                horizontal = true;\r\n            }\r\n            if (layout instanceof VerticalLayout) {\r\n                vertical = true;\r\n            }\r\n            if ((width != null || pWidth != null) && (height != null || pHeight != null) && !this.get(\"verticalScrollbar\")) {\r\n                // void\r\n            }\r\n            else {\r\n                var m = Number.MAX_VALUE;\r\n                var l_1 = m;\r\n                var r_1 = -m;\r\n                var t_1 = m;\r\n                var b_1 = -m;\r\n                var paddingLeft = this.get(\"paddingLeft\", 0);\r\n                var paddingTop = this.get(\"paddingTop\", 0);\r\n                var paddingRight = this.get(\"paddingRight\", 0);\r\n                var paddingBottom = this.get(\"paddingBottom\", 0);\r\n                this.children.each(function (child) {\r\n                    if (child.get(\"position\") != \"absolute\" && child.get(\"isMeasured\")) {\r\n                        var childBounds = child.adjustedLocalBounds();\r\n                        var childX = child.x();\r\n                        var childY = child.y();\r\n                        var cl = childX + childBounds.left;\r\n                        var cr = childX + childBounds.right;\r\n                        var ct = childY + childBounds.top;\r\n                        var cb = childY + childBounds.bottom;\r\n                        if (horizontal) {\r\n                            cl -= child.get(\"marginLeft\", 0);\r\n                            cr += child.get(\"marginRight\", 0);\r\n                        }\r\n                        if (vertical) {\r\n                            ct -= child.get(\"marginTop\", 0);\r\n                            cb += child.get(\"marginBottom\", 0);\r\n                        }\r\n                        if (cl < l_1) {\r\n                            l_1 = cl;\r\n                        }\r\n                        if (cr > r_1) {\r\n                            r_1 = cr;\r\n                        }\r\n                        if (ct < t_1) {\r\n                            t_1 = ct;\r\n                        }\r\n                        if (cb > b_1) {\r\n                            b_1 = cb;\r\n                        }\r\n                    }\r\n                });\r\n                if (l_1 == m) {\r\n                    l_1 = 0;\r\n                }\r\n                if (r_1 == -m) {\r\n                    r_1 = 0;\r\n                }\r\n                if (t_1 == m) {\r\n                    t_1 = 0;\r\n                }\r\n                if (b_1 == -m) {\r\n                    b_1 = 0;\r\n                }\r\n                bounds.left = l_1 - paddingLeft;\r\n                bounds.top = t_1 - paddingTop;\r\n                bounds.right = r_1 + paddingRight;\r\n                bounds.bottom = b_1 + paddingBottom;\r\n            }\r\n            this._contentWidth = bounds.right - bounds.left;\r\n            this._contentHeight = bounds.bottom - bounds.top;\r\n            if ($type.isNumber(width)) {\r\n                bounds.left = 0;\r\n                bounds.right = width;\r\n            }\r\n            if ($type.isNumber(pWidth)) {\r\n                bounds.left = 0;\r\n                bounds.right = pWidth;\r\n            }\r\n            if ($type.isNumber(height)) {\r\n                bounds.top = 0;\r\n                bounds.bottom = height;\r\n            }\r\n            if ($type.isNumber(pHeight)) {\r\n                bounds.top = 0;\r\n                bounds.bottom = pHeight;\r\n            }\r\n            this._localBounds = bounds;\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_updateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var layout = this.get(\"layout\");\r\n            if (layout) {\r\n                layout.updateContainer(this);\r\n            }\r\n            _super.prototype._updateBounds.call(this);\r\n            this.updateBackground();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Container.prototype, \"markDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.markDirty.call(this);\r\n            this._root._addDirtyParent(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var innerWidth = this.innerWidth();\r\n            var innerHeight = this.innerHeight();\r\n            if (innerWidth != this._prevWidth || innerHeight != this._prevHeight) {\r\n                var layout = this.get(\"layout\");\r\n                var horizontal_1 = false;\r\n                var vertical_1 = false;\r\n                if (layout) {\r\n                    if (layout instanceof HorizontalLayout || layout instanceof GridLayout) {\r\n                        horizontal_1 = true;\r\n                    }\r\n                    if (layout instanceof VerticalLayout) {\r\n                        vertical_1 = true;\r\n                    }\r\n                }\r\n                $array.each(this._percentageSizeChildren, function (child) {\r\n                    if (!horizontal_1) {\r\n                        var width = child.get(\"width\");\r\n                        if (width instanceof Percent) {\r\n                            child.setPrivate(\"width\", width.value * innerWidth);\r\n                        }\r\n                    }\r\n                    if (!vertical_1) {\r\n                        var height = child.get(\"height\");\r\n                        if (height instanceof Percent) {\r\n                            child.setPrivate(\"height\", height.value * innerHeight);\r\n                        }\r\n                    }\r\n                });\r\n                $array.each(this._percentagePositionChildren, function (child) {\r\n                    child.markDirtyPosition();\r\n                    child.markDirtyBounds();\r\n                });\r\n                this._prevWidth = innerWidth;\r\n                this._prevHeight = innerHeight;\r\n                this._sizeDirty = true;\r\n                this.updateBackground();\r\n            }\r\n            this._handleStates();\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this.isDirty(\"verticalScrollbar\")) {\r\n                var verticalScrollbar_1 = this.get(\"verticalScrollbar\");\r\n                if (verticalScrollbar_1) {\r\n                    verticalScrollbar_1._setParent(this);\r\n                    verticalScrollbar_1.children.removeValue(verticalScrollbar_1.startGrip);\r\n                    verticalScrollbar_1.children.removeValue(verticalScrollbar_1.endGrip);\r\n                    this.set(\"maskContent\", true);\r\n                    this.set(\"paddingRight\", verticalScrollbar_1.width() + verticalScrollbar_1.get(\"marginRight\", 0) + verticalScrollbar_1.get(\"marginLeft\", 0));\r\n                    var background = this.get(\"background\");\r\n                    if (!background) {\r\n                        background = this.set(\"background\", Rectangle.new(this._root, {\r\n                            themeTags: [\"background\"],\r\n                            fillOpacity: 0,\r\n                            fill: this._root.interfaceColors.get(\"alternativeBackground\")\r\n                        }));\r\n                    }\r\n                    this._disposers.push(this.events.on(\"wheel\", function (event) {\r\n                        var wheelEvent = event.originalEvent;\r\n                        // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n                        // some page element is over the chart.\r\n                        if ($utils.isLocalEvent(wheelEvent, _this)) {\r\n                            wheelEvent.preventDefault();\r\n                        }\r\n                        else {\r\n                            return;\r\n                        }\r\n                        var shiftY = wheelEvent.deltaY / 5000;\r\n                        var start = verticalScrollbar_1.get(\"start\", 0);\r\n                        var end = verticalScrollbar_1.get(\"end\", 1);\r\n                        if (start + shiftY > 0 && end + shiftY < 1) {\r\n                            verticalScrollbar_1.set(\"start\", start + shiftY);\r\n                            verticalScrollbar_1.set(\"end\", end + shiftY);\r\n                        }\r\n                    }));\r\n                    this._disposers.push(verticalScrollbar_1.events.on(\"rangechanged\", function () {\r\n                        var h = _this._contentHeight;\r\n                        var childrenDisplay = _this._childrenDisplay;\r\n                        var contentMask = _this._contentMask;\r\n                        childrenDisplay.y = -verticalScrollbar_1.get(\"start\") * h;\r\n                        childrenDisplay.markDirtyLayer();\r\n                        if (contentMask) {\r\n                            contentMask._display.y = -childrenDisplay.y;\r\n                            childrenDisplay.mask = contentMask._display;\r\n                        }\r\n                    }));\r\n                    this._display.addChild(verticalScrollbar_1._display);\r\n                }\r\n            }\r\n            if (this.isDirty(\"background\")) {\r\n                // TODO maybe this should dispose ?\r\n                var previous = this._prevSettings[\"background\"];\r\n                if (previous) {\r\n                    this._display.removeChild(previous._display);\r\n                }\r\n                var background = this.get(\"background\");\r\n                if (background instanceof Sprite) {\r\n                    background.set(\"isMeasured\", false);\r\n                    background._setParent(this);\r\n                    this._display.addChildAt(background._display, 0);\r\n                }\r\n            }\r\n            if (this.isDirty(\"mask\")) {\r\n                var mask = this.get(\"mask\");\r\n                var previous = this._prevSettings[\"mask\"];\r\n                if (previous) {\r\n                    this._display.removeChild(previous._display);\r\n                    if (previous != mask) {\r\n                        previous.dispose();\r\n                    }\r\n                }\r\n                if (mask) {\r\n                    var parent = mask.parent;\r\n                    if (parent) {\r\n                        parent.children.removeValue(mask);\r\n                    }\r\n                    mask._setParent(this);\r\n                    this._display.addChildAt(mask._display, 0);\r\n                    this._childrenDisplay.mask = mask._display;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"_processTemplateField\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._processTemplateField.call(this);\r\n            this.children.each(function (child) {\r\n                child._processTemplateField();\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Container.prototype, \"walkChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            this.children.each(function (child) {\r\n                if (child instanceof Container) {\r\n                    child.walkChildren(f);\r\n                }\r\n                f(child);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"eachChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            var background = this.get(\"background\");\r\n            if (background) {\r\n                f(background);\r\n            }\r\n            var verticalScrollbar = this.get(\"verticalScrollbar\");\r\n            if (verticalScrollbar) {\r\n                f(verticalScrollbar);\r\n            }\r\n            var mask = this.get(\"mask\");\r\n            if (mask) {\r\n                f(mask);\r\n            }\r\n            this.children.values.forEach(function (child) {\r\n                f(child);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Container.prototype, \"allChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var output = [];\r\n            this.eachChildren(function (x) {\r\n                output.push(x);\r\n            });\r\n            return output;\r\n        }\r\n    });\r\n    Object.defineProperty(Container, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Container\"\r\n    });\r\n    Object.defineProperty(Container, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Sprite.classNames.concat([Container.className])\r\n    });\r\n    return Container;\r\n}(Sprite));\r\nexport { Container };\r\n//# sourceMappingURL=Container.js.map","import { Color } from \"./Color\";\r\nimport * as $type from \"./Type\";\r\nvar TextFormatter = /** @class */ (function () {\r\n    function TextFormatter() {\r\n    }\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    Object.defineProperty(TextFormatter, \"escape\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.\r\n                replace(/\\[\\[/g, this.prefix + \"1\").\r\n                replace(/([^\\/\\]]{1})\\]\\]/g, \"$1\" + this.prefix + \"2\").\r\n                replace(/\\]\\]/g, this.prefix + \"2\").\r\n                replace(/\\{\\{/g, this.prefix + \"3\").\r\n                replace(/\\}\\}/g, this.prefix + \"4\").\r\n                replace(/\\'\\'/g, this.prefix + \"5\");\r\n        }\r\n    });\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    Object.defineProperty(TextFormatter, \"unescape\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.\r\n                replace(new RegExp(this.prefix + \"1\", \"g\"), \"[[\").\r\n                replace(new RegExp(this.prefix + \"2\", \"g\"), \"]]\").\r\n                replace(new RegExp(this.prefix + \"3\", \"g\"), \"{{\").\r\n                replace(new RegExp(this.prefix + \"4\", \"g\"), \"}}\").\r\n                replace(new RegExp(this.prefix + \"5\", \"g\"), \"''\");\r\n        }\r\n    });\r\n    /**\r\n     * Cleans up the text text for leftover double square brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Cleaned up text\r\n     */\r\n    Object.defineProperty(TextFormatter, \"cleanUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.\r\n                replace(/\\[\\[/g, \"[\").\r\n                replace(/\\]\\]/g, \"]\").\r\n                replace(/\\{\\{/g, \"{\").\r\n                replace(/\\}\\}/g, \"}\").\r\n                replace(/\\'\\'/g, \"'\");\r\n        }\r\n    });\r\n    /**\r\n     * Splits string into chunks. (style blocks, quoted blocks, regular blocks)\r\n     *\r\n     * If the second parameter `quotedBlocks` is set to `true` this method will\r\n     * also single out text blocks enclosed within single quotes that no\r\n     * formatting should be applied to, and they should be displayed as is.\r\n     *\r\n     * Default for the above is `false`, so that you can use single quote in text\r\n     * without escaping it.\r\n     *\r\n     * If enabled, single quotes can be escaped by doubling it - adding two\r\n     * single quotes, which will be replaced by a one single quote in the final\r\n     * output.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text          Text to chunk\r\n     * @param quotedBlocks  Use quoted blocks\r\n     * @param noFormatting  Formatting blocks will be treated as regular text\r\n     * @return Array of string chunks\r\n     */\r\n    Object.defineProperty(TextFormatter, \"chunk\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text, quotedBlocks, noFormatting) {\r\n            if (quotedBlocks === void 0) { quotedBlocks = false; }\r\n            if (noFormatting === void 0) { noFormatting = false; }\r\n            // Init result\r\n            var res = [];\r\n            // Replace double (escaped) square spaces and quotes with temporary codes\r\n            text = this.escape(text);\r\n            // Deal with style blocks\r\n            var chunks = quotedBlocks ? text.split(\"'\") : [text];\r\n            for (var i = 0; i < chunks.length; i++) {\r\n                var chunk = chunks[i];\r\n                // Empty?\r\n                if (chunk === \"\") {\r\n                    continue;\r\n                }\r\n                if ((i % 2) === 0) {\r\n                    // Text outside quotes\r\n                    // Parse for style blocks which are \"text\" chunks, the rest chunks are\r\n                    // \"value\"\r\n                    chunk = chunk.replace(/\\]\\[/g, \"]\" + $type.PLACEHOLDER + \"[\");\r\n                    chunk = chunk.replace(/\\[\\]/g, \"[ ]\");\r\n                    var chunks2 = chunk.split(/[\\[\\]]+/);\r\n                    for (var i2 = 0; i2 < chunks2.length; i2++) {\r\n                        var chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                        // Placeholder?\r\n                        if (chunk2 === $type.PLACEHOLDER) {\r\n                            continue;\r\n                        }\r\n                        // Empty?\r\n                        if (chunk2 === \"\") {\r\n                            continue;\r\n                        }\r\n                        // Block or value\r\n                        if ((i2 % 2) === 0) {\r\n                            res.push({\r\n                                \"type\": \"value\",\r\n                                \"text\": chunk2\r\n                            });\r\n                        }\r\n                        else {\r\n                            res.push({\r\n                                \"type\": noFormatting ? \"value\" : \"format\",\r\n                                \"text\": \"[\" + chunk2 + \"]\"\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // A text within doublequotes\r\n                    // All chunks are \"text\"\r\n                    var chunks2 = chunk.split(/[\\[\\]]+/);\r\n                    for (var i2 = 0; i2 < chunks2.length; i2++) {\r\n                        var chunk2 = this.cleanUp(this.unescape(chunks2[i2]));\r\n                        // Empty?\r\n                        if (chunk2 === \"\") {\r\n                            continue;\r\n                        }\r\n                        // Block or text\r\n                        if ((i2 % 2) === 0) {\r\n                            res.push({\r\n                                \"type\": \"text\",\r\n                                \"text\": chunk2\r\n                            });\r\n                        }\r\n                        else if (this.isImage(chunk2)) {\r\n                            res.push({\r\n                                \"type\": \"image\",\r\n                                \"text\": \"[\" + chunk2 + \"]\"\r\n                            });\r\n                        }\r\n                        else {\r\n                            res.push({\r\n                                \"type\": \"format\",\r\n                                \"text\": \"[\" + chunk2 + \"]\"\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    /**\r\n     * Checks if supplied format contains image information and should be\r\n     * formatted as such.\r\n     * I.e.: `[img: myImage.png]`\r\n     *\r\n     * @ignore\r\n     * @param  text  Format\r\n     * @return true if it is an image\r\n     */\r\n    Object.defineProperty(TextFormatter, \"isImage\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.match(/img[ ]?:/) ? true : false;\r\n        }\r\n    });\r\n    Object.defineProperty(TextFormatter, \"getTextStyle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (style) {\r\n            // let textStyle: string[] = [];\r\n            // let textFill: string | undefined;\r\n            var format = {};\r\n            if (style == \"\" || style == \"[ ]\") {\r\n                return {};\r\n            }\r\n            // Pre-process quoted text\r\n            var q = style.match(/('[^']*')|(\"[^\"]*\")/gi);\r\n            if (q) {\r\n                for (var i = 0; i < q.length; i++) {\r\n                    style = style.replace(q[i], q[i].replace(/['\"]*/g, \"\").replace(/[ ]+/g, \"+\"));\r\n                }\r\n            }\r\n            // Get style parts\r\n            var b = style.match(/([\\w\\-]*:[\\s]?[^;\\s\\]]*)|(\\#[\\w]{1,6})|([\\w\\-]+)|(\\/)/gi);\r\n            // Empty?\r\n            if (!b) {\r\n                return {};\r\n            }\r\n            // Check each part\r\n            for (var i = 0; i < b.length; i++) {\r\n                if (b[i].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i)) {\r\n                    format.fontWeight = b[i];\r\n                }\r\n                else if (b[i].match(/^(underline|line-through)$/i)) {\r\n                    format.textDecoration = b[i];\r\n                }\r\n                else if (b[i] == \"/\") {\r\n                    // Just closing tag\r\n                    // Do nothing\r\n                }\r\n                else if (!b[i].match(/:/)) {\r\n                    // Color\r\n                    format.fill = Color.fromString(b[i]);\r\n                }\r\n                else {\r\n                    var p = b[i].replace(\"+\", \" \").split(/:[ ]*/);\r\n                    format[p[0]] = p[1];\r\n                    //textStyle.push(b[i].replace(/^[a-zA-Z]:[ ]*/, \"\"));\r\n                    //b[i] = b[i].replace(/\\+/g, \" \");\r\n                }\r\n            }\r\n            return format;\r\n        }\r\n    });\r\n    Object.defineProperty(TextFormatter, \"prefix\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"__amcharts__\"\r\n    });\r\n    return TextFormatter;\r\n}());\r\nexport { TextFormatter };\r\n//# sourceMappingURL=TextFormatter.js.map","/** @ignore */ /** */\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\nimport { Sprite } from \"../render/Sprite\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\n/**\r\n * @ignore\r\n */\r\nexport function populateString(target, string) {\r\n    if (string != null) {\r\n        string = \"\" + string;\r\n        string = TextFormatter.escape(string);\r\n        var tags = string.match(/\\{([^}]+)\\}/g);\r\n        var i = void 0;\r\n        if (tags) {\r\n            for (i = 0; i < tags.length; i++) {\r\n                var tag = tags[i].replace(/\\{([^}]+)\\}/, \"$1\");\r\n                var value = getTagValue(target, tag, \"\");\r\n                if (value == null) {\r\n                    value = \"\";\r\n                }\r\n                string = string.split(tags[i]).join(value);\r\n            }\r\n        }\r\n        string = TextFormatter.unescape(string);\r\n    }\r\n    else {\r\n        string = \"\";\r\n    }\r\n    // TODO: apply adapter?\r\n    return string;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getTagValue(target, tagName, format) {\r\n    var value;\r\n    var dataItem = target.dataItem;\r\n    // Parse parts\r\n    var parts = [];\r\n    var reg = /([^.]+)\\(([^)]*)\\)|([^.]+)/g;\r\n    ;\r\n    var matches;\r\n    while (true) {\r\n        matches = reg.exec(tagName);\r\n        if (matches === null) {\r\n            break;\r\n        }\r\n        if (matches[3]) {\r\n            // Simple property\r\n            parts.push({\r\n                prop: matches[3]\r\n            });\r\n            // Check if maybe we should force a formatter on this value\r\n            var dateFields = target.getDateFormatter().get(\"dateFields\", []);\r\n            var numericFields = target.getNumberFormatter().get(\"numericFields\", []);\r\n            var durationFields = target.getDurationFormatter().get(\"durationFields\", []);\r\n            if (dateFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDate\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (numericFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatNumber\",\r\n                    params: []\r\n                });\r\n            }\r\n            else if (durationFields.indexOf(matches[3]) !== -1) {\r\n                parts.push({\r\n                    method: \"formatDuration\",\r\n                    params: []\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            // Parse parameters\r\n            var params = [];\r\n            if ($utils.trim(matches[2]) != \"\") {\r\n                var reg2 = /'([^']*)'|\"([^\"]*)\"|([0-9\\-]+)/g;\r\n                var matches2 = void 0;\r\n                while (true) {\r\n                    matches2 = reg2.exec(matches[2]);\r\n                    if (matches2 === null) {\r\n                        break;\r\n                    }\r\n                    params.push(matches2[1] || matches2[2] || matches2[3]);\r\n                }\r\n            }\r\n            parts.push({\r\n                method: matches[1],\r\n                params: params\r\n            });\r\n        }\r\n    }\r\n    // Check if we can retrieve the value from data item\r\n    if (dataItem) {\r\n        // Check values\r\n        value = getTagValueFromObject(target, parts, dataItem._settings);\r\n        // Check properties\r\n        if (value == null || $type.isObject(value)) { // isObject helps to solve problem with date axis, as for example dateX will get dateX from values object and won't get to the dateX date.\r\n            value = getTagValueFromObject(target, parts, dataItem);\r\n        }\r\n        // Check data context\r\n        var dataContext = dataItem.dataContext;\r\n        if (value == null && dataContext) {\r\n            value = getTagValueFromObject(target, parts, dataContext);\r\n            // Maybe it's a literal dot-separated name of the key in dataContext?\r\n            if (value == null) {\r\n                value = getTagValueFromObject(target, [{\r\n                        prop: tagName\r\n                    }], dataContext);\r\n            }\r\n            // scond data context level sometimes exist (tree map)\r\n            if (value == null && dataContext.dataContext) {\r\n                value = getTagValueFromObject(target, parts, dataContext.dataContext);\r\n            }\r\n        }\r\n        // Check component's data item\r\n        if (value == null && dataItem.component && dataItem.component.dataItem !== dataItem) {\r\n            value = getTagValue(dataItem.component, tagName, format);\r\n        }\r\n    }\r\n    // Check sprite's properties\r\n    if (value == null) {\r\n        value = getTagValueFromObject(target, parts, target);\r\n    }\r\n    // Finally, check the parent\r\n    if (value == null && target.parent) {\r\n        value = getTagValue(target.parent, tagName, format);\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction getCustomDataValue(target, prop) {\r\n    var customData = target.getPrivate(\"customData\");\r\n    if ($type.isObject(customData)) {\r\n        return customData[prop];\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getTagValueFromObject(target, parts, object, format) {\r\n    var current = object;\r\n    var formatApplied = false;\r\n    for (var i = 0, len = parts.length; i < len; i++) {\r\n        var part = parts[i];\r\n        if (part.prop) {\r\n            // Regular property\r\n            if (current instanceof Sprite) {\r\n                var tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current.getPrivate(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                if (tmp == null)\r\n                    tmp = getCustomDataValue(current, part.prop);\r\n                current = tmp;\r\n            }\r\n            else if (current.get) {\r\n                var tmp = current.get(part.prop);\r\n                if (tmp == null)\r\n                    tmp = current[part.prop];\r\n                current = tmp;\r\n            }\r\n            else {\r\n                current = current[part.prop];\r\n            }\r\n            if (current == null) {\r\n                // Not set, return undefined\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            // Method\r\n            switch (part.method) {\r\n                case \"formatNumber\":\r\n                    var numberValue = $type.toNumber(current);\r\n                    if (numberValue != null) {\r\n                        current = target.getNumberFormatter().format(numberValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDate\":\r\n                    var dateValue = $type.toDate(current);\r\n                    if (!$type.isDate(dateValue) || $type.isNaN(dateValue.getTime())) {\r\n                        // Was not able to get date out of value, quitting and letting\r\n                        // calling method try another value\r\n                        return;\r\n                    }\r\n                    if (dateValue != null) {\r\n                        current = target.getDateFormatter().format(dateValue, format || part.params[0] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"formatDuration\":\r\n                    var durationValue = $type.toNumber(current);\r\n                    if (durationValue != null) {\r\n                        current = target.getDurationFormatter().format(durationValue, format || part.params[0] || undefined, part.params[1] || undefined);\r\n                        formatApplied = true;\r\n                    }\r\n                    break;\r\n                case \"urlEncode\":\r\n                case \"encodeURIComponent\":\r\n                    current = encodeURIComponent(current);\r\n                    break;\r\n                default:\r\n                    if (current[part.method]) {\r\n                        current[part.method].apply(object, part.params);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    // Apply default format if it wasn't applied explicitly\r\n    if (!formatApplied) {\r\n        var formatParts = [{\r\n                method: \"\",\r\n                params: format\r\n            }];\r\n        if (format == null) {\r\n            // Format is not set\r\n            // Determine from the type of the value\r\n            if ($type.isNumber(current)) {\r\n                formatParts[0].method = \"formatNumber\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n            else if ($type.isDate(current)) {\r\n                formatParts[0].method = \"formatDate\";\r\n                formatParts[0].params = \"\";\r\n            }\r\n        }\r\n        else {\r\n            // Format set\r\n            // Try to determine formatter based on the format\r\n            var formatterType = $utils.getFormat(format);\r\n            // format\r\n            if (formatterType === \"number\") {\r\n                formatParts[0].method = \"formatNumber\";\r\n            }\r\n            else if (formatterType === \"date\") {\r\n                formatParts[0].method = \"formatDate\";\r\n            }\r\n            else if (formatterType === \"duration\") {\r\n                formatParts[0].method = \"formatDuration\";\r\n            }\r\n        }\r\n        // Apply format\r\n        if (formatParts[0].method) {\r\n            current = getTagValueFromObject(target, formatParts, current);\r\n        }\r\n    }\r\n    return current;\r\n}\r\n//# sourceMappingURL=PopulateString.js.map","import { __extends } from \"tslib\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { populateString } from \"../util/PopulateString\";\r\nimport * as $array from \"../util/Array\";\r\n/**\r\n * @ignore Text is an internal class. Use Label instead.\r\n */\r\nvar Text = /** @class */ (function (_super) {\r\n    __extends(Text, _super);\r\n    function Text() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"textStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeTextStyle()\r\n        });\r\n        Object.defineProperty(_this, \"_display\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._root._renderer.makeText(\"\", _this.textStyle)\r\n        });\r\n        Object.defineProperty(_this, \"_textStyles\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\"\r\n            ]\r\n        });\r\n        Object.defineProperty(_this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Text.prototype, \"_updateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.get(\"text\")) {\r\n                var newBounds = {\r\n                    left: 0,\r\n                    right: 0,\r\n                    top: 0,\r\n                    bottom: 0,\r\n                };\r\n                this._adjustedLocalBounds = newBounds;\r\n            }\r\n            else {\r\n                _super.prototype._updateBounds.call(this);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Text.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._changed.call(this);\r\n            this._display.clear();\r\n            var textStyle = this.textStyle;\r\n            if (this.isDirty(\"opacity\")) {\r\n                var opacity = this.get(\"opacity\", 1);\r\n                this._display.alpha = opacity;\r\n            }\r\n            if (this.isDirty(\"text\") || this.isDirty(\"populateText\")) {\r\n                this._display.text = this._getText();\r\n                this.markDirtyBounds();\r\n                if (this.get(\"role\") == \"tooltip\") {\r\n                    this._root.updateTooltip(this);\r\n                }\r\n            }\r\n            if (this.isDirty(\"width\")) {\r\n                textStyle.wordWrapWidth = this.width();\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"oversizedBehavior\")) {\r\n                textStyle.oversizedBehavior = this.get(\"oversizedBehavior\", \"none\");\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"breakWords\")) {\r\n                textStyle.breakWords = this.get(\"breakWords\", false);\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"ellipsis\")) {\r\n                textStyle.ellipsis = this.get(\"ellipsis\");\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"ignoreFormatting\")) {\r\n                textStyle.ignoreFormatting = this.get(\"ignoreFormatting\", false);\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"minScale\")) {\r\n                textStyle.minScale = this.get(\"minScale\", 0);\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"fill\")) {\r\n                var fill = this.get(\"fill\");\r\n                if (fill) {\r\n                    textStyle.fill = fill;\r\n                }\r\n            }\r\n            if (this.isDirty(\"maxWidth\") || this.isPrivateDirty(\"maxWidth\")) {\r\n                textStyle.maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\"));\r\n                this.markDirtyBounds();\r\n            }\r\n            if (this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"maxHeight\")) {\r\n                textStyle.maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\"));\r\n                this.markDirtyBounds();\r\n            }\r\n            $array.each(this._textStyles, function (styleName) {\r\n                if (_this._dirty[styleName]) {\r\n                    textStyle[styleName] = _this.get(styleName);\r\n                    _this.markDirtyBounds();\r\n                }\r\n            });\r\n            textStyle[\"fontSize\"] = this.get(\"fontSize\");\r\n            textStyle[\"fontFamily\"] = this.get(\"fontFamily\");\r\n            this._display.style = textStyle;\r\n            if (this.isDirty(\"role\") && this.get(\"role\") == \"tooltip\") {\r\n                this._root.updateTooltip(this);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Text.prototype, \"_getText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var text = this.get(\"text\", \"\");\r\n            return this.get(\"populateText\") ? populateString(this, text) : text;\r\n        }\r\n    });\r\n    Object.defineProperty(Text.prototype, \"markDirtyText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._display.text = this._getText();\r\n            if (this.get(\"role\") == \"tooltip\") {\r\n                this._root.updateTooltip(this);\r\n            }\r\n            this.markDirtyBounds();\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(Text.prototype, \"_setDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype._setDataItem.call(this, dataItem);\r\n            if (this.get(\"populateText\")) {\r\n                this.markDirtyText();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Text, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Text\"\r\n    });\r\n    Object.defineProperty(Text, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Sprite.classNames.concat([Text.className])\r\n    });\r\n    return Text;\r\n}(Sprite));\r\nexport { Text };\r\n//# sourceMappingURL=Text.js.map","/** @ignore */ /** */\r\nimport * as $array from \"./Array\";\r\n/**\r\n * @ignore\r\n */\r\nvar Native = /** @class */ (function () {\r\n    function Native() {\r\n        var _this = this;\r\n        Object.defineProperty(this, \"_observer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        this._observer = new ResizeObserver(function (entries) {\r\n            $array.each(entries, function (entry) {\r\n                $array.each(_this._targets, function (x) {\r\n                    if (x.target === entry.target) {\r\n                        x.callback();\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n    Object.defineProperty(Native.prototype, \"addTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target, callback) {\r\n            this._observer.observe(target, { box: \"border-box\" });\r\n            this._targets.push({ target: target, callback: callback });\r\n        }\r\n    });\r\n    Object.defineProperty(Native.prototype, \"removeTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            this._observer.unobserve(target);\r\n            $array.keepIf(this._targets, function (x) {\r\n                return x.target !== target;\r\n            });\r\n        }\r\n    });\r\n    return Native;\r\n}());\r\n/**\r\n * @ignore\r\n */\r\nvar Raf = /** @class */ (function () {\r\n    function Raf() {\r\n        Object.defineProperty(this, \"_timer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_targets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n    }\r\n    Object.defineProperty(Raf.prototype, \"addTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target, callback) {\r\n            var _this = this;\r\n            if (this._timer === null) {\r\n                var lastTime_1 = null;\r\n                var loop_1 = function () {\r\n                    var currentTime = Date.now();\r\n                    if (lastTime_1 === null || currentTime > (lastTime_1 + Raf.delay)) {\r\n                        lastTime_1 = currentTime;\r\n                        $array.each(_this._targets, function (x) {\r\n                            var newSize = x.target.getBoundingClientRect();\r\n                            if (newSize.width !== x.size.width || newSize.height !== x.size.height) {\r\n                                x.size = newSize;\r\n                                x.callback();\r\n                            }\r\n                        });\r\n                    }\r\n                    if (_this._targets.length === 0) {\r\n                        _this._timer = null;\r\n                    }\r\n                    else {\r\n                        _this._timer = requestAnimationFrame(loop_1);\r\n                    }\r\n                };\r\n                this._timer = requestAnimationFrame(loop_1);\r\n            }\r\n            // We start off with fake bounds so that sensor always kicks in\r\n            var size = { width: 0, height: 0, left: 0, right: 0, top: 0, bottom: 0, x: 0, y: 0 };\r\n            this._targets.push({ target: target, callback: callback, size: size });\r\n        }\r\n    });\r\n    Object.defineProperty(Raf.prototype, \"removeTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            $array.keepIf(this._targets, function (x) {\r\n                return x.target !== target;\r\n            });\r\n            if (this._targets.length === 0) {\r\n                if (this._timer !== null) {\r\n                    cancelAnimationFrame(this._timer);\r\n                    this._timer = null;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Raf, \"delay\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: 200\r\n    });\r\n    return Raf;\r\n}());\r\n/**\r\n * @ignore\r\n */\r\nvar observer = null;\r\n/**\r\n * @ignore\r\n */\r\nfunction makeSensor() {\r\n    if (observer === null) {\r\n        if (typeof ResizeObserver !== \"undefined\") {\r\n            observer = new Native();\r\n        }\r\n        else {\r\n            observer = new Raf();\r\n        }\r\n    }\r\n    return observer;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nvar ResizeSensor = /** @class */ (function () {\r\n    function ResizeSensor(element, callback) {\r\n        Object.defineProperty(this, \"_sensor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_element\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_disposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        this._sensor = makeSensor();\r\n        this._element = element;\r\n        this._sensor.addTarget(element, callback);\r\n    }\r\n    Object.defineProperty(ResizeSensor.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._disposed;\r\n        }\r\n    });\r\n    Object.defineProperty(ResizeSensor.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._disposed) {\r\n                this._disposed = true;\r\n                this._sensor.removeTarget(this._element);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ResizeSensor.prototype, \"sensor\", {\r\n        get: function () {\r\n            return this._sensor;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return ResizeSensor;\r\n}());\r\nexport { ResizeSensor };\r\n//# sourceMappingURL=ResizeSensor.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\n/**\r\n * Presets for common UI elements.\r\n */\r\nvar InterfaceColors = /** @class */ (function (_super) {\r\n    __extends(InterfaceColors, _super);\r\n    function InterfaceColors() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(InterfaceColors, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"InterfaceColors\"\r\n    });\r\n    Object.defineProperty(InterfaceColors, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([InterfaceColors.className])\r\n    });\r\n    return InterfaceColors;\r\n}(Entity));\r\nexport { InterfaceColors };\r\n//# sourceMappingURL=InterfaceColors.js.map","import { __extends } from \"tslib\";\r\nimport { Text } from \"../render/Text\";\r\nimport { p50, p100 } from \"../util/Percent\";\r\nimport { Container } from \"./Container\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\n/**\r\n * Creates a label with support for in-line styling and data bindings.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/labels/} for more info\r\n */\r\nvar Label = /** @class */ (function (_super) {\r\n    __extends(Label, _super);\r\n    function Label() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_textKeys\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"text\",\r\n                \"fill\",\r\n                \"textAlign\",\r\n                \"fontFamily\",\r\n                \"fontSize\",\r\n                \"fontStyle\",\r\n                \"fontWeight\",\r\n                \"fontStyle\",\r\n                \"fontVariant\",\r\n                \"textDecoration\",\r\n                \"shadowColor\",\r\n                \"shadowBlur\",\r\n                \"shadowOffsetX\",\r\n                \"shadowOffsetY\",\r\n                \"shadowOpacity\",\r\n                // \"leading\",\r\n                // \"letterSpacing\",\r\n                \"lineHeight\",\r\n                \"baselineRatio\",\r\n                //\"padding\",\r\n                // \"stroke\",\r\n                // \"strokeThickness\",\r\n                // \"trim\",\r\n                // \"wordWrap\",\r\n                \"direction\",\r\n                \"textBaseline\",\r\n                \"oversizedBehavior\",\r\n                \"breakWords\",\r\n                \"ellipsis\",\r\n                \"minScale\",\r\n                \"populateText\",\r\n                \"role\",\r\n                \"ignoreFormatting\"\r\n            ]\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Label.prototype, \"text\", {\r\n        /**\r\n         * @ignore Text is not to be used directly\r\n         */\r\n        get: function () {\r\n            return this._text;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Label.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterNew.call(this);\r\n            this._makeText();\r\n            $array.each(this._textKeys, function (property) {\r\n                var propValue = _this.get(property);\r\n                if (propValue != undefined) {\r\n                    _this._text.set(property, propValue);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Label.prototype, \"_makeText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._text = this.children.push(Text.new(this._root, {}));\r\n        }\r\n    });\r\n    Object.defineProperty(Label.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._updateChildren.call(this);\r\n            $array.each(this._textKeys, function (property) {\r\n                _this._text.set(property, _this.get(property));\r\n            });\r\n            if (this.isDirty(\"maxWidth\") || this.isPrivateDirty(\"maxWidth\")) {\r\n                this._setMaxDimentions();\r\n            }\r\n            if (this.isDirty(\"maxHeight\") || this.isPrivateDirty(\"maxHeight\")) {\r\n                this._setMaxDimentions();\r\n            }\r\n            if (this.isDirty(\"rotation\")) {\r\n                this._setMaxDimentions();\r\n            }\r\n            if (this.isDirty(\"textAlign\") || this.isDirty(\"width\")) {\r\n                var textAlign = this.get(\"textAlign\");\r\n                var x = void 0;\r\n                if (this.get(\"width\") != null) {\r\n                    if (textAlign == \"right\") {\r\n                        x = p100;\r\n                    }\r\n                    else if (textAlign == \"center\") {\r\n                        x = p50;\r\n                    }\r\n                    else {\r\n                        x = 0;\r\n                    }\r\n                }\r\n                else {\r\n                    if (textAlign == \"left\" || textAlign == \"start\") {\r\n                        x = this.get(\"paddingLeft\");\r\n                    }\r\n                    else if (textAlign == \"right\" || textAlign == \"end\") {\r\n                        x = -this.get(\"paddingRight\");\r\n                    }\r\n                }\r\n                this.text.set(\"x\", x);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Label.prototype, \"_setMaxDimentions\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var rotation = this.get(\"rotation\");\r\n            var vertical = rotation == 90 || rotation == 270;\r\n            var maxWidth = this.get(\"maxWidth\", this.getPrivate(\"maxWidth\", Infinity));\r\n            if ($type.isNumber(maxWidth)) {\r\n                this.text.set(vertical ? \"maxHeight\" : \"maxWidth\", maxWidth - this.get(\"paddingLeft\", 0) - this.get(\"paddingRight\", 0));\r\n            }\r\n            else {\r\n                this.text.set(vertical ? \"maxHeight\" : \"maxWidth\", undefined);\r\n            }\r\n            var maxHeight = this.get(\"maxHeight\", this.getPrivate(\"maxHeight\", Infinity));\r\n            if ($type.isNumber(maxHeight)) {\r\n                this.text.set(vertical ? \"maxWidth\" : \"maxHeight\", maxHeight - this.get(\"paddingTop\", 0) - this.get(\"paddingBottom\", 0));\r\n            }\r\n            else {\r\n                this.text.set(vertical ? \"maxWidth\" : \"maxHeight\", undefined);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Label.prototype, \"_setDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype._setDataItem.call(this, dataItem);\r\n            this._markDirtyKey(\"text\");\r\n            if (this.text.get(\"populateText\")) {\r\n                this.text.markDirtyText();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns text with populated placeholders and formatting if `populateText` is\r\n     * set to `true`.\r\n     *\r\n     * @return Populated text\r\n     */\r\n    Object.defineProperty(Label.prototype, \"getText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._text._getText();\r\n        }\r\n    });\r\n    Object.defineProperty(Label, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Label\"\r\n    });\r\n    Object.defineProperty(Label, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Label.className])\r\n    });\r\n    return Label;\r\n}(Container));\r\nexport { Label };\r\n//# sourceMappingURL=Label.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"./Graphics\";\r\nimport * as $math from \"../util/Math\";\r\n/**\r\n * Draws a rectangle with a pointer.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar PointedRectangle = /** @class */ (function (_super) {\r\n    __extends(PointedRectangle, _super);\r\n    function PointedRectangle() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(PointedRectangle.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"pointerBaseWidth\") || this.isDirty(\"cornerRadius\") || this.isDirty(\"pointerLength\") || this.isDirty(\"pointerX\") || this.isDirty(\"pointerY\") || this.isDirty(\"width\") || this.isDirty(\"height\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PointedRectangle.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear) {\r\n                this.markDirtyBounds();\r\n                var w = this.width();\r\n                var h = this.height();\r\n                if (w > 0 && h > 0) {\r\n                    var cr = this.get(\"cornerRadius\", 8);\r\n                    cr = $math.fitToRange(cr, 0, Math.min(w / 2, h / 2));\r\n                    var x = this.get(\"pointerX\", 0);\r\n                    var y = this.get(\"pointerY\", 0);\r\n                    var bwh = this.get(\"pointerBaseWidth\", 15) / 2;\r\n                    // corner coordinates\r\n                    // top left\r\n                    var xtl = 0;\r\n                    var ytl = 0;\r\n                    // top right\r\n                    var xtr = w;\r\n                    var ytr = 0;\r\n                    // bottom right\r\n                    var xbr = w;\r\n                    var ybr = h;\r\n                    // bottom left\r\n                    var xbl = 0;\r\n                    var ybl = h;\r\n                    // find stem base side: http://$math.stackexchange.com/questions/274712/calculate-on-which-side-of-straign-line-is-dot-located\r\n                    // d=(xx1)(y2y1)(yy1)(x2x1)\r\n                    var d1 = (x - xtl) * (ybr - ytl) - (y - ytl) * (xbr - xtl);\r\n                    var d2 = (x - xbl) * (ytr - ybl) - (y - ybl) * (xtr - xbl);\r\n                    var display = this._display;\r\n                    // top\r\n                    display.moveTo(cr, 0);\r\n                    if (d1 > 0 && d2 > 0) {\r\n                        var stemX = Math.round($math.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                        y = $math.fitToRange(y, -Infinity, 0);\r\n                        display.lineTo(stemX - bwh, 0);\r\n                        display.lineTo(x, y);\r\n                        display.lineTo(stemX + bwh, 0);\r\n                    }\r\n                    display.lineTo(w - cr, 0);\r\n                    display.arcTo(w, 0, w, cr, cr);\r\n                    // right\r\n                    if (d1 > 0 && d2 < 0) {\r\n                        var stemY = Math.round($math.fitToRange(y, cr + bwh, h - bwh - cr));\r\n                        x = $math.fitToRange(x, w, Infinity);\r\n                        display.lineTo(w, cr);\r\n                        display.lineTo(w, stemY - bwh);\r\n                        display.lineTo(x, y);\r\n                        display.lineTo(w, stemY + bwh);\r\n                    }\r\n                    display.lineTo(w, h - cr);\r\n                    display.arcTo(w, h, w - cr, h, cr);\r\n                    // bottom\r\n                    if (d1 < 0 && d2 < 0) {\r\n                        var stemX = Math.round($math.fitToRange(x, cr + bwh, w - bwh - cr));\r\n                        y = $math.fitToRange(y, h, Infinity);\r\n                        display.lineTo(w - cr, h);\r\n                        display.lineTo(stemX + bwh, h);\r\n                        display.lineTo(x, y);\r\n                        display.lineTo(stemX - bwh, h);\r\n                    }\r\n                    display.lineTo(cr, h);\r\n                    display.arcTo(0, h, 0, h - cr, cr);\r\n                    // left\r\n                    if (d1 < 0 && d2 > 0) {\r\n                        var stemY = Math.round($math.fitToRange(y, cr + bwh, h - cr - bwh));\r\n                        x = $math.fitToRange(x, -Infinity, 0);\r\n                        display.lineTo(0, h - cr);\r\n                        display.lineTo(0, stemY + bwh);\r\n                        display.lineTo(x, y);\r\n                        display.lineTo(0, stemY - bwh);\r\n                    }\r\n                    display.lineTo(0, cr);\r\n                    display.arcTo(0, 0, cr, 0, cr);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(PointedRectangle, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"PointedRectangle\"\r\n    });\r\n    Object.defineProperty(PointedRectangle, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([PointedRectangle.className])\r\n    });\r\n    return PointedRectangle;\r\n}(Graphics));\r\nexport { PointedRectangle };\r\n//# sourceMappingURL=PointedRectangle.js.map","import { __extends } from \"tslib\";\r\nimport { Label } from \"../render/Label\";\r\nimport { PointedRectangle } from \"../render/PointedRectangle\";\r\nimport { Container } from \"./Container\";\r\nimport { Percent } from \"../util/Percent\";\r\nimport { Color } from \"../util/Color\";\r\nimport * as $math from \"../util/Math\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $utils from \"../util/Utils\";\r\n/**\r\n * Creates a tooltip.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/tooltips/} for more info\r\n * @important\r\n */\r\nvar Tooltip = /** @class */ (function (_super) {\r\n    __extends(Tooltip, _super);\r\n    function Tooltip() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_arrangeDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_fx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_fy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_label\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_fillDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_strokeDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_labelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_w\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_h\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Tooltip.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"tooltip\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            this.set(\"background\", PointedRectangle.new(this._root, {\r\n                themeTags: [\"tooltip\", \"background\"]\r\n            }));\r\n            this._label = this.children.push(Label.new(this._root, {}));\r\n            this._disposers.push(this._label.events.on(\"boundschanged\", function () {\r\n                _this._updateBackground();\r\n            }));\r\n            this.on(\"bounds\", function () {\r\n                _this._updateBackground();\r\n            });\r\n            this._updateTextColor();\r\n            this._root.tooltipContainer.children.push(this);\r\n            this.hide(0);\r\n            this._root._tooltips.push(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"label\", {\r\n        /**\r\n         * A [[Label]] element for the tooltip.\r\n         *\r\n         * @readonly\r\n         * @return Label\r\n         */\r\n        get: function () {\r\n            return this._label;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Permanently disposes the tooltip.\r\n     */\r\n    Object.defineProperty(Tooltip.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.dispose.call(this);\r\n            $array.remove(this._root._tooltips, this);\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateChildren.call(this);\r\n            var labelText = this.get(\"labelText\");\r\n            if (labelText != null) {\r\n                this.label.set(\"text\", this.get(\"labelText\"));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this.isDirty(\"pointTo\")) {\r\n                // can't compare to previous, as sometimes pointTo is set twice (when pointer moves, so the position won't be udpated)\r\n                this._updateBackground();\r\n            }\r\n            if (this.isDirty(\"tooltipTarget\")) {\r\n                this.updateBackgroundColor();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_onShow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._onShow.call(this);\r\n            this.updateBackgroundColor();\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"updateBackgroundColor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var tooltipTarget = this.get(\"tooltipTarget\");\r\n            var background = this.get(\"background\");\r\n            var fill;\r\n            var stroke;\r\n            if (tooltipTarget && background) {\r\n                fill = tooltipTarget.get(\"fill\");\r\n                stroke = tooltipTarget.get(\"stroke\");\r\n                if (fill == null) {\r\n                    fill = stroke;\r\n                }\r\n                if (this.get(\"getFillFromSprite\")) {\r\n                    if (this._fillDp) {\r\n                        this._fillDp.dispose();\r\n                    }\r\n                    if (fill != null) {\r\n                        background.set(\"fill\", fill);\r\n                    }\r\n                    this._fillDp = tooltipTarget.on(\"fill\", function (fill) {\r\n                        if (fill != null) {\r\n                            background.set(\"fill\", fill);\r\n                            _this._updateTextColor(fill);\r\n                        }\r\n                    });\r\n                }\r\n                if (this.get(\"getStrokeFromSprite\")) {\r\n                    if (this._strokeDp) {\r\n                        this._strokeDp.dispose();\r\n                    }\r\n                    if (fill != null) {\r\n                        background.set(\"stroke\", fill);\r\n                    }\r\n                    this._strokeDp = tooltipTarget.on(\"fill\", function (fill) {\r\n                        if (fill != null) {\r\n                            background.set(\"stroke\", fill);\r\n                        }\r\n                    });\r\n                }\r\n                if (this.get(\"getLabelFillFromSprite\")) {\r\n                    if (this._labelDp) {\r\n                        this._labelDp.dispose();\r\n                    }\r\n                    if (fill != null) {\r\n                        this.label.set(\"fill\", fill);\r\n                    }\r\n                    this._labelDp = tooltipTarget.on(\"fill\", function (fill) {\r\n                        if (fill != null) {\r\n                            _this.label.set(\"fill\", fill);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            this._updateTextColor(fill);\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_updateTextColor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill) {\r\n            if (this.get(\"autoTextColor\")) {\r\n                if (fill == null) {\r\n                    fill = this.get(\"background\").get(\"fill\");\r\n                }\r\n                if (fill == null) {\r\n                    fill = this._root.interfaceColors.get(\"background\");\r\n                }\r\n                if (fill instanceof Color) {\r\n                    this.label.set(\"fill\", Color.alternative(fill, this._root.interfaceColors.get(\"alternativeText\"), this._root.interfaceColors.get(\"text\")));\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_setDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype._setDataItem.call(this, dataItem);\r\n            this.label._setDataItem(dataItem);\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip.prototype, \"_updateBackground\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.updateBackground.call(this);\r\n            var parent = this._root.container;\r\n            if (parent) {\r\n                var cw = 0.5;\r\n                var ch = 0.5;\r\n                var centerX = this.get(\"centerX\");\r\n                if (centerX instanceof Percent) {\r\n                    cw = centerX.value;\r\n                }\r\n                var centerY = this.get(\"centerY\");\r\n                if (centerY instanceof Percent) {\r\n                    ch = centerY.value;\r\n                }\r\n                var parentW = parent.width();\r\n                var parentH = parent.height();\r\n                var bounds = this.get(\"bounds\", { left: 0, top: 0, right: parentW, bottom: parentH });\r\n                this._updateBounds();\r\n                var w = this.width();\r\n                var h = this.height();\r\n                // use old w and h,as when tooltip is hidden, these are 0 and unneeded animation happens\r\n                if (w === 0) {\r\n                    w = this._w;\r\n                }\r\n                if (h === 0) {\r\n                    h = this._h;\r\n                }\r\n                var pointTo = this.get(\"pointTo\", { x: parentW / 2, y: parentH / 2 });\r\n                var x = pointTo.x;\r\n                var y = pointTo.y;\r\n                var pointerOrientation = this.get(\"pointerOrientation\");\r\n                var background = this.get(\"background\");\r\n                var pointerLength = 0;\r\n                var bgStrokeSizeY = 0;\r\n                var bgStrokeSizeX = 0;\r\n                if (background instanceof PointedRectangle) {\r\n                    pointerLength = background.get(\"pointerLength\", 0);\r\n                    bgStrokeSizeY = background.get(\"strokeWidth\", 0) / 2;\r\n                    bgStrokeSizeX = bgStrokeSizeY;\r\n                }\r\n                var pointerX = 0;\r\n                var pointerY = 0;\r\n                var boundsW = bounds.right - bounds.left;\r\n                var boundsH = bounds.bottom - bounds.top;\r\n                // horizontal\r\n                if (pointerOrientation == \"horizontal\" || pointerOrientation == \"left\" || pointerOrientation == \"right\") {\r\n                    bgStrokeSizeY = 0;\r\n                    if (pointerOrientation == \"horizontal\") {\r\n                        if (x > bounds.left + boundsW / 2) {\r\n                            x -= (w * (1 - cw) + pointerLength);\r\n                            bgStrokeSizeX *= -1;\r\n                        }\r\n                        else {\r\n                            x += (w * cw + pointerLength);\r\n                        }\r\n                    }\r\n                    else if (pointerOrientation == \"left\") {\r\n                        x += (w * (1 - cw) + pointerLength);\r\n                    }\r\n                    else {\r\n                        x -= (w * cw + pointerLength);\r\n                        bgStrokeSizeX *= -1;\r\n                    }\r\n                }\r\n                // vertical pointer\r\n                else {\r\n                    bgStrokeSizeX = 0;\r\n                    if (pointerOrientation == \"vertical\") {\r\n                        if (y > bounds.top + h / 2 + pointerLength) {\r\n                            y -= (h * (1 - ch) + pointerLength);\r\n                        }\r\n                        else {\r\n                            y += (h * ch + pointerLength);\r\n                            bgStrokeSizeY *= -1;\r\n                        }\r\n                    }\r\n                    else if (pointerOrientation == \"down\") {\r\n                        y -= (h * (1 - ch) + pointerLength);\r\n                    }\r\n                    else {\r\n                        y += (h * ch + pointerLength);\r\n                        bgStrokeSizeY *= -1;\r\n                    }\r\n                }\r\n                x = $math.fitToRange(x, bounds.left + w * cw, bounds.left + boundsW - w * (1 - cw)) + bgStrokeSizeX;\r\n                y = $math.fitToRange(y, bounds.top + h * ch, bounds.top + boundsH - h * (1 - ch)) - bgStrokeSizeY;\r\n                pointerX = pointTo.x - x + w * cw + bgStrokeSizeX;\r\n                pointerY = pointTo.y - y + h * ch - bgStrokeSizeY;\r\n                this._fx = x;\r\n                this._fy = y;\r\n                var animationDuration = this.get(\"animationDuration\", 0);\r\n                if (animationDuration > 0 && this.get(\"visible\") && this.get(\"opacity\") > 0.1) {\r\n                    var animationEasing = this.get(\"animationEasing\");\r\n                    this.animate({ key: \"x\", to: x, duration: animationDuration, easing: animationEasing });\r\n                    this.animate({ key: \"y\", to: y, duration: animationDuration, easing: animationEasing });\r\n                }\r\n                else {\r\n                    this.set(\"x\", x);\r\n                    this.set(\"y\", y);\r\n                }\r\n                if (background instanceof PointedRectangle) {\r\n                    background.set(\"pointerX\", pointerX);\r\n                    background.set(\"pointerY\", pointerY);\r\n                }\r\n                if (w > 0) {\r\n                    this._w = w;\r\n                }\r\n                if (h > 0) {\r\n                    this._h = h;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Tooltip, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Tooltip\"\r\n    });\r\n    Object.defineProperty(Tooltip, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Tooltip.className])\r\n    });\r\n    return Tooltip;\r\n}(Container));\r\nexport { Tooltip };\r\n//# sourceMappingURL=Tooltip.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport * as $object from \"./Object\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * Number formatter\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n * @important\r\n */\r\nvar NumberFormatter = /** @class */ (function (_super) {\r\n    __extends(NumberFormatter, _super);\r\n    function NumberFormatter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(NumberFormatter.prototype, \"_setDefaults\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // Defaults\r\n            this._setDefault(\"negativeBase\", 0);\r\n            this._setDefault(\"numberFormat\", \"#,###.#####\");\r\n            this._setDefault(\"smallNumberThreshold\", 1.00);\r\n            var bns = \"_big_number_suffix_\";\r\n            var sns = \"_small_number_suffix_\";\r\n            var bs = \"_byte_suffix_\";\r\n            this._setDefault(\"bigNumberPrefixes\", [\r\n                { \"number\": 1e+3, \"suffix\": this._t(bns + \"3\") },\r\n                { \"number\": 1e+6, \"suffix\": this._t(bns + \"6\") },\r\n                { \"number\": 1e+9, \"suffix\": this._t(bns + \"9\") },\r\n                { \"number\": 1e+12, \"suffix\": this._t(bns + \"12\") },\r\n                { \"number\": 1e+15, \"suffix\": this._t(bns + \"15\") },\r\n                { \"number\": 1e+18, \"suffix\": this._t(bns + \"18\") },\r\n                { \"number\": 1e+21, \"suffix\": this._t(bns + \"21\") },\r\n                { \"number\": 1e+24, \"suffix\": this._t(bns + \"24\") }\r\n            ]);\r\n            this._setDefault(\"smallNumberPrefixes\", [\r\n                { \"number\": 1e-24, \"suffix\": this._t(sns + \"24\") },\r\n                { \"number\": 1e-21, \"suffix\": this._t(sns + \"21\") },\r\n                { \"number\": 1e-18, \"suffix\": this._t(sns + \"18\") },\r\n                { \"number\": 1e-15, \"suffix\": this._t(sns + \"15\") },\r\n                { \"number\": 1e-12, \"suffix\": this._t(sns + \"12\") },\r\n                { \"number\": 1e-9, \"suffix\": this._t(sns + \"9\") },\r\n                { \"number\": 1e-6, \"suffix\": this._t(sns + \"6\") },\r\n                { \"number\": 1e-3, \"suffix\": this._t(sns + \"3\") }\r\n            ]);\r\n            this._setDefault(\"bytePrefixes\", [\r\n                { \"number\": 1, suffix: this._t(bs + \"B\") },\r\n                { \"number\": 1024, suffix: this._t(bs + \"KB\") },\r\n                { \"number\": 1048576, suffix: this._t(bs + \"MB\") },\r\n                { \"number\": 1073741824, suffix: this._t(bs + \"GB\") },\r\n                { \"number\": 1099511627776, suffix: this._t(bs + \"TB\") },\r\n                { \"number\": 1125899906842624, suffix: this._t(bs + \"PB\") }\r\n            ]);\r\n            _super.prototype._setDefaults.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * Formats the number according to specific format.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @return Formatted number\r\n     */\r\n    Object.defineProperty(NumberFormatter.prototype, \"format\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, format, precision) {\r\n            // no format passed in or \"Number\"\r\n            if (format == null || ($type.isString(format) && format.toLowerCase() === \"number\")) {\r\n                format = this.get(\"numberFormat\", \"\");\r\n            }\r\n            // Init return value\r\n            var formatted;\r\n            // Cast to number just in case\r\n            // TODO: maybe use better casting\r\n            var source = Number(value);\r\n            // Is it a built-in format or Intl.NumberFormatOptions\r\n            if ($type.isObject(format)) {\r\n                try {\r\n                    if (this.get(\"intlLocales\")) {\r\n                        return new Intl.NumberFormat(this.get(\"intlLocales\"), format).format(source);\r\n                    }\r\n                    else {\r\n                        return new Intl.NumberFormat(undefined, format).format(source);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    return \"Invalid\";\r\n                }\r\n            }\r\n            else {\r\n                // Clean format\r\n                format = $utils.cleanFormat(format);\r\n                // Get format info (it will also deal with parser caching)\r\n                var info = this.parseFormat(format, this._root.language);\r\n                // format and replace the number\r\n                var details = void 0;\r\n                if (source > this.get(\"negativeBase\")) {\r\n                    details = info.positive;\r\n                }\r\n                else if (source < this.get(\"negativeBase\")) {\r\n                    details = info.negative;\r\n                }\r\n                else {\r\n                    details = info.zero;\r\n                }\r\n                // Adjust precision\r\n                if (precision != null && !details.mod) {\r\n                    details = $object.copy(details);\r\n                    details.decimals.active = source == 0 ? 0 : precision;\r\n                }\r\n                // Format\r\n                formatted = details.template.split($type.PLACEHOLDER).join(this.applyFormat(source, details));\r\n            }\r\n            return formatted;\r\n        }\r\n    });\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format Format string, i.e. \"#,###.00\"\r\n     * @param language Language\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(NumberFormatter.prototype, \"parseFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (format, language) {\r\n            // Check cache\r\n            // TODO\r\n            // let cached = this.getCache(format);\r\n            // if (cached != null) {\r\n            // \treturn cached;\r\n            // }\r\n            var _this = this;\r\n            var thousandSeparator = language.translateEmpty(\"_thousandSeparator\");\r\n            var decimalSeparator = language.translateEmpty(\"_decimalSeparator\");\r\n            // init format parse info holder\r\n            var info = {\r\n                \"positive\": {\r\n                    \"thousands\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"interval\": -1,\r\n                        \"separator\": thousandSeparator\r\n                    },\r\n                    \"decimals\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"separator\": decimalSeparator\r\n                    },\r\n                    \"template\": \"\",\r\n                    \"source\": \"\",\r\n                    \"parsed\": false\r\n                },\r\n                \"negative\": {\r\n                    \"thousands\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"interval\": -1,\r\n                        \"separator\": thousandSeparator\r\n                    },\r\n                    \"decimals\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"separator\": decimalSeparator\r\n                    },\r\n                    \"template\": \"\",\r\n                    \"source\": \"\",\r\n                    \"parsed\": false\r\n                },\r\n                \"zero\": {\r\n                    \"thousands\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"interval\": -1,\r\n                        \"separator\": thousandSeparator\r\n                    },\r\n                    \"decimals\": {\r\n                        \"active\": -1,\r\n                        \"passive\": -1,\r\n                        \"separator\": decimalSeparator\r\n                    },\r\n                    \"template\": \"\",\r\n                    \"source\": \"\",\r\n                    \"parsed\": false\r\n                }\r\n            };\r\n            // Escape double vertical bars (that mean display one vertical bar)\r\n            format = format.replace(\"||\", $type.PLACEHOLDER2);\r\n            // Split it up and deal with different formats\r\n            var parts = format.split(\"|\");\r\n            info.positive.source = parts[0];\r\n            if (typeof parts[2] === \"undefined\") {\r\n                info.zero = info.positive;\r\n            }\r\n            else {\r\n                info.zero.source = parts[2];\r\n            }\r\n            if (typeof parts[1] === \"undefined\") {\r\n                info.negative = info.positive;\r\n            }\r\n            else {\r\n                info.negative.source = parts[1];\r\n            }\r\n            // Parse each\r\n            $object.each(info, function (_part, item) {\r\n                // Already parsed\r\n                if (item.parsed) {\r\n                    return;\r\n                }\r\n                // Check cached\r\n                // TODO\r\n                // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n                // \tinfo[part] = this.getCache(item.source);\r\n                // \treturn;\r\n                // }\r\n                // Begin parsing\r\n                var partFormat = item.source;\r\n                // Just \"Number\"?\r\n                if (partFormat.toLowerCase() === \"number\") {\r\n                    partFormat = _this.get(\"numberFormat\", \"#,###.#####\");\r\n                }\r\n                // Let TextFormatter split into chunks\r\n                var chunks = TextFormatter.chunk(partFormat, true);\r\n                for (var i = 0; i < chunks.length; i++) {\r\n                    var chunk = chunks[i];\r\n                    // replace back double vertical bar\r\n                    chunk.text = chunk.text.replace($type.PLACEHOLDER2, \"|\");\r\n                    if (chunk.type === \"value\") {\r\n                        // Parse format\r\n                        // Look for codes\r\n                        var matches = chunk.text.match(/[#0.,]+[ ]?[abesABES%!]?[abesABES!]?/);\r\n                        if (matches) {\r\n                            if (matches === null || matches[0] === \"\") {\r\n                                // no codes here - assume string\r\n                                // nothing to do here\r\n                                item.template += chunk.text;\r\n                            }\r\n                            else {\r\n                                // look for the format modifiers at the end\r\n                                var mods = matches[0].match(/[abesABES%!]{2}|[abesABES%]{1}$/);\r\n                                if (mods) {\r\n                                    item.mod = mods[0].toLowerCase();\r\n                                    item.modSpacing = matches[0].match(/[ ]{1}[abesABES%!]{1}$/) ? true : false;\r\n                                }\r\n                                // break the format up\r\n                                var a = matches[0].split(\".\");\r\n                                // Deal with thousands\r\n                                if (a[0] === \"\") {\r\n                                    // No directives for thousands\r\n                                    // Leave default settings (no formatting)\r\n                                }\r\n                                else {\r\n                                    // Counts\r\n                                    item.thousands.active = (a[0].match(/0/g) || []).length;\r\n                                    item.thousands.passive = (a[0].match(/\\#/g) || []).length + item.thousands.active;\r\n                                    // Separator interval\r\n                                    var b = a[0].split(\",\");\r\n                                    if (b.length === 1) {\r\n                                        // No thousands separators\r\n                                        // Do nothing\r\n                                    }\r\n                                    else {\r\n                                        // Use length fo the last chunk as thousands length\r\n                                        item.thousands.interval = (b.pop() || \"\").length;\r\n                                        if (item.thousands.interval === 0) {\r\n                                            item.thousands.interval = -1;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                // Deal with decimals\r\n                                if (typeof (a[1]) === \"undefined\") {\r\n                                    // No directives for decimals\r\n                                    // Leave at defaults (no formatting)\r\n                                }\r\n                                else {\r\n                                    // Counts\r\n                                    item.decimals.active = (a[1].match(/0/g) || []).length;\r\n                                    item.decimals.passive = (a[1].match(/\\#/g) || []).length + item.decimals.active;\r\n                                }\r\n                                // Add special code to template\r\n                                item.template += chunk.text.split(matches[0]).join($type.PLACEHOLDER);\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Quoted string - take it as it is\r\n                        item.template += chunk.text;\r\n                    }\r\n                }\r\n                // Apply style formatting\r\n                //item.template = getTextFormatter().format(item.template, this.outputFormat);\r\n                // Save cache\r\n                // TODO\r\n                //this.setCache(item.source, item);\r\n                // Mark this as parsed\r\n                item.parsed = true;\r\n            });\r\n            // Save cache (the whole thing)\r\n            // TODO\r\n            //this.setCache(format, info);\r\n            return info;\r\n        }\r\n    });\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by parseFormat()\r\n     * @return Formatted number\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(NumberFormatter.prototype, \"applyFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, details) {\r\n            // Use absolute values\r\n            var negative = value < 0;\r\n            value = Math.abs(value);\r\n            // Recalculate according to modifier\r\n            var prefix = \"\", suffix = \"\";\r\n            var mods = details.mod ? details.mod.split(\"\") : [];\r\n            if (mods.indexOf(\"b\") !== -1) {\r\n                var a_1 = this.applyPrefix(value, this.get(\"bytePrefixes\"), mods.indexOf(\"!\") !== -1);\r\n                value = a_1[0];\r\n                prefix = a_1[1];\r\n                suffix = a_1[2];\r\n                if (details.modSpacing) {\r\n                    suffix = \" \" + suffix;\r\n                }\r\n            }\r\n            else if (mods.indexOf(\"a\") !== -1) {\r\n                var a_2 = this.applyPrefix(value, value < this.get(\"smallNumberThreshold\") ? this.get(\"smallNumberPrefixes\") : this.get(\"bigNumberPrefixes\"), mods.indexOf(\"!\") !== -1);\r\n                value = a_2[0];\r\n                prefix = a_2[1];\r\n                suffix = a_2[2];\r\n                if (details.modSpacing) {\r\n                    suffix = \" \" + suffix;\r\n                }\r\n            }\r\n            else if (mods.indexOf(\"%\") !== -1) {\r\n                var ol = Math.min(value.toString().length + 2, 21);\r\n                value *= 100;\r\n                value = parseFloat(value.toPrecision(ol));\r\n                suffix = \"%\";\r\n            }\r\n            else if (mods.indexOf(\"\") !== -1) {\r\n                var ol = Math.min(value.toString().length + 3, 21);\r\n                value *= 1000;\r\n                value = parseFloat(value.toPrecision(ol));\r\n                suffix = \"\";\r\n            }\r\n            // Round to passive\r\n            if (mods.indexOf(\"e\") !== -1) {\r\n                // convert the value to exponential\r\n                var exp = void 0;\r\n                if (details.decimals.passive >= 0) {\r\n                    exp = value.toExponential(details.decimals.passive).split(\"e\");\r\n                }\r\n                else {\r\n                    exp = value.toExponential().split(\"e\");\r\n                }\r\n                value = Number(exp[0]);\r\n                suffix = \"e\" + exp[1];\r\n                if (details.modSpacing) {\r\n                    suffix = \" \" + suffix;\r\n                }\r\n            }\r\n            else if (details.decimals.passive === 0) {\r\n                value = Math.round(value);\r\n            }\r\n            else if (details.decimals.passive > 0) {\r\n                var d = Math.pow(10, details.decimals.passive);\r\n                value = Math.round(value * d) / d;\r\n            }\r\n            // Init return value\r\n            var res = \"\";\r\n            // Calc integer and decimal parts\r\n            var a = $type.numberToString(value).split(\".\");\r\n            // Format integers\r\n            var ints = a[0];\r\n            // Pad integers to active length\r\n            if (ints.length < details.thousands.active) {\r\n                ints = Array(details.thousands.active - ints.length + 1).join(\"0\") + ints;\r\n            }\r\n            // Insert thousands separators\r\n            if (details.thousands.interval > 0) {\r\n                var ip = [];\r\n                var intsr = ints.split(\"\").reverse().join(\"\");\r\n                for (var i = 0, len = ints.length; i <= len; i += details.thousands.interval) {\r\n                    var c = intsr.substr(i, details.thousands.interval).split(\"\").reverse().join(\"\");\r\n                    if (c !== \"\") {\r\n                        ip.unshift(c);\r\n                    }\r\n                }\r\n                ints = ip.join(details.thousands.separator);\r\n            }\r\n            // Add integers\r\n            res += ints;\r\n            // Add decimals\r\n            if (a.length === 1) {\r\n                a.push(\"\");\r\n            }\r\n            var decs = a[1];\r\n            // Fill zeros?\r\n            if (decs.length < details.decimals.active) {\r\n                decs += Array(details.decimals.active - decs.length + 1).join(\"0\");\r\n            }\r\n            if (decs !== \"\") {\r\n                res += details.decimals.separator + decs;\r\n            }\r\n            // Can't have empty return value\r\n            if (res === \"\") {\r\n                res = \"0\";\r\n            }\r\n            // Add minus sign back\r\n            if (value !== 0 && negative && (mods.indexOf(\"s\") === -1)) {\r\n                res = \"-\" + res;\r\n            }\r\n            // Add suffixes/prefixes\r\n            if (prefix) {\r\n                res = prefix + res;\r\n            }\r\n            if (suffix) {\r\n                res += suffix;\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    Object.defineProperty(NumberFormatter.prototype, \"applyPrefix\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, prefixes, force) {\r\n            if (force === void 0) { force = false; }\r\n            var newvalue = value;\r\n            var prefix = \"\";\r\n            var suffix = \"\";\r\n            var applied = false;\r\n            var k = 1;\r\n            for (var i = 0, len = prefixes.length; i < len; i++) {\r\n                if (prefixes[i].number <= value) {\r\n                    if (prefixes[i].number === 0) {\r\n                        newvalue = 0;\r\n                    }\r\n                    else {\r\n                        newvalue = value / prefixes[i].number;\r\n                        k = prefixes[i].number;\r\n                    }\r\n                    prefix = prefixes[i].prefix;\r\n                    suffix = prefixes[i].suffix;\r\n                    applied = true;\r\n                }\r\n            }\r\n            if (!applied && force && prefixes.length && value != 0) {\r\n                // Prefix was not applied. Use the first prefix.\r\n                newvalue = value / prefixes[0].number;\r\n                prefix = prefixes[0].prefix;\r\n                suffix = prefixes[0].suffix;\r\n                applied = true;\r\n            }\r\n            if (applied) {\r\n                newvalue = parseFloat(newvalue.toPrecision(Math.min(k.toString().length + Math.floor(newvalue).toString().replace(/[^0-9]*/g, \"\").length, 21)));\r\n            }\r\n            return [newvalue, prefix, suffix];\r\n        }\r\n    });\r\n    /**\r\n     * Replaces brackets with temporary placeholders.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Input text\r\n     * @return Escaped text\r\n     */\r\n    Object.defineProperty(NumberFormatter.prototype, \"escape\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.replace(\"||\", $type.PLACEHOLDER2);\r\n        }\r\n    });\r\n    /**\r\n     * Replaces placeholders back to brackets.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param text  Escaped text\r\n     * @return Unescaped text\r\n     */\r\n    Object.defineProperty(NumberFormatter.prototype, \"unescape\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            return text.replace($type.PLACEHOLDER2, \"|\");\r\n        }\r\n    });\r\n    return NumberFormatter;\r\n}(Entity));\r\nexport { NumberFormatter };\r\n//# sourceMappingURL=NumberFormatter.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\nvar DateFormatter = /** @class */ (function (_super) {\r\n    __extends(DateFormatter, _super);\r\n    function DateFormatter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(DateFormatter.prototype, \"_setDefaults\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // Defaults\r\n            this._setDefault(\"capitalize\", true);\r\n            this._setDefault(\"dateFormat\", \"yyyy-MM-dd\");\r\n            _super.prototype._setDefaults.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"format\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (source, format) {\r\n            // Locale?\r\n            // TODO\r\n            // No format passed in or it's empty\r\n            if (typeof format === \"undefined\" || format === \"\") {\r\n                format = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n            }\r\n            // Init return value\r\n            var formatted;\r\n            // Cast?\r\n            // TODO: decide if we need to cast\r\n            var date = source;\r\n            // Is it a built-in format or Intl.DateTimeFormat\r\n            if ($type.isObject(format)) {\r\n                try {\r\n                    var locales = this.get(\"intlLocales\");\r\n                    if (locales) {\r\n                        return new Intl.DateTimeFormat(locales, format).format(date);\r\n                    }\r\n                    else {\r\n                        return new Intl.DateTimeFormat(undefined, format).format(date);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    return \"Invalid\";\r\n                }\r\n            }\r\n            // get format info (it will also deal with parser caching)\r\n            var info = this.parseFormat(format);\r\n            // Should we apply custom time zone?\r\n            var timezone = this._root.timezone;\r\n            if (timezone && !this._root.utc) {\r\n                date = timezone.convertLocal(date);\r\n            }\r\n            // Check if it's a valid date\r\n            if (!$type.isNumber(date.getTime())) {\r\n                // TODO translation\r\n                //return this._t(\"Invalid date\");\r\n                return \"Invalid date\";\r\n            }\r\n            // Apply format\r\n            formatted = this.applyFormat(date, info);\r\n            // Capitalize\r\n            if (this.get(\"capitalize\")) {\r\n                formatted = formatted.replace(/^.{1}/, formatted.substr(0, 1).toUpperCase());\r\n            }\r\n            // We're done\r\n            return formatted;\r\n        }\r\n    });\r\n    /**\r\n     * Applies format to Date.\r\n     *\r\n     * @param date      Date object\r\n     * @param info      Parsed format information\r\n     * @return Formatted date string\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"applyFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (date, info) {\r\n            // Init return value\r\n            var res = info.template;\r\n            // Get values\r\n            var fullYear, month, weekday, day, hours, minutes, seconds, milliseconds, offset = date.getTimezoneOffset(), timestamp = date.getTime();\r\n            if (this._root.utc) {\r\n                fullYear = date.getUTCFullYear();\r\n                month = date.getUTCMonth();\r\n                weekday = date.getUTCDay();\r\n                day = date.getUTCDate();\r\n                hours = date.getUTCHours();\r\n                minutes = date.getUTCMinutes();\r\n                seconds = date.getUTCSeconds();\r\n                milliseconds = date.getUTCMilliseconds();\r\n            }\r\n            else {\r\n                fullYear = date.getFullYear();\r\n                month = date.getMonth();\r\n                weekday = date.getDay();\r\n                day = date.getDate();\r\n                hours = date.getHours();\r\n                minutes = date.getMinutes();\r\n                seconds = date.getSeconds();\r\n                milliseconds = date.getMilliseconds();\r\n            }\r\n            // Go through each part and format/replace it in template\r\n            for (var i = 0, len = info.parts.length; i < len; i++) {\r\n                var value = \"\";\r\n                switch (info.parts[i]) {\r\n                    case \"G\":\r\n                        value = this._t(fullYear < 0\r\n                            ? \"_era_bc\"\r\n                            : \"_era_ad\");\r\n                        break;\r\n                    case \"yyyy\":\r\n                        value = Math.abs(fullYear).toString();\r\n                        if (fullYear < 0) {\r\n                            value += this._t(\"_era_bc\");\r\n                        }\r\n                        break;\r\n                    case \"yyy\":\r\n                    case \"yy\":\r\n                    case \"y\":\r\n                        value = Math.abs(fullYear).toString().substr(-info.parts[i].length);\r\n                        if (fullYear < 0) {\r\n                            value += this._t(\"_era_bc\");\r\n                        }\r\n                        break;\r\n                    case \"YYYY\":\r\n                    case \"YYY\":\r\n                    case \"YY\":\r\n                    case \"Y\":\r\n                        var week = $utils.getWeek(date);\r\n                        var year = fullYear;\r\n                        if (week == 1 && (weekday > 4)) {\r\n                            year--;\r\n                        }\r\n                        if (info.parts[i] == \"YYYY\") {\r\n                            value = Math.abs(year).toString();\r\n                        }\r\n                        else {\r\n                            value = Math.abs(year).toString().substr(-info.parts[i].length);\r\n                        }\r\n                        if (year < 0) {\r\n                            value += this._t(\"_era_bc\");\r\n                        }\r\n                        break;\r\n                    case \"u\":\r\n                        // @todo\r\n                        break;\r\n                    case \"q\":\r\n                        value = \"\" + Math.ceil((date.getMonth() + 1) / 3);\r\n                        break;\r\n                    case \"MMMMM\":\r\n                        value = this._t(this._getMonth(month)).substr(0, 1);\r\n                        break;\r\n                    case \"MMMM\":\r\n                        value = this._t(this._getMonth(month));\r\n                        break;\r\n                    case \"MMM\":\r\n                        value = this._t(this._getShortMonth(month));\r\n                        break;\r\n                    case \"MM\":\r\n                        value = $utils.padString(month + 1, 2, \"0\");\r\n                        break;\r\n                    case \"M\":\r\n                        value = (month + 1).toString();\r\n                        break;\r\n                    case \"ww\":\r\n                        value = $utils.padString($utils.getWeek(date, this._root.utc), 2, \"0\");\r\n                        break;\r\n                    case \"w\":\r\n                        value = $utils.getWeek(date, this._root.utc).toString();\r\n                        break;\r\n                    case \"W\":\r\n                        value = $utils.getMonthWeek(date, this._root.utc).toString();\r\n                        break;\r\n                    case \"dd\":\r\n                        value = $utils.padString(day, 2, \"0\");\r\n                        break;\r\n                    case \"d\":\r\n                        value = day.toString();\r\n                        break;\r\n                    case \"DD\":\r\n                    case \"DDD\":\r\n                        value = $utils.padString($utils.getYearDay(date, this._root.utc).toString(), info.parts[i].length, \"0\");\r\n                        break;\r\n                    case \"D\":\r\n                        value = $utils.getYearDay(date, this._root.utc).toString();\r\n                        break;\r\n                    case \"F\":\r\n                        // @todo\r\n                        break;\r\n                    case \"g\":\r\n                        // @todo\r\n                        break;\r\n                    case \"t\":\r\n                        value = this._root.language.translateFunc(\"_dateOrd\").call(this, day);\r\n                        break;\r\n                    case \"E\":\r\n                        value = (weekday || 7).toString();\r\n                        break;\r\n                    case \"EE\":\r\n                        value = $utils.padString((weekday || 7).toString(), 2, \"0\");\r\n                        break;\r\n                    case \"EEE\":\r\n                    case \"eee\":\r\n                        value = this._t(this._getShortWeekday(weekday));\r\n                        break;\r\n                    case \"EEEE\":\r\n                    case \"eeee\":\r\n                        value = this._t(this._getShortWeekday(weekday));\r\n                        break;\r\n                    case \"EEEEE\":\r\n                    case \"eeeee\":\r\n                        value = this._t(this._getShortWeekday(weekday)).substr(0, 1);\r\n                        break;\r\n                    case \"e\":\r\n                    case \"ee\":\r\n                        value = (weekday - (this._root.locale.firstDayOfWeek || 1) + 1).toString();\r\n                        if (info.parts[i] == \"ee\") {\r\n                            value = $utils.padString(value, 2, \"0\");\r\n                        }\r\n                        break;\r\n                    case \"a\":\r\n                        if (hours >= 12) {\r\n                            value = this._t(\"PM\");\r\n                        }\r\n                        else {\r\n                            value = this._t(\"AM\");\r\n                        }\r\n                        break;\r\n                    case \"aa\":\r\n                        if (hours >= 12) {\r\n                            value = this._t(\"P.M.\");\r\n                        }\r\n                        else {\r\n                            value = this._t(\"A.M.\");\r\n                        }\r\n                        break;\r\n                    case \"aaa\":\r\n                        if (hours >= 12) {\r\n                            value = this._t(\"P\");\r\n                        }\r\n                        else {\r\n                            value = this._t(\"A\");\r\n                        }\r\n                        break;\r\n                    case \"h\":\r\n                        value = $utils.get12Hours(hours).toString();\r\n                        break;\r\n                    case \"hh\":\r\n                        value = $utils.padString($utils.get12Hours(hours), 2, \"0\");\r\n                        break;\r\n                    case \"H\":\r\n                        value = hours.toString();\r\n                        break;\r\n                    case \"HH\":\r\n                        value = $utils.padString(hours, 2, \"0\");\r\n                        break;\r\n                    case \"K\":\r\n                        value = $utils.get12Hours(hours, 0).toString();\r\n                        break;\r\n                    case \"KK\":\r\n                        value = $utils.padString($utils.get12Hours(hours, 0), 2, \"0\");\r\n                        break;\r\n                    case \"k\":\r\n                        value = (hours + 1).toString();\r\n                        break;\r\n                    case \"kk\":\r\n                        value = $utils.padString(hours + 1, 2, \"0\");\r\n                        break;\r\n                    case \"m\":\r\n                        value = minutes.toString();\r\n                        break;\r\n                    case \"mm\":\r\n                        value = $utils.padString(minutes, 2, \"0\");\r\n                        break;\r\n                    case \"s\":\r\n                        value = seconds.toString();\r\n                        break;\r\n                    case \"ss\":\r\n                        value = $utils.padString(seconds, 2, \"0\");\r\n                        break;\r\n                    case \"S\":\r\n                    case \"SS\":\r\n                    case \"SSS\":\r\n                        value = Math.round((milliseconds / 1000) * Math.pow(10, info.parts[i].length)).toString();\r\n                        break;\r\n                    case \"x\":\r\n                        value = timestamp.toString();\r\n                        break;\r\n                    case \"n\":\r\n                    case \"nn\":\r\n                    case \"nnn\":\r\n                        value = $utils.padString(milliseconds, info.parts[i].length, \"0\");\r\n                        break;\r\n                    case \"z\":\r\n                        value = $utils.getTimeZone(date, false, false, this._root.utc);\r\n                        break;\r\n                    case \"zz\":\r\n                        value = $utils.getTimeZone(date, true, false, this._root.utc);\r\n                        break;\r\n                    case \"zzz\":\r\n                        value = $utils.getTimeZone(date, false, true, this._root.utc);\r\n                        break;\r\n                    case \"zzzz\":\r\n                        value = $utils.getTimeZone(date, true, true, this._root.utc);\r\n                        break;\r\n                    case \"Z\":\r\n                    case \"ZZ\":\r\n                        var tz = Math.abs(offset) / 60;\r\n                        var tzh = Math.floor(tz);\r\n                        var tzm = tz * 60 - tzh * 60;\r\n                        if (this._root.utc) {\r\n                            tzh = 0;\r\n                            tzm = 0;\r\n                        }\r\n                        if (info.parts[i] == \"Z\") {\r\n                            value = \"GMT\";\r\n                            value += offset > 0 ? \"-\" : \"+\";\r\n                            value += $utils.padString(tzh, 2) + \":\" + $utils.padString(tzm, 2);\r\n                        }\r\n                        else {\r\n                            value = offset > 0 ? \"-\" : \"+\";\r\n                            value += $utils.padString(tzh, 2) + $utils.padString(tzm, 2);\r\n                        }\r\n                        break;\r\n                    case \"i\":\r\n                        value = date.toISOString();\r\n                        break;\r\n                    case \"I\":\r\n                        value = date.toUTCString();\r\n                        break;\r\n                }\r\n                res = res.replace($type.PLACEHOLDER, value);\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    /**\r\n     * Parses format into structured infromation.\r\n     *\r\n     * @param format Format template\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"parseFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (format) {\r\n            // Check cache\r\n            // TODO: implement caching of the parsed format\r\n            // Init format parse info holder\r\n            var info = {\r\n                \"template\": \"\",\r\n                \"parts\": []\r\n            };\r\n            // Let TextFormatter split into chunks\r\n            var chunks = TextFormatter.chunk(format, true);\r\n            for (var i = 0; i < chunks.length; i++) {\r\n                var chunk = chunks[i];\r\n                if (chunk.type === \"value\") {\r\n                    // Just \"Date\"?\r\n                    if (chunk.text.match(/^date$/i)) {\r\n                        var dateFormat = this.get(\"dateFormat\", \"yyyy-MM-dd\");\r\n                        if (!$type.isString(dateFormat)) {\r\n                            dateFormat = \"yyyy-MM-dd\";\r\n                        }\r\n                        chunk.text = dateFormat;\r\n                    }\r\n                    // Find all possible parts\r\n                    var matches = chunk.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);\r\n                    // Found?\r\n                    if (matches) {\r\n                        // Populate template\r\n                        for (var x = 0; x < matches.length; x++) {\r\n                            info.parts.push(matches[x]);\r\n                            chunk.text = chunk.text.replace(matches[x], $type.PLACEHOLDER);\r\n                        }\r\n                    }\r\n                }\r\n                // Apply to template\r\n                info.template += chunk.text;\r\n            }\r\n            // Save cache\r\n            // TODO\r\n            return info;\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_months\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_getMonth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return this._months()[index];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_shortMonths\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May(short)\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_getShortMonth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return this._shortMonths()[index];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_weekdays\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_getWeekday\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return this._weekdays()[index];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_shortWeekdays\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"_getShortWeekday\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            return this._shortWeekdays()[index];\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"parse\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (source, format) {\r\n            // Is it already a Date\r\n            if (source instanceof Date) {\r\n                return source;\r\n            }\r\n            // Is it a numeric timestamp\r\n            if ($type.isNumber(source)) {\r\n                return new Date(source);\r\n            }\r\n            // No? Let's check if it's string, and try converting to it if nec\r\n            if (!$type.isString(source)) {\r\n                source = source.toString();\r\n            }\r\n            // Init return value\r\n            var res;\r\n            // Init RegEx for parsing\r\n            var reg = \"\";\r\n            // Clean format\r\n            format = $utils.cleanFormat(format);\r\n            // Clip format to length of the source string\r\n            format = format.substr(0, source.length);\r\n            // Parse format\r\n            var info = this.parseFormat(format);\r\n            // Init parsed items holder\r\n            var parsedIndexes = {\r\n                \"year\": -1,\r\n                \"year3\": -1,\r\n                \"year2\": -1,\r\n                \"year1\": -1,\r\n                \"month\": -1,\r\n                \"monthShort\": -1,\r\n                \"monthLong\": -1,\r\n                \"weekdayShort\": -1,\r\n                \"weekdayLong\": -1,\r\n                \"day\": -1,\r\n                \"yearDay\": -1,\r\n                \"week\": -1,\r\n                \"hourBase0\": -1,\r\n                \"hour12Base0\": -1,\r\n                \"hourBase1\": -1,\r\n                \"hour12Base1\": -1,\r\n                \"minute\": -1,\r\n                \"second\": -1,\r\n                \"millisecond\": -1,\r\n                \"millisecondDigits\": -1,\r\n                \"am\": -1,\r\n                \"zone\": -1,\r\n                \"timestamp\": -1,\r\n                \"iso\": -1\r\n            };\r\n            // Init values\r\n            var resValues = {\r\n                \"year\": 1970,\r\n                \"month\": 0,\r\n                \"day\": 1,\r\n                \"hour\": 0,\r\n                \"minute\": 0,\r\n                \"second\": 0,\r\n                \"millisecond\": 0,\r\n                \"timestamp\": null,\r\n                \"offset\": 0,\r\n                \"utc\": this._root.utc\r\n            };\r\n            // Index adjuster\r\n            var indexAdjust = 0;\r\n            var index = 0;\r\n            // Iterate through all of the parts\r\n            for (var i = 0; i < info.parts.length; i++) {\r\n                // Set current match index\r\n                index = i + indexAdjust + 1;\r\n                switch (info.parts[i]) {\r\n                    case \"yyyy\":\r\n                    case \"YYYY\":\r\n                        reg += \"([0-9]{4})\";\r\n                        parsedIndexes.year = index;\r\n                        break;\r\n                    case \"yyy\":\r\n                    case \"YYY\":\r\n                        reg += \"([0-9]{3})\";\r\n                        parsedIndexes.year3 = index;\r\n                        break;\r\n                    case \"yy\":\r\n                    case \"YY\":\r\n                        reg += \"([0-9]{2})\";\r\n                        parsedIndexes.year2 = index;\r\n                        break;\r\n                    case \"y\":\r\n                    case \"Y\":\r\n                        reg += \"([0-9]{1})\";\r\n                        parsedIndexes.year1 = index;\r\n                        break;\r\n                    case \"MMMM\":\r\n                        reg += \"(\" + this.getStringList(this._months()).join(\"|\") + \")\";\r\n                        parsedIndexes.monthLong = index;\r\n                        break;\r\n                    case \"MMM\":\r\n                        reg += \"(\" + this.getStringList(this._shortMonths()).join(\"|\") + \")\";\r\n                        parsedIndexes.monthShort = index;\r\n                        break;\r\n                    case \"MM\":\r\n                    case \"M\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.month = index;\r\n                        break;\r\n                    case \"ww\":\r\n                    case \"w\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.week = index;\r\n                        break;\r\n                    case \"dd\":\r\n                    case \"d\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.day = index;\r\n                        break;\r\n                    case \"DDD\":\r\n                    case \"DD\":\r\n                    case \"D\":\r\n                        reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.yearDay = index;\r\n                        break;\r\n                    case \"dddd\":\r\n                        reg += \"(\" + this.getStringList(this._weekdays()).join(\"|\") + \")\";\r\n                        parsedIndexes.weekdayLong = index;\r\n                        break;\r\n                    case \"ddd\":\r\n                        reg += \"(\" + this.getStringList(this._shortWeekdays()).join(\"|\") + \")\";\r\n                        parsedIndexes.weekdayShort = index;\r\n                        break;\r\n                    case \"aaa\":\r\n                    case \"aa\":\r\n                    case \"a\":\r\n                        // TODO: fix (escape regex)\r\n                        reg += \"(\" + this.getStringList([\"AM\", \"PM\", \"A\\.M\\.\", \"P\\.M\\.\", \"A\", \"P\"]).join(\"|\") + \")\";\r\n                        parsedIndexes.am = index;\r\n                        break;\r\n                    case \"hh\":\r\n                    case \"h\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.hour12Base1 = index;\r\n                        break;\r\n                    case \"HH\":\r\n                    case \"H\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.hourBase0 = index;\r\n                        break;\r\n                    case \"KK\":\r\n                    case \"K\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.hour12Base0 = index;\r\n                        break;\r\n                    case \"kk\":\r\n                    case \"k\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.hourBase1 = index;\r\n                        break;\r\n                    case \"mm\":\r\n                    case \"m\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.minute = index;\r\n                        break;\r\n                    case \"ss\":\r\n                    case \"s\":\r\n                        reg += \"([0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.second = index;\r\n                        break;\r\n                    case \"SSS\":\r\n                    case \"SS\":\r\n                    case \"S\":\r\n                        reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.millisecond = index;\r\n                        parsedIndexes.millisecondDigits = info.parts[i].length;\r\n                        break;\r\n                    case \"nnn\":\r\n                    case \"nn\":\r\n                    case \"n\":\r\n                        reg += \"([0-9]{3}|[0-9]{2}|[0-9]{1})\";\r\n                        parsedIndexes.millisecond = index;\r\n                        break;\r\n                    case \"x\":\r\n                        reg += \"([0-9]{1,})\";\r\n                        parsedIndexes.timestamp = index;\r\n                        break;\r\n                    case \"Z\":\r\n                        reg += \"GMT([-+]+[0-9]{2}:[0-9]{2})\";\r\n                        parsedIndexes.zone = index;\r\n                        break;\r\n                    case \"ZZ\":\r\n                        reg += \"([\\\\-+]+[0-9]{2}[0-9]{2})\";\r\n                        parsedIndexes.zone = index;\r\n                        break;\r\n                    case \"i\":\r\n                        reg += \"([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\\\.?([0-9]{0,3})([zZ]|[+\\\\-][0-9]{2}:?[0-9]{2}|$)\";\r\n                        parsedIndexes.iso = index;\r\n                        indexAdjust += 7;\r\n                        break;\r\n                    case \"G\":\r\n                    case \"YYYY\":\r\n                    case \"YYY\":\r\n                    case \"YY\":\r\n                    case \"Y\":\r\n                    case \"MMMMM\":\r\n                    case \"W\":\r\n                    case \"EEEEE\":\r\n                    case \"EEEE\":\r\n                    case \"EEE\":\r\n                    case \"EE\":\r\n                    case \"E\":\r\n                    case \"eeeee\":\r\n                    case \"eeee\":\r\n                    case \"eee\":\r\n                    case \"ee\":\r\n                    case \"e\":\r\n                    case \"zzzz\":\r\n                    case \"zzz\":\r\n                    case \"zz\":\r\n                    case \"z\":\r\n                    case \"t\":\r\n                        // Ignore\r\n                        indexAdjust--;\r\n                        break;\r\n                }\r\n                reg += \"[^0-9]*\";\r\n            }\r\n            // Try matching\r\n            var regex = new RegExp(reg);\r\n            var matches = source.match(regex);\r\n            if (matches) {\r\n                // Populate the date object\r\n                // Full year\r\n                if (parsedIndexes.year > -1) {\r\n                    resValues.year = parseInt(matches[parsedIndexes.year]);\r\n                }\r\n                // 3-digit year\r\n                if (parsedIndexes.year3 > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.year3]);\r\n                    val += 1000;\r\n                    resValues.year = val;\r\n                }\r\n                // 2-digit year\r\n                if (parsedIndexes.year2 > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.year2]);\r\n                    if (val > 50) {\r\n                        val += 1000;\r\n                    }\r\n                    else {\r\n                        val += 2000;\r\n                    }\r\n                    resValues.year = val;\r\n                }\r\n                // 1-digit year\r\n                if (parsedIndexes.year1 > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.year1]);\r\n                    val = Math.floor((new Date().getFullYear()) / 10) * 10 + val;\r\n                    resValues.year = val;\r\n                }\r\n                // Full month\r\n                if (parsedIndexes.monthLong > -1) {\r\n                    resValues.month = this.resolveMonth(matches[parsedIndexes.monthLong]);\r\n                }\r\n                // Short month\r\n                if (parsedIndexes.monthShort > -1) {\r\n                    resValues.month = this.resolveShortMonth(matches[parsedIndexes.monthShort]);\r\n                }\r\n                // Numeric month\r\n                if (parsedIndexes.month > -1) {\r\n                    resValues.month = parseInt(matches[parsedIndexes.month]) - 1;\r\n                }\r\n                // Weekday\r\n                // @todo\r\n                // Week\r\n                if ((parsedIndexes.week > -1) && (parsedIndexes.day === -1)) {\r\n                    // We parse weeks ONLY if day is not explicitly set\r\n                    // TODO: this needs work\r\n                    // (but maybe later - I can hardly imagine anyone passing their dates in weeks)\r\n                    resValues.month = 0;\r\n                    resValues.day = $utils.getDayFromWeek(parseInt(matches[parsedIndexes.week]), resValues.year, 1, this._root.utc);\r\n                }\r\n                // Day\r\n                if (parsedIndexes.day > -1) {\r\n                    resValues.day = parseInt(matches[parsedIndexes.day]);\r\n                }\r\n                // Year day\r\n                if (parsedIndexes.yearDay > -1) {\r\n                    resValues.month = 0;\r\n                    resValues.day = parseInt(matches[parsedIndexes.yearDay]);\r\n                }\r\n                // 24 Hour (0-23)\r\n                if (parsedIndexes.hourBase0 > -1) {\r\n                    resValues.hour = parseInt(matches[parsedIndexes.hourBase0]);\r\n                }\r\n                // 24 Hour (1-24)\r\n                if (parsedIndexes.hourBase1 > -1) {\r\n                    resValues.hour = parseInt(matches[parsedIndexes.hourBase1]) - 1;\r\n                }\r\n                // 12 Hour (0-11)\r\n                if (parsedIndexes.hour12Base0 > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.hour12Base0]);\r\n                    if (val == 11) {\r\n                        val = 0;\r\n                    }\r\n                    if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                        val += 12;\r\n                    }\r\n                    resValues.hour = val;\r\n                }\r\n                // 12 Hour (1-12)\r\n                if (parsedIndexes.hour12Base1 > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.hour12Base1]);\r\n                    if (val == 12) {\r\n                        val = 0;\r\n                    }\r\n                    if ((parsedIndexes.am > -1) && !this.isAm(matches[parsedIndexes.am])) {\r\n                        val += 12;\r\n                    }\r\n                    resValues.hour = val;\r\n                }\r\n                // Minute\r\n                if (parsedIndexes.minute > -1) {\r\n                    resValues.minute = parseInt(matches[parsedIndexes.minute]);\r\n                }\r\n                // Second\r\n                if (parsedIndexes.second > -1) {\r\n                    resValues.second = parseInt(matches[parsedIndexes.second]);\r\n                }\r\n                // Millisecond\r\n                if (parsedIndexes.millisecond > -1) {\r\n                    var val = parseInt(matches[parsedIndexes.millisecond]);\r\n                    if (parsedIndexes.millisecondDigits == 2) {\r\n                        val *= 10;\r\n                    }\r\n                    else if (parsedIndexes.millisecondDigits == 1) {\r\n                        val *= 100;\r\n                    }\r\n                    resValues.millisecond = val;\r\n                }\r\n                // Timestamp\r\n                if (parsedIndexes.timestamp > -1) {\r\n                    resValues.timestamp = parseInt(matches[parsedIndexes.timestamp]);\r\n                    var ts = new Date(resValues.timestamp);\r\n                    resValues.year = ts.getUTCFullYear();\r\n                    resValues.month = ts.getUTCMonth();\r\n                    resValues.day = ts.getUTCDate();\r\n                    resValues.hour = ts.getUTCHours();\r\n                    resValues.minute = ts.getUTCMinutes();\r\n                    resValues.second = ts.getUTCSeconds();\r\n                    resValues.millisecond = ts.getUTCMilliseconds();\r\n                }\r\n                // Adjust time zone\r\n                if (parsedIndexes.zone > -1) {\r\n                    resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.zone]);\r\n                }\r\n                // ISO\r\n                if (parsedIndexes.iso > -1) {\r\n                    resValues.year = $type.toNumber(matches[parsedIndexes.iso + 0]);\r\n                    resValues.month = $type.toNumber(matches[parsedIndexes.iso + 1]) - 1;\r\n                    resValues.day = $type.toNumber(matches[parsedIndexes.iso + 2]);\r\n                    resValues.hour = $type.toNumber(matches[parsedIndexes.iso + 3]);\r\n                    resValues.minute = $type.toNumber(matches[parsedIndexes.iso + 4]);\r\n                    resValues.second = $type.toNumber(matches[parsedIndexes.iso + 5]);\r\n                    resValues.millisecond = $type.toNumber(matches[parsedIndexes.iso + 6]);\r\n                    if (matches[parsedIndexes.iso + 7] == \"Z\" || matches[parsedIndexes.iso + 7] == \"z\") {\r\n                        resValues.utc = true;\r\n                    }\r\n                    else if (matches[parsedIndexes.iso + 7] != \"\") {\r\n                        resValues.offset = this.resolveTimezoneOffset(new Date(resValues.year, resValues.month, resValues.day), matches[parsedIndexes.iso + 7]);\r\n                    }\r\n                }\r\n                // Create Date object\r\n                if (resValues.utc) {\r\n                    res = new Date(Date.UTC(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute, resValues.second, resValues.millisecond));\r\n                }\r\n                else {\r\n                    res = new Date(resValues.year, resValues.month, resValues.day, resValues.hour, resValues.minute + resValues.offset, resValues.second, resValues.millisecond);\r\n                }\r\n            }\r\n            else {\r\n                // Didn't match anything\r\n                // Let's try dropping it into Date constructor and hope for the best\r\n                res = new Date(source);\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    Object.defineProperty(DateFormatter.prototype, \"resolveTimezoneOffset\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (date, zone) {\r\n            var value = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n            if (value) {\r\n                var match = zone.match(/([+\\-]?)([0-9]{2}):?([0-9]{2})/);\r\n                var dir = match[1];\r\n                var hour = match[2];\r\n                var minute = match[3];\r\n                var offset = parseInt(hour) * 60 + parseInt(minute);\r\n                // Adjust offset\r\n                // Making it negative does not seem to make sense, but it's right\r\n                // because of how JavaScript calculates GMT offsets\r\n                if (dir == \"+\") {\r\n                    offset *= -1;\r\n                }\r\n                // Check the difference in offset\r\n                var originalOffset = (date || new Date()).getTimezoneOffset();\r\n                var diff = offset - originalOffset;\r\n                return diff;\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * Resolves month name (i.e. \"December\") into a month number (11).\r\n     *\r\n     * @param value  Month name\r\n     * @return Month number\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"resolveMonth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            // Let's try English first\r\n            var month = this._months().indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n            // Try the translation\r\n            if (!this._root.language.isDefault()) {\r\n                month = this._root.language.translateAll(this._months()).indexOf(value);\r\n                if (month > -1) {\r\n                    return month;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * Resolves short month name (i.e. \"Dec\") into a month number.\r\n     *\r\n     * @param value  Short month name\r\n     * @return Month number\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"resolveShortMonth\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            // Let's try English first\r\n            var month = this._shortMonths().indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n            // Maybe long month (workaround for May)\r\n            month = this._months().indexOf(value);\r\n            if (month > -1) {\r\n                return month;\r\n            }\r\n            // Try the translation\r\n            if (this._root.language && !this._root.language.isDefault()) {\r\n                month = this._root.language.translateAll(this._shortMonths()).indexOf(value);\r\n                if (month > -1) {\r\n                    return month;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * Checks if passed in string represents AM/PM notation in many of its\r\n     * versions.\r\n     *\r\n     * @param value  Source string\r\n     * @return Is it AM/PM?\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"isAm\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var list = this.getStringList([\"AM\", \"A.M.\", \"A\"]);\r\n            return list.indexOf(value.toUpperCase()) > -1;\r\n        }\r\n    });\r\n    /**\r\n     * Translates list of strings.\r\n     *\r\n     * @param list  Source strings\r\n     * @return Translated strings\r\n     */\r\n    Object.defineProperty(DateFormatter.prototype, \"getStringList\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (list) {\r\n            var res = [];\r\n            for (var i = 0; i < list.length; i++) {\r\n                // translate?\r\n                if (this._root.language) {\r\n                    res.push($utils.escapeForRgex(this._t(list[i])));\r\n                }\r\n                else {\r\n                    res.push($utils.escapeForRgex(list[i]));\r\n                }\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    return DateFormatter;\r\n}(Entity));\r\nexport { DateFormatter };\r\n//# sourceMappingURL=DateFormatter.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\nimport { TextFormatter } from \"./TextFormatter\";\r\nimport * as $object from \"./Object\";\r\nimport * as $utils from \"./Utils\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * A class used to format numberic values as time duration.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-durations/} for more info\r\n */\r\nvar DurationFormatter = /** @class */ (function (_super) {\r\n    __extends(DurationFormatter, _super);\r\n    function DurationFormatter() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Collection of aliases for units.\r\n         */\r\n        Object.defineProperty(_this, \"_unitAliases\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {\r\n                \"Y\": \"y\",\r\n                \"D\": \"d\",\r\n                \"H\": \"h\",\r\n                \"K\": \"h\",\r\n                \"k\": \"h\",\r\n                \"n\": \"S\"\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DurationFormatter.prototype, \"_setDefaults\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var dmillisecond = \"_duration_millisecond\";\r\n            var dsecond = \"_duration_second\";\r\n            var dminute = \"_duration_minute\";\r\n            var dhour = \"_duration_hour\";\r\n            var dday = \"_duration_day\";\r\n            var dweek = \"_duration_week\";\r\n            var dmonth = \"_duration_month\";\r\n            var dyear = \"_duration_year\";\r\n            var asecond = \"_second\";\r\n            var aminute = \"_minute\";\r\n            var ahour = \"_hour\";\r\n            var aday = \"_day\";\r\n            var aweek = \"_week\";\r\n            var amonth = \"_week\";\r\n            var ayear = \"_year\";\r\n            // Defaults\r\n            this._setDefault(\"negativeBase\", 0);\r\n            this._setDefault(\"baseUnit\", \"second\");\r\n            this._setDefault(\"durationFormats\", {\r\n                \"millisecond\": {\r\n                    \"millisecond\": this._t(dmillisecond),\r\n                    \"second\": this._t((dmillisecond + asecond)),\r\n                    \"minute\": this._t((dmillisecond + aminute)),\r\n                    \"hour\": this._t((dmillisecond + ahour)),\r\n                    \"day\": this._t((dmillisecond + aday)),\r\n                    \"week\": this._t((dmillisecond + aweek)),\r\n                    \"month\": this._t((dmillisecond + amonth)),\r\n                    \"year\": this._t((dmillisecond + ayear))\r\n                },\r\n                \"second\": {\r\n                    \"second\": this._t((dsecond)),\r\n                    \"minute\": this._t((dsecond + aminute)),\r\n                    \"hour\": this._t((dsecond + ahour)),\r\n                    \"day\": this._t((dsecond + aday)),\r\n                    \"week\": this._t((dsecond + aweek)),\r\n                    \"month\": this._t((dsecond + amonth)),\r\n                    \"year\": this._t((dsecond + ayear))\r\n                },\r\n                \"minute\": {\r\n                    \"minute\": this._t((dminute)),\r\n                    \"hour\": this._t((dminute + ahour)),\r\n                    \"day\": this._t((dminute + aday)),\r\n                    \"week\": this._t((dminute + aweek)),\r\n                    \"month\": this._t((dminute + amonth)),\r\n                    \"year\": this._t((dminute + ayear))\r\n                },\r\n                \"hour\": {\r\n                    \"hour\": this._t((dhour)),\r\n                    \"day\": this._t((dhour + aday)),\r\n                    \"week\": this._t((dhour + aweek)),\r\n                    \"month\": this._t((dhour + amonth)),\r\n                    \"year\": this._t((dhour + ayear))\r\n                },\r\n                \"day\": {\r\n                    \"day\": this._t((dday)),\r\n                    \"week\": this._t((dday + aweek)),\r\n                    \"month\": this._t((dday + amonth)),\r\n                    \"year\": this._t((dday + ayear))\r\n                },\r\n                \"week\": {\r\n                    \"week\": this._t((dweek)),\r\n                    \"month\": this._t((dweek + amonth)),\r\n                    \"year\": this._t((dweek + ayear))\r\n                },\r\n                \"month\": {\r\n                    \"month\": this._t((dmonth)),\r\n                    \"year\": this._t((dmonth + ayear))\r\n                },\r\n                \"year\": {\r\n                    \"year\": this._t(dyear)\r\n                }\r\n            });\r\n            _super.prototype._setDefaults.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(DurationFormatter.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * Formats the number as duration.\r\n     *\r\n     * For example `1000` (base unit seconds) would be converted to `16:40` as in\r\n     * 16 minutes and 40 seconds.\r\n     *\r\n     * @param value   Value to format\r\n     * @param format  Format to apply\r\n     * @param base    Override base unit\r\n     * @return Formatted number\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"format\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, format, base) {\r\n            // no base unit?\r\n            var baseUnit = base || this.get(\"baseUnit\");\r\n            // no format passed in or empty\r\n            if (typeof format === \"undefined\" || format === \"\") {\r\n                if (this.get(\"durationFormat\") != null) {\r\n                    format = this.get(\"durationFormat\");\r\n                }\r\n                else {\r\n                    format = this.getFormat($type.toNumber(value), undefined, baseUnit);\r\n                }\r\n            }\r\n            // Clean format\r\n            format = $utils.cleanFormat(format);\r\n            // get format info (it will also deal with parser caching)\r\n            var info = this.parseFormat(format, baseUnit);\r\n            // cast to number just in case\r\n            // TODO: maybe use better casting\r\n            var source = Number(value);\r\n            // format and replace the number\r\n            var details;\r\n            if (source > this.get(\"negativeBase\")) {\r\n                details = info.positive;\r\n            }\r\n            else if (source < this.get(\"negativeBase\")) {\r\n                details = info.negative;\r\n            }\r\n            else {\r\n                details = info.zero;\r\n            }\r\n            // Format\r\n            var formatted = this.applyFormat(source, details);\r\n            // Apply color?\r\n            if (details.color !== \"\") {\r\n                formatted = \"[\" + details.color + \"]\" + formatted + \"[/]\";\r\n            }\r\n            return formatted;\r\n        }\r\n    });\r\n    /**\r\n     * Parses supplied format into structured object which can be used to format\r\n     * the number.\r\n     *\r\n     * @param format  Format string, i.e. \"#,###.00\"\r\n     * @param base    Override base unit\r\n     * @return Parsed information\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"parseFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (format, base) {\r\n            // Check cache\r\n            // TODO\r\n            // let cached = this.getCache(format);\r\n            // if (cached != null) {\r\n            // \treturn cached;\r\n            // }\r\n            var _this = this;\r\n            // no base unit?\r\n            var baseUnit = base || this.get(\"baseUnit\");\r\n            // Initialize duration parsing info\r\n            var info = {\r\n                \"positive\": {\r\n                    \"color\": \"\",\r\n                    \"template\": \"\",\r\n                    \"parts\": [],\r\n                    \"source\": \"\",\r\n                    \"baseUnit\": baseUnit,\r\n                    \"parsed\": false,\r\n                    \"absolute\": false\r\n                },\r\n                \"negative\": {\r\n                    \"color\": \"\",\r\n                    \"template\": \"\",\r\n                    \"parts\": [],\r\n                    \"source\": \"\",\r\n                    \"baseUnit\": baseUnit,\r\n                    \"parsed\": false,\r\n                    \"absolute\": false\r\n                },\r\n                \"zero\": {\r\n                    \"color\": \"\",\r\n                    \"template\": \"\",\r\n                    \"parts\": [],\r\n                    \"source\": \"\",\r\n                    \"baseUnit\": baseUnit,\r\n                    \"parsed\": false,\r\n                    \"absolute\": false\r\n                }\r\n            };\r\n            // Escape double vertical bars (that mean display one vertical bar)\r\n            format = format.replace(\"||\", $type.PLACEHOLDER2);\r\n            // Split it up and deal with different formats\r\n            var parts = format.split(\"|\");\r\n            info.positive.source = parts[0];\r\n            if (typeof parts[2] === \"undefined\") {\r\n                info.zero = info.positive;\r\n            }\r\n            else {\r\n                info.zero.source = parts[2];\r\n            }\r\n            if (typeof parts[1] === \"undefined\") {\r\n                info.negative = info.positive;\r\n            }\r\n            else {\r\n                info.negative.source = parts[1];\r\n            }\r\n            // Parse each\r\n            $object.each(info, function (_part, item) {\r\n                // Already parsed\r\n                if (item.parsed) {\r\n                    return;\r\n                }\r\n                // Check cached\r\n                // TODO\r\n                // if (typeof this.getCache(item.source) !== \"undefined\") {\r\n                // \tinfo[part] = this.getCache(item.source);\r\n                // \treturn;\r\n                // }\r\n                // Begin parsing\r\n                var partFormat = item.source;\r\n                // Check for [] directives\r\n                var dirs = [];\r\n                dirs = item.source.match(/^\\[([^\\]]*)\\]/);\r\n                if (dirs && dirs.length && dirs[0] !== \"\") {\r\n                    partFormat = item.source.substr(dirs[0].length);\r\n                    item.color = dirs[1];\r\n                }\r\n                // Let TextFormatter split into chunks\r\n                var chunks = TextFormatter.chunk(partFormat, true);\r\n                for (var i = 0; i < chunks.length; i++) {\r\n                    var chunk = chunks[i];\r\n                    // replace back double vertical bar\r\n                    chunk.text = chunk.text.replace($type.PLACEHOLDER2, \"|\");\r\n                    if (chunk.type === \"value\") {\r\n                        // Just \"Duration\"?\r\n                        // if (chunk.text.toLowerCase() === \"duration\") {\r\n                        // \tchunk.text = durationFormat;\r\n                        // }\r\n                        // Check for \"a\" (absolute) modifier\r\n                        if (chunk.text.match(/[yYMdDwhHKkmsSn]+a/)) {\r\n                            item.absolute = true;\r\n                            chunk.text = chunk.text.replace(/([yYMdDwhHKkmsSn]+)a/, \"$1\");\r\n                        }\r\n                        // Find all possible parts\r\n                        var matches = chunk.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);\r\n                        if (matches) {\r\n                            // Populate template\r\n                            for (var x = 0; x < matches.length; x++) {\r\n                                // Is it an alias?\r\n                                if (matches[x] == null) {\r\n                                    matches[x] = _this._unitAliases[matches[x]];\r\n                                }\r\n                                item.parts.push(matches[x]);\r\n                                chunk.text = chunk.text.replace(matches[x], $type.PLACEHOLDER);\r\n                            }\r\n                        }\r\n                    }\r\n                    // Apply to template\r\n                    item.template += chunk.text;\r\n                }\r\n                // Apply style formatting\r\n                //item.template = TextFormatter.format(item.template, this.outputFormat);\r\n                // Save cache\r\n                // TODO\r\n                //this.setCache(item.source, item);\r\n                // Mark this as parsed\r\n                item.parsed = true;\r\n            });\r\n            // Save cache (the whole thing)\r\n            // TODO\r\n            //this.setCache(format, info);\r\n            return info;\r\n        }\r\n    });\r\n    /**\r\n     * Applies parsed format to a numeric value.\r\n     *\r\n     * @param value    Value\r\n     * @param details  Parsed format as returned by {parseFormat}\r\n     * @return Formatted duration\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"applyFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, details) {\r\n            // Use absolute values\r\n            var negative = !details.absolute && (value < this.get(\"negativeBase\"));\r\n            value = Math.abs(value);\r\n            // Recalculate to milliseconds\r\n            var tstamp = this.toTimeStamp(value, details.baseUnit);\r\n            // Init return value\r\n            var res = details.template;\r\n            // Iterate through duration parts\r\n            for (var i = 0, len = details.parts.length; i < len; i++) {\r\n                // Gather the part\r\n                var part = details.parts[i];\r\n                var unit = this._toTimeUnit(part.substr(0, 1));\r\n                var digits = part.length;\r\n                // Calculate current unit value\r\n                var ints = Math.floor(tstamp / this._getUnitValue(unit));\r\n                res = res.replace($type.PLACEHOLDER, $utils.padString(ints, digits, \"0\"));\r\n                // Reduce timestamp\r\n                tstamp -= ints * this._getUnitValue(unit);\r\n            }\r\n            // Reapply negative sign\r\n            if (negative) {\r\n                res = \"-\" + res;\r\n            }\r\n            return res;\r\n        }\r\n    });\r\n    /**\r\n     * Converts numeric value to timestamp in milliseconds.\r\n     *\r\n     * @param value     A source value\r\n     * @param baseUnit  Base unit the source value is in: \"q\", \"s\", \"i\", \"h\", \"d\", \"w\", \"m\", \"y\"\r\n     * @return Value representation as a timestamp in milliseconds\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"toTimeStamp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, baseUnit) {\r\n            return value * this._getUnitValue(baseUnit);\r\n        }\r\n    });\r\n    Object.defineProperty(DurationFormatter.prototype, \"_toTimeUnit\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (code) {\r\n            switch (code) {\r\n                case \"S\":\r\n                    return \"millisecond\";\r\n                case \"s\":\r\n                    return \"second\";\r\n                case \"m\":\r\n                    return \"minute\";\r\n                case \"h\":\r\n                    return \"hour\";\r\n                case \"d\":\r\n                    return \"day\";\r\n                case \"w\":\r\n                    return \"week\";\r\n                case \"M\":\r\n                    return \"month\";\r\n                case \"y\":\r\n                    return \"year\";\r\n            }\r\n            ;\r\n        }\r\n    });\r\n    /**\r\n     * Returns appropriate default format for the value.\r\n     *\r\n     * If `maxValue` is sepcified, it will use that value to determine the time\r\n     * unit for the format.\r\n     *\r\n     * For example if your `baseUnit` is `\"second\"` and you pass in `10`, you\r\n     * will get `\"10\"`.\r\n     *\r\n     * However, you might want it to be formatted in the context of bigger scale,\r\n     * say 10 minutes (600 seconds). If you pass in `600` as `maxValue`, all\r\n     * values, including small ones will use format with minutes, e.g.:\r\n     * `00:10`, `00:50`, `12: 30`, etc.\r\n     *\r\n     * @param value     Value to format\r\n     * @param maxValue  Maximum value to be used to determine format\r\n     * @param baseUnit  Base unit of the value\r\n     * @return Format\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"getFormat\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, maxValue, baseUnit) {\r\n            // Is format override set?\r\n            if (this.get(\"durationFormat\") != null) {\r\n                return this.get(\"durationFormat\");\r\n            }\r\n            // Get base unit\r\n            if (!baseUnit) {\r\n                baseUnit = this.get(\"baseUnit\");\r\n            }\r\n            if (maxValue != null && value != maxValue) {\r\n                value = Math.abs(value);\r\n                maxValue = Math.abs(maxValue);\r\n                var maxUnit = this.getValueUnit(Math.max(value, maxValue), baseUnit);\r\n                //let diffUnit = this.getValueUnit(Math.abs(maxValue - value), baseUnit);\r\n                //console.log(maxUnit, diffUnit);\r\n                return this.get(\"durationFormats\")[baseUnit][maxUnit];\r\n            }\r\n            else {\r\n                var unit = this.getValueUnit(value, baseUnit);\r\n                return this.get(\"durationFormats\")[baseUnit][unit];\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns value's closest denominator time unit, e.g 100 seconds is\r\n     * `\"minute\"`, while 59 seconds would still be `second`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Denominator\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"getValueUnit\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, baseUnit) {\r\n            // Get base unit\r\n            if (!baseUnit) {\r\n                baseUnit = this.get(\"baseUnit\");\r\n            }\r\n            // Convert to milliseconds\r\n            var currentUnit;\r\n            var ms = this.getMilliseconds(value, baseUnit);\r\n            $object.eachContinue(this._getUnitValues(), function (key, val) {\r\n                if (key == baseUnit || currentUnit) {\r\n                    var num = ms / val;\r\n                    if (num <= 1) {\r\n                        if (!currentUnit) {\r\n                            currentUnit = key;\r\n                        }\r\n                        return false;\r\n                    }\r\n                    currentUnit = key;\r\n                }\r\n                return true;\r\n            });\r\n            return currentUnit;\r\n        }\r\n    });\r\n    /**\r\n     * Converts value to milliseconds according to `baseUnit`.\r\n     *\r\n     * @param value     Source duration value\r\n     * @param baseUnit  Base unit\r\n     * @return Value in milliseconds\r\n     */\r\n    Object.defineProperty(DurationFormatter.prototype, \"getMilliseconds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, baseUnit) {\r\n            // Get base unit\r\n            if (!baseUnit) {\r\n                baseUnit = this.get(\"baseUnit\");\r\n            }\r\n            return value * this._getUnitValue(baseUnit);\r\n        }\r\n    });\r\n    Object.defineProperty(DurationFormatter.prototype, \"_getUnitValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (timeUnit) {\r\n            return this._getUnitValues()[timeUnit];\r\n        }\r\n    });\r\n    Object.defineProperty(DurationFormatter.prototype, \"_getUnitValues\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return {\r\n                \"millisecond\": 1,\r\n                \"second\": 1000,\r\n                \"minute\": 60000,\r\n                \"hour\": 3600000,\r\n                \"day\": 86400000,\r\n                \"week\": 604800000,\r\n                \"month\": 2592000000,\r\n                \"year\": 31536000000,\r\n            };\r\n        }\r\n    });\r\n    return DurationFormatter;\r\n}(Entity));\r\nexport { DurationFormatter };\r\n//# sourceMappingURL=DurationFormatter.js.map","/**\r\n * amCharts 5 locale\r\n *\r\n * Locale: en\r\n * Language: International English\r\n * Author: Martynas Majeris\r\n *\r\n * Follow instructions in [on this page](https://www.amcharts.com/docs/v5/tutorials/creating-translations/) to make corrections or add new translations.\r\n *\r\n * ---\r\n * Edit but leave the header section above this line. You can remove any\r\n * subsequent comment sections.\r\n * ---\r\n *\r\n * Use this file as a template to create translations. Leave the key part in\r\n * English intact. Fill the value with a translation.\r\n *\r\n * Empty string means no translation, so default \"International English\"\r\n * will be used.\r\n *\r\n * If you need the translation to literally be an empty string, use `null`\r\n * instead.\r\n *\r\n * IMPORTANT:\r\n * When translating make good effort to keep the translation length\r\n * at least the same chartcount as the English, especially for short prompts.\r\n *\r\n * Having significantly longer prompts may distort the actual charts.\r\n *\r\n * NOTE:\r\n * Some prompts - like months or weekdays - come in two versions: full and\r\n * shortened.\r\n *\r\n * If there's no official shortened version of these in your language, and it\r\n * would not be possible to invent such short versions that don't seem weird\r\n * to native speakers of that language, fill those with the same as full\r\n * version.\r\n *\r\n * PLACEHOLDERS:\r\n * Some prompts have placeholders like \"%1\". Those will be replaced by actual\r\n * values during translation and should be retained in the translated prompts.\r\n *\r\n * Placeholder positions may be changed to better suit structure of the\r\n * sentence.\r\n *\r\n * For example \"From %1 to %2\", when actually used will replace \"%1\" with an\r\n * actual value representing range start, and \"%2\" will be replaced by end\r\n * value.\r\n *\r\n * E.g. in a Scrollbar for Value axis \"From %1 to %2\" will become\r\n * \"From 100 to 200\". You may translate \"From\" and \"to\", as well as re-arrange\r\n * the order of the prompt itself, but make sure the \"%1\" and \"%2\" remain, in\r\n * places where they will make sense.\r\n *\r\n * Save the file as language_LOCALE, i.e. `en_GB.ts`, `fr_FR.ts`, etc.\r\n */\r\nexport default {\r\n    \"firstDayOfWeek\": 1,\r\n    // Number formatting options.\r\n    // \r\n    // Please check with the local standards which separator is accepted to be\r\n    // used for separating decimals, and which for thousands.\r\n    \"_decimalSeparator\": \".\",\r\n    \"_thousandSeparator\": \",\",\r\n    // Suffixes for numbers\r\n    // When formatting numbers, big or small numers might be reformatted to\r\n    // shorter version, by applying a suffix.\r\n    // \r\n    // For example, 1000000 might become \"1m\".\r\n    // Or 1024 might become \"1KB\" if we're formatting byte numbers.\r\n    // \r\n    // This section defines such suffixes for all such cases.\r\n    \"_big_number_suffix_3\": \"k\",\r\n    \"_big_number_suffix_6\": \"M\",\r\n    \"_big_number_suffix_9\": \"G\",\r\n    \"_big_number_suffix_12\": \"T\",\r\n    \"_big_number_suffix_15\": \"P\",\r\n    \"_big_number_suffix_18\": \"E\",\r\n    \"_big_number_suffix_21\": \"Z\",\r\n    \"_big_number_suffix_24\": \"Y\",\r\n    \"_small_number_suffix_3\": \"m\",\r\n    \"_small_number_suffix_6\": \"\",\r\n    \"_small_number_suffix_9\": \"n\",\r\n    \"_small_number_suffix_12\": \"p\",\r\n    \"_small_number_suffix_15\": \"f\",\r\n    \"_small_number_suffix_18\": \"a\",\r\n    \"_small_number_suffix_21\": \"z\",\r\n    \"_small_number_suffix_24\": \"y\",\r\n    \"_byte_suffix_B\": \"B\",\r\n    \"_byte_suffix_KB\": \"KB\",\r\n    \"_byte_suffix_MB\": \"MB\",\r\n    \"_byte_suffix_GB\": \"GB\",\r\n    \"_byte_suffix_TB\": \"TB\",\r\n    \"_byte_suffix_PB\": \"PB\",\r\n    // Default date formats for various periods.\r\n    // \r\n    // This should reflect official or de facto formatting universally accepted\r\n    // in the country translation is being made for\r\n    // Available format codes here:\r\n    // https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#Format_codes\r\n    // \r\n    // This will be used when formatting date/time for particular granularity,\r\n    // e.g. \"_date_hour\" will be shown whenever we need to show time as hours.\r\n    // \r\n    // \"date\" is used as in default date format when showing standalone dates.\r\n    \"_date\": \"yyyy-MM-dd\",\r\n    \"_date_millisecond\": \"mm:ss SSS\",\r\n    \"_date_millisecond_full\": \"HH:mm:ss SSS\",\r\n    \"_date_second\": \"HH:mm:ss\",\r\n    \"_date_second_full\": \"HH:mm:ss\",\r\n    \"_date_minute\": \"HH:mm\",\r\n    \"_date_minute_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_hour\": \"HH:mm\",\r\n    \"_date_hour_full\": \"HH:mm - MMM dd, yyyy\",\r\n    \"_date_day\": \"MMM dd\",\r\n    \"_date_day_full\": \"MMM dd, yyyy\",\r\n    \"_date_week\": \"ww\",\r\n    \"_date_week_full\": \"MMM dd, yyyy\",\r\n    \"_date_month\": \"MMM\",\r\n    \"_date_month_full\": \"MMM, yyyy\",\r\n    \"_date_year\": \"yyyy\",\r\n    // Default duration formats for various base units.\r\n    // \r\n    // This will be used by DurationFormatter to format numeric values into\r\n    // duration.\r\n    // \r\n    // Notice how each duration unit comes in several versions. This is to ensure\r\n    // that each base unit is shown correctly.\r\n    // \r\n    // For example, if we have baseUnit set to \"second\", meaning our duration is\r\n    // in seconds.\r\n    // \r\n    // If we pass in `50` to formatter, it will know that we have just 50 seconds\r\n    // (less than a minute) so it will use format in `\"_duration_second\"` (\"ss\"),\r\n    // and the formatted result will be in like `\"50\"`.\r\n    // \r\n    // If we pass in `70`, which is more than a minute, the formatter will switch\r\n    // to `\"_duration_second_minute\"` (\"mm:ss\"), resulting in \"01:10\" formatted\r\n    // text.\r\n    // \r\n    // Available codes here:\r\n    // https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/#Available_Codes\r\n    \"_duration_millisecond\": \"SSS\",\r\n    \"_duration_millisecond_second\": \"ss.SSS\",\r\n    \"_duration_millisecond_minute\": \"mm:ss SSS\",\r\n    \"_duration_millisecond_hour\": \"hh:mm:ss SSS\",\r\n    \"_duration_millisecond_day\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_week\": \"d'd' mm:ss SSS\",\r\n    \"_duration_millisecond_month\": \"M'm' dd'd' mm:ss SSS\",\r\n    \"_duration_millisecond_year\": \"y'y' MM'm' dd'd' mm:ss SSS\",\r\n    \"_duration_second\": \"ss\",\r\n    \"_duration_second_minute\": \"mm:ss\",\r\n    \"_duration_second_hour\": \"hh:mm:ss\",\r\n    \"_duration_second_day\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_week\": \"d'd' hh:mm:ss\",\r\n    \"_duration_second_month\": \"M'm' dd'd' hh:mm:ss\",\r\n    \"_duration_second_year\": \"y'y' MM'm' dd'd' hh:mm:ss\",\r\n    \"_duration_minute\": \"mm\",\r\n    \"_duration_minute_hour\": \"hh:mm\",\r\n    \"_duration_minute_day\": \"d'd' hh:mm\",\r\n    \"_duration_minute_week\": \"d'd' hh:mm\",\r\n    \"_duration_minute_month\": \"M'm' dd'd' hh:mm\",\r\n    \"_duration_minute_year\": \"y'y' MM'm' dd'd' hh:mm\",\r\n    \"_duration_hour\": \"hh'h'\",\r\n    \"_duration_hour_day\": \"d'd' hh'h'\",\r\n    \"_duration_hour_week\": \"d'd' hh'h'\",\r\n    \"_duration_hour_month\": \"M'm' dd'd' hh'h'\",\r\n    \"_duration_hour_year\": \"y'y' MM'm' dd'd' hh'h'\",\r\n    \"_duration_day\": \"d'd'\",\r\n    \"_duration_day_week\": \"d'd'\",\r\n    \"_duration_day_month\": \"M'm' dd'd'\",\r\n    \"_duration_day_year\": \"y'y' MM'm' dd'd'\",\r\n    \"_duration_week\": \"w'w'\",\r\n    \"_duration_week_month\": \"w'w'\",\r\n    \"_duration_week_year\": \"w'w'\",\r\n    \"_duration_month\": \"M'm'\",\r\n    \"_duration_month_year\": \"y'y' MM'm'\",\r\n    \"_duration_year\": \"y'y'\",\r\n    // Era translations\r\n    \"_era_ad\": \"AD\",\r\n    \"_era_bc\": \"BC\",\r\n    // Day part, used in 12-hour formats, e.g. 5 P.M.\r\n    // Please note that these come in 3 variants:\r\n    // * one letter (e.g. \"A\")\r\n    // * two letters (e.g. \"AM\")\r\n    // * two letters with dots (e.g. \"A.M.\")\r\n    // \r\n    // All three need to to be translated even if they are all the same. Some\r\n    // users might use one, some the other.\r\n    \"A\": \"\",\r\n    \"P\": \"\",\r\n    \"AM\": \"\",\r\n    \"PM\": \"\",\r\n    \"A.M.\": \"\",\r\n    \"P.M.\": \"\",\r\n    // Date-related stuff.\r\n    // \r\n    // When translating months, if there's a difference, use the form which is\r\n    // best for a full date, e.g. as you would use it in \"2018 January 1\".\r\n    // \r\n    // Note that May is listed twice. This is because in English May is the same\r\n    // in both long and short forms, while in other languages it may not be the\r\n    // case. Translate \"May\" to full word, while \"May(short)\" to shortened\r\n    // version.\r\n    // \r\n    // Should month names and weekdays be capitalized or not?\r\n    // \r\n    // Rule of thumb is this: if the names should always be capitalized,\r\n    // regardless of name position within date (\"January\", \"21st January 2018\",\r\n    // etc.) use capitalized names. Otherwise enter all lowercase.\r\n    // \r\n    // The date formatter will automatically capitalize names if they are the\r\n    // first (or only) word in resulting date.\r\n    \"January\": \"\",\r\n    \"February\": \"\",\r\n    \"March\": \"\",\r\n    \"April\": \"\",\r\n    \"May\": \"\",\r\n    \"June\": \"\",\r\n    \"July\": \"\",\r\n    \"August\": \"\",\r\n    \"September\": \"\",\r\n    \"October\": \"\",\r\n    \"November\": \"\",\r\n    \"December\": \"\",\r\n    \"Jan\": \"\",\r\n    \"Feb\": \"\",\r\n    \"Mar\": \"\",\r\n    \"Apr\": \"\",\r\n    \"May(short)\": \"May\",\r\n    \"Jun\": \"\",\r\n    \"Jul\": \"\",\r\n    \"Aug\": \"\",\r\n    \"Sep\": \"\",\r\n    \"Oct\": \"\",\r\n    \"Nov\": \"\",\r\n    \"Dec\": \"\",\r\n    // Weekdays.\r\n    \"Sunday\": \"\",\r\n    \"Monday\": \"\",\r\n    \"Tuesday\": \"\",\r\n    \"Wednesday\": \"\",\r\n    \"Thursday\": \"\",\r\n    \"Friday\": \"\",\r\n    \"Saturday\": \"\",\r\n    \"Sun\": \"\",\r\n    \"Mon\": \"\",\r\n    \"Tue\": \"\",\r\n    \"Wed\": \"\",\r\n    \"Thu\": \"\",\r\n    \"Fri\": \"\",\r\n    \"Sat\": \"\",\r\n    // Date ordinal function.\r\n    // \r\n    // This is used when adding number ordinal when formatting days in dates.\r\n    // \r\n    // E.g. \"January 1st\", \"February 2nd\".\r\n    // \r\n    // The function accepts day number, and returns a string to be added to the\r\n    // day, like in default English translation, if we pass in 2, we will receive\r\n    // \"nd\" back.\r\n    \"_dateOrd\": function (day) {\r\n        var res = \"th\";\r\n        if ((day < 11) || (day > 13)) {\r\n            switch (day % 10) {\r\n                case 1:\r\n                    res = \"st\";\r\n                    break;\r\n                case 2:\r\n                    res = \"nd\";\r\n                    break;\r\n                case 3:\r\n                    res = \"rd\";\r\n                    break;\r\n            }\r\n        }\r\n        return res;\r\n    },\r\n    // Various chart controls.\r\n    // Shown as a tooltip on zoom out button.\r\n    \"Zoom Out\": \"\",\r\n    // Timeline buttons\r\n    \"Play\": \"\",\r\n    \"Stop\": \"\",\r\n    // Chart's Legend screen reader title.\r\n    \"Legend\": \"\",\r\n    // Legend's item screen reader indicator.\r\n    \"Press ENTER to toggle\": \"\",\r\n    // Shown when the chart is busy loading something.\r\n    \"Loading\": \"\",\r\n    // Shown as the first button in the breadcrumb navigation, e.g.:\r\n    // Home > First level > ...\r\n    \"Home\": \"\",\r\n    // Chart types.\r\n    // Those are used as default screen reader titles for the main chart element\r\n    // unless developer has set some more descriptive title.\r\n    \"Chart\": \"\",\r\n    \"Serial chart\": \"\",\r\n    \"X/Y chart\": \"\",\r\n    \"Pie chart\": \"\",\r\n    \"Gauge chart\": \"\",\r\n    \"Radar chart\": \"\",\r\n    \"Sankey diagram\": \"\",\r\n    \"Flow diagram\": \"\",\r\n    \"Chord diagram\": \"\",\r\n    \"TreeMap chart\": \"\",\r\n    \"Force directed tree\": \"\",\r\n    \"Sliced chart\": \"\",\r\n    // Series types.\r\n    // Used to name series by type for screen readers if they do not have their\r\n    // name set.\r\n    \"Series\": \"\",\r\n    \"Candlestick Series\": \"\",\r\n    \"OHLC Series\": \"\",\r\n    \"Column Series\": \"\",\r\n    \"Line Series\": \"\",\r\n    \"Pie Slice Series\": \"\",\r\n    \"Funnel Series\": \"\",\r\n    \"Pyramid Series\": \"\",\r\n    \"X/Y Series\": \"\",\r\n    // Map-related stuff.\r\n    \"Map\": \"\",\r\n    \"Press ENTER to zoom in\": \"\",\r\n    \"Press ENTER to zoom out\": \"\",\r\n    \"Use arrow keys to zoom in and out\": \"\",\r\n    \"Use plus and minus keys on your keyboard to zoom in and out\": \"\",\r\n    // Export-related stuff.\r\n    // These prompts are used in Export menu labels.\r\n    // \r\n    // \"Export\" is the top-level menu item.\r\n    // \r\n    // \"Image\", \"Data\", \"Print\" as second-level indicating type of export\r\n    // operation.\r\n    // \r\n    // Leave actual format untranslated, unless you absolutely know that they\r\n    // would convey more meaning in some other way.\r\n    \"Export\": \"\",\r\n    \"Image\": \"\",\r\n    \"Data\": \"\",\r\n    \"Print\": \"\",\r\n    \"Press ENTER or use arrow keys to navigate\": \"\",\r\n    \"Press ENTER to open\": \"\",\r\n    \"Press ENTER to print.\": \"\",\r\n    \"Press ENTER to export as %1.\": \"\",\r\n    \"(Press ESC to close this message)\": \"\",\r\n    \"Image Export Complete\": \"\",\r\n    \"Export operation took longer than expected. Something might have gone wrong.\": \"\",\r\n    \"Saved from\": \"\",\r\n    \"PNG\": \"\",\r\n    \"JPG\": \"\",\r\n    \"GIF\": \"\",\r\n    \"SVG\": \"\",\r\n    \"PDF\": \"\",\r\n    \"JSON\": \"\",\r\n    \"CSV\": \"\",\r\n    \"XLSX\": \"\",\r\n    \"HTML\": \"\",\r\n    // Scrollbar-related stuff.\r\n    // \r\n    // Scrollbar is a control which can zoom and pan the axes on the chart.\r\n    // \r\n    // Each scrollbar has two grips: left or right (for horizontal scrollbar) or\r\n    // upper and lower (for vertical one).\r\n    // \r\n    // Prompts change in relation to whether Scrollbar is vertical or horizontal.\r\n    // \r\n    // The final section is used to indicate the current range of selection.\r\n    \"Use TAB to select grip buttons or left and right arrows to change selection\": \"\",\r\n    \"Use left and right arrows to move selection\": \"\",\r\n    \"Use left and right arrows to move left selection\": \"\",\r\n    \"Use left and right arrows to move right selection\": \"\",\r\n    \"Use TAB select grip buttons or up and down arrows to change selection\": \"\",\r\n    \"Use up and down arrows to move selection\": \"\",\r\n    \"Use up and down arrows to move lower selection\": \"\",\r\n    \"Use up and down arrows to move upper selection\": \"\",\r\n    \"From %1 to %2\": \"\",\r\n    \"From %1\": \"\",\r\n    \"To %1\": \"\",\r\n    // Data loader-related.\r\n    \"No parser available for file: %1\": \"\",\r\n    \"Error parsing file: %1\": \"\",\r\n    \"Unable to load file: %1\": \"\",\r\n    \"Invalid date\": \"\",\r\n    // Common actions\r\n    \"Close\": \"\",\r\n    \"Minimize\": \"\"\r\n};\r\n//# sourceMappingURL=en.js.map","import { __extends, __read, __spreadArray } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\nimport * as $array from \"./Array\";\r\nimport en from \"../../../locales/en\";\r\n;\r\nvar Language = /** @class */ (function (_super) {\r\n    __extends(Language, _super);\r\n    function Language() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Language.prototype, \"_setDefaults\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivate(\"defaultLocale\", en);\r\n            _super.prototype._setDefaults.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"translate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (prompt, locale) {\r\n            var rest = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                rest[_i - 2] = arguments[_i];\r\n            }\r\n            // Get langauge\r\n            if (!locale) {\r\n                locale = this._root.locale || this.getPrivate(\"defaultLocale\");\r\n            }\r\n            // Init translation\r\n            var translation = prompt;\r\n            var value = locale[prompt];\r\n            // Try to look for the translation\r\n            if (value === null) {\r\n                translation = \"\";\r\n            }\r\n            else if (value != null) {\r\n                // It might be an empty string\r\n                if (value) {\r\n                    translation = value;\r\n                }\r\n            }\r\n            else if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n                // Try to look in default language\r\n                return this.translate.apply(this, __spreadArray([prompt, this.getPrivate(\"defaultLocale\")], __read(rest), false));\r\n            }\r\n            // Replace %1, %2, etc params\r\n            if (rest.length) {\r\n                for (var len = rest.length, i = 0; i < len; ++i) {\r\n                    translation = translation.split(\"%\" + (i + 1)).join(rest[i]);\r\n                }\r\n            }\r\n            // Return the translation\r\n            return translation;\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"translateAny\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (prompt, locale) {\r\n            var rest = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                rest[_i - 2] = arguments[_i];\r\n            }\r\n            return this.translate.apply(this, __spreadArray([prompt, locale], __read(rest), false));\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"setTranslationAny\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (prompt, translation, locale) {\r\n            var localeTarget = locale || this._root.locale;\r\n            localeTarget[prompt] = translation;\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"translateEmpty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (prompt, locale) {\r\n            var rest = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                rest[_i - 2] = arguments[_i];\r\n            }\r\n            var translation = this.translate.apply(this, __spreadArray([prompt, locale], __read(rest), false));\r\n            return translation == prompt ? \"\" : translation;\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"translateFunc\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (prompt, locale) {\r\n            if (this._root.locale[prompt]) {\r\n                return this._root.locale[prompt];\r\n            }\r\n            // Try to look in default language\r\n            if (locale !== this.getPrivate(\"defaultLocale\")) {\r\n                return this.translateFunc(prompt, this.getPrivate(\"defaultLocale\"));\r\n            }\r\n            // Fail - return empty function\r\n            return function () {\r\n                return \"\";\r\n            };\r\n        }\r\n    });\r\n    Object.defineProperty(Language.prototype, \"translateAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (list, locale) {\r\n            var _this = this;\r\n            // Translate all items in the list\r\n            if (!this.isDefault()) {\r\n                return $array.map(list, function (x) { return _this.translate(x, locale); });\r\n            }\r\n            else {\r\n                return list;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if the currently selected locale is a default locale.\r\n     *\r\n     * @return `true` if locale is default; `false` if it is not.\r\n     */\r\n    Object.defineProperty(Language.prototype, \"isDefault\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.getPrivate(\"defaultLocale\") === this._root.locale;\r\n        }\r\n    });\r\n    return Language;\r\n}(Entity));\r\nexport { Language };\r\n//# sourceMappingURL=Language.js.map","import { Template } from \"./util/Template\";\r\nimport * as $order from \"./util/Order\";\r\nimport * as $array from \"./util/Array\";\r\n/**\r\n * A base class for an amCharts theme.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n * @important\r\n */\r\nvar Theme = /** @class */ (function () {\r\n    function Theme(root, isReal) {\r\n        Object.defineProperty(this, \"_root\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rules\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        this._root = root;\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n    }\r\n    /**\r\n     * Use this method to create an instance of this class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/getting-started/#New_element_syntax} for more info\r\n     * @param   root      Root element\r\n     * @param   settings  Settings\r\n     * @param   template  Template\r\n     * @return            Instantiated object\r\n     */\r\n    Object.defineProperty(Theme, \"new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (root) {\r\n            var x = (new this(root, true));\r\n            x.setupDefaultRules();\r\n            return x;\r\n        }\r\n    });\r\n    Object.defineProperty(Theme.prototype, \"setupDefaultRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    /**\r\n     * Looks up the rules for a specific theme class.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @return             Array<IRule<A>>\r\n     */\r\n    Object.defineProperty(Theme.prototype, \"_lookupRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (themeClass) {\r\n            return this._rules[themeClass];\r\n        }\r\n    });\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * NOTE: the difference from `rule()` is that `ruleRaw()` does not do any\r\n     * type checks.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    Object.defineProperty(Theme.prototype, \"ruleRaw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (themeClass, themeTags) {\r\n            if (themeTags === void 0) { themeTags = []; }\r\n            var rules = this._rules[themeClass];\r\n            if (!rules) {\r\n                rules = this._rules[themeClass] = [];\r\n            }\r\n            themeTags.sort($order.compare);\r\n            var _a = $array.getSortedIndex(rules, function (x) {\r\n                var order = $order.compare(x.tags.length, themeTags.length);\r\n                if (order === 0) {\r\n                    return $order.compareArray(x.tags, themeTags, $order.compare);\r\n                }\r\n                else {\r\n                    return order;\r\n                }\r\n            }), index = _a.index, found = _a.found;\r\n            if (found) {\r\n                return rules[index].template;\r\n            }\r\n            else {\r\n                var template = Template.new({});\r\n                rules.splice(index, 0, {\r\n                    tags: themeTags,\r\n                    template: template,\r\n                });\r\n                return template;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Creates a [[Template]] for specific theme class and tags.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/themes/} for more info\r\n     * @param   themeClass Theme class\r\n     * @param   themeTags  Theme tags\r\n     * @return             Template\r\n     */\r\n    Object.defineProperty(Theme.prototype, \"rule\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (themeClass, themeTags) {\r\n            if (themeTags === void 0) { themeTags = []; }\r\n            return this.ruleRaw(themeClass, themeTags);\r\n        }\r\n    });\r\n    return Theme;\r\n}());\r\nexport { Theme };\r\n//# sourceMappingURL=Theme.js.map","import { __extends } from \"tslib\";\r\nimport { Theme } from \"../core/Theme\";\r\nimport { p100, p50 } from \"../core/util/Percent\";\r\nimport { Color } from \"../core/util/Color\";\r\nimport { GridLayout } from \"../core/render/GridLayout\";\r\nimport * as $ease from \"../core/util/Ease\";\r\n/**\r\n * @ignore\r\n */\r\nexport function setColor(rule, key, ic, name) {\r\n    // TODO this shouldn't use get, figure out a better way\r\n    rule.set(key, ic.get(name));\r\n    ic.on(name, function (value) {\r\n        rule.set(key, value);\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nvar DefaultTheme = /** @class */ (function (_super) {\r\n    __extends(DefaultTheme, _super);\r\n    function DefaultTheme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(DefaultTheme.prototype, \"setupDefaultRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.setupDefaultRules.call(this);\r\n            var language = this._root.language;\r\n            var ic = this._root.interfaceColors;\r\n            var horizontalLayout = this._root.horizontalLayout;\r\n            var verticalLayout = this._root.verticalLayout;\r\n            var r = this.rule.bind(this);\r\n            /**\r\n             * ========================================================================\r\n             * core\r\n             * ========================================================================\r\n             */\r\n            r(\"InterfaceColors\").setAll({\r\n                stroke: Color.fromHex(0xe5e5e5),\r\n                fill: Color.fromHex(0xf3f3f3),\r\n                primaryButton: Color.fromHex(0x6794dc),\r\n                primaryButtonHover: Color.fromHex(0x6771dc),\r\n                primaryButtonDown: Color.fromHex(0x68dc76),\r\n                primaryButtonActive: Color.fromHex(0x68dc76),\r\n                primaryButtonText: Color.fromHex(0xffffff),\r\n                primaryButtonStroke: Color.fromHex(0xffffff),\r\n                secondaryButton: Color.fromHex(0xd9d9d9),\r\n                secondaryButtonHover: Color.fromHex(0xa3a3a3),\r\n                secondaryButtonDown: Color.fromHex(0x8d8d8d),\r\n                secondaryButtonActive: Color.fromHex(0xe6e6e6),\r\n                secondaryButtonText: Color.fromHex(0x000000),\r\n                secondaryButtonStroke: Color.fromHex(0xffffff),\r\n                grid: Color.fromHex(0x000000),\r\n                background: Color.fromHex(0xffffff),\r\n                alternativeBackground: Color.fromHex(0x000000),\r\n                text: Color.fromHex(0x000000),\r\n                alternativeText: Color.fromHex(0xffffff),\r\n                disabled: Color.fromHex(0xadadad),\r\n                positive: Color.fromHex(0x50b300),\r\n                negative: Color.fromHex(0xb30000)\r\n            });\r\n            {\r\n                var rule = r(\"ColorSet\");\r\n                rule.setAll({\r\n                    passOptions: {\r\n                        hue: 0.05,\r\n                        saturation: 0,\r\n                        lightness: 0\r\n                    },\r\n                    colors: [\r\n                        Color.fromHex(0x67b7dc)\r\n                    ],\r\n                    step: 1,\r\n                    //baseColor: Color.fromRGB(103, 183, 220),\r\n                    //count: 20,\r\n                    reuse: false,\r\n                    startIndex: 0\r\n                });\r\n                rule.setPrivate(\"currentStep\", 0);\r\n                rule.setPrivate(\"currentPass\", 0);\r\n            }\r\n            r(\"Entity\").setAll({\r\n                stateAnimationDuration: 0,\r\n                stateAnimationEasing: $ease.out($ease.cubic)\r\n            });\r\n            r(\"Component\").setAll({\r\n                interpolationDuration: 0,\r\n                interpolationEasing: $ease.out($ease.cubic)\r\n            });\r\n            r(\"Sprite\").setAll({\r\n                visible: true,\r\n                scale: 1,\r\n                opacity: 1,\r\n                rotation: 0,\r\n                position: \"relative\",\r\n                tooltipX: p50,\r\n                tooltipY: p50,\r\n                tooltipPosition: \"fixed\",\r\n                isMeasured: true\r\n            });\r\n            r(\"Sprite\").states.create(\"default\", { \"visible\": true, opacity: 1 });\r\n            r(\"Container\").setAll({\r\n                interactiveChildren: true,\r\n                setStateOnChildren: false\r\n            });\r\n            r(\"Graphics\").setAll({\r\n                strokeWidth: 1\r\n            });\r\n            r(\"Chart\").setAll({\r\n                width: p100,\r\n                height: p100,\r\n                interactiveChildren: false\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: alignment\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Sprite\", [\"horizontal\", \"center\"]).setAll({\r\n                centerX: p50,\r\n                x: p50\r\n            });\r\n            r(\"Sprite\", [\"vertical\", \"center\"]).setAll({\r\n                centerY: p50,\r\n                y: p50\r\n            });\r\n            r(\"Container\", [\"horizontal\", \"layout\"]).setAll({\r\n                layout: horizontalLayout\r\n            });\r\n            r(\"Container\", [\"vertical\", \"layout\"]).setAll({\r\n                layout: verticalLayout\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: patterns\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Pattern\").setAll({\r\n                repetition: \"repeat\",\r\n                width: 50,\r\n                height: 50,\r\n                rotation: 0,\r\n                fillOpacity: 1\r\n            });\r\n            r(\"LinePattern\").setAll({\r\n                gap: 6,\r\n                colorOpacity: 1,\r\n                width: 49,\r\n                height: 49\r\n            });\r\n            r(\"RectanglePattern\").setAll({\r\n                gap: 6,\r\n                checkered: false,\r\n                centered: true,\r\n                maxWidth: 5,\r\n                maxHeight: 5,\r\n                width: 48,\r\n                height: 48,\r\n                strokeWidth: 0\r\n            });\r\n            r(\"CirclePattern\").setAll({\r\n                gap: 5,\r\n                checkered: false,\r\n                centered: false,\r\n                radius: 3,\r\n                strokeWidth: 0,\r\n                width: 45,\r\n                height: 45\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: gradients\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"LinearGradient\").setAll({\r\n                rotation: 90\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Legend\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Legend\").setAll({\r\n                fillField: \"fill\",\r\n                strokeField: \"stroke\",\r\n                nameField: \"name\",\r\n                layout: GridLayout.new(this._root, {}),\r\n                layer: 30,\r\n                clickTarget: \"itemContainer\"\r\n            });\r\n            // Class: Container\r\n            r(\"Container\", [\"legend\", \"item\", \"itemcontainer\"]).setAll({\r\n                paddingLeft: 5,\r\n                paddingRight: 5,\r\n                paddingBottom: 5,\r\n                paddingTop: 5,\r\n                layout: horizontalLayout,\r\n                setStateOnChildren: true,\r\n                interactiveChildren: false,\r\n                ariaChecked: true,\r\n                focusable: true,\r\n                ariaLabel: language.translate(\"Press ENTER to toggle\")\r\n            });\r\n            {\r\n                var rule = r(\"Rectangle\", [\"legend\", \"item\", \"background\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 0,\r\n                });\r\n                setColor(rule, \"fill\", ic, \"background\");\r\n            }\r\n            r(\"Container\", [\"legend\", \"marker\"]).setAll({\r\n                setStateOnChildren: true,\r\n                centerY: p50,\r\n                paddingLeft: 0,\r\n                paddingRight: 0,\r\n                paddingBottom: 0,\r\n                paddingTop: 0,\r\n                width: 18,\r\n                height: 18\r\n            });\r\n            r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).setAll({\r\n                width: p100,\r\n                height: p100,\r\n                cornerRadiusBL: 3,\r\n                cornerRadiusTL: 3,\r\n                cornerRadiusBR: 3,\r\n                cornerRadiusTR: 3\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"legend\", \"marker\", \"rectangle\"]).states.create(\"disabled\", {});\r\n                setColor(rule, \"fill\", ic, \"disabled\");\r\n                setColor(rule, \"stroke\", ic, \"disabled\");\r\n            }\r\n            r(\"Label\", [\"legend\", \"label\"]).setAll({\r\n                centerY: p50,\r\n                marginLeft: 5,\r\n                paddingRight: 0,\r\n                paddingLeft: 0,\r\n                paddingTop: 0,\r\n                paddingBottom: 0,\r\n                populateText: true\r\n            });\r\n            {\r\n                var rule = r(\"Label\", [\"legend\", \"label\"]).states.create(\"disabled\", {});\r\n                setColor(rule, \"fill\", ic, \"disabled\");\r\n            }\r\n            r(\"Label\", [\"legend\", \"value\", \"label\"]).setAll({\r\n                centerY: p50,\r\n                marginLeft: 5,\r\n                paddingRight: 0,\r\n                paddingLeft: 0,\r\n                paddingTop: 0,\r\n                paddingBottom: 0,\r\n                width: 50,\r\n                centerX: p100,\r\n                populateText: true\r\n            });\r\n            {\r\n                var rule = r(\"Label\", [\"legend\", \"value\", \"label\"]).states.create(\"disabled\", {});\r\n                setColor(rule, \"fill\", ic, \"disabled\");\r\n            }\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: HeatLegend\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"HeatLegend\").setAll({\r\n                stepCount: 1\r\n            });\r\n            r(\"RoundedRectangle\", [\"heatlegend\", \"marker\"]).setAll({\r\n                cornerRadiusTR: 0,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusBL: 0\r\n            });\r\n            r(\"RoundedRectangle\", [\"vertical\", \"heatlegend\", \"marker\"]).setAll({\r\n                height: p100,\r\n                width: 15\r\n            });\r\n            r(\"RoundedRectangle\", [\"horizontal\", \"heatlegend\", \"marker\"]).setAll({\r\n                width: p100,\r\n                height: 15\r\n            });\r\n            r(\"HeatLegend\", [\"vertical\"]).setAll({\r\n                height: p100\r\n            });\r\n            r(\"HeatLegend\", [\"horizontal\"]).setAll({\r\n                width: p100\r\n            });\r\n            r(\"Label\", [\"heatlegend\", \"start\"]).setAll({\r\n                paddingLeft: 5,\r\n                paddingRight: 5,\r\n                paddingTop: 5,\r\n                paddingBottom: 5\r\n            });\r\n            r(\"Label\", [\"heatlegend\", \"end\"]).setAll({\r\n                paddingLeft: 5,\r\n                paddingRight: 5,\r\n                paddingTop: 5,\r\n                paddingBottom: 5\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Labels\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            {\r\n                var rule = r(\"Label\");\r\n                rule.setAll({\r\n                    paddingTop: 8,\r\n                    paddingBottom: 8,\r\n                    paddingLeft: 10,\r\n                    paddingRight: 10,\r\n                    fontFamily: \"-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"\",\r\n                    fontSize: \"1em\",\r\n                    populateText: false\r\n                });\r\n                setColor(rule, \"fill\", ic, \"text\");\r\n            }\r\n            r(\"RadialLabel\").setAll({\r\n                textType: \"regular\",\r\n                centerY: p50,\r\n                centerX: p50,\r\n                inside: false,\r\n                radius: 0,\r\n                baseRadius: p100,\r\n                orientation: \"auto\",\r\n                textAlign: \"center\"\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Elements and shapes\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"RoundedRectangle\").setAll({\r\n                cornerRadiusTL: 8,\r\n                cornerRadiusBL: 8,\r\n                cornerRadiusTR: 8,\r\n                cornerRadiusBR: 8\r\n            });\r\n            r(\"PointedRectangle\").setAll({\r\n                pointerBaseWidth: 15,\r\n                pointerLength: 10,\r\n                cornerRadius: 8\r\n            });\r\n            r(\"Slice\").setAll({\r\n                shiftRadius: 0,\r\n                dRadius: 0,\r\n                dInnerRadius: 0\r\n            });\r\n            {\r\n                var rule = r(\"Tick\");\r\n                rule.setAll({\r\n                    strokeOpacity: .15,\r\n                    isMeasured: false,\r\n                    length: 5,\r\n                    position: \"absolute\"\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"grid\");\r\n            }\r\n            r(\"Bullet\").setAll({\r\n                locationX: 0.5,\r\n                locationY: 0.5\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Tooltip\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Tooltip\").setAll({\r\n                position: \"absolute\",\r\n                getFillFromSprite: true,\r\n                getStrokeFromSprite: false,\r\n                autoTextColor: true,\r\n                paddingTop: 9,\r\n                paddingBottom: 8,\r\n                paddingLeft: 10,\r\n                paddingRight: 10,\r\n                marginBottom: 5,\r\n                pointerOrientation: \"vertical\",\r\n                centerX: p50,\r\n                centerY: p50,\r\n                animationEasing: $ease.out($ease.cubic),\r\n                exportable: false\r\n                //layer: 100\r\n            });\r\n            {\r\n                var rule = r(\"PointedRectangle\", [\"tooltip\", \"background\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.9,\r\n                    cornerRadius: 4,\r\n                    pointerLength: 4,\r\n                    pointerBaseWidth: 8,\r\n                    fillOpacity: 0.9,\r\n                    stroke: Color.fromHex(0xffffff)\r\n                });\r\n            }\r\n            {\r\n                var rule = r(\"Label\", [\"tooltip\"]);\r\n                rule.setAll({\r\n                    role: \"tooltip\",\r\n                    populateText: true,\r\n                    paddingRight: 0,\r\n                    paddingTop: 0,\r\n                    paddingLeft: 0,\r\n                    paddingBottom: 0\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeText\");\r\n            }\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Button\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Button\").setAll({\r\n                paddingTop: 8,\r\n                paddingBottom: 8,\r\n                paddingLeft: 10,\r\n                paddingRight: 10,\r\n                interactive: true,\r\n                layout: horizontalLayout,\r\n                interactiveChildren: false,\r\n                setStateOnChildren: true,\r\n                focusable: true\r\n            });\r\n            r(\"Button\").states.create(\"hover\", {});\r\n            r(\"Button\").states.create(\"down\", { stateAnimationDuration: 0 });\r\n            r(\"Button\").states.create(\"active\", {});\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"button\", \"background\"]);\r\n                setColor(rule, \"fill\", ic, \"primaryButton\");\r\n                setColor(rule, \"stroke\", ic, \"primaryButtonStroke\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"hover\", {});\r\n                setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n                setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"button\", \"background\"]).states.create(\"active\", {});\r\n                setColor(rule, \"fill\", ic, \"primaryButtonActive\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"button\", \"icon\"]);\r\n                setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n            }\r\n            {\r\n                var rule = r(\"Label\", [\"button\"]);\r\n                setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n            }\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/xy: ZoomOutButton\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Button\", [\"zoom\"]).setAll({\r\n                paddingTop: 18,\r\n                paddingBottom: 18,\r\n                paddingLeft: 12,\r\n                paddingRight: 12,\r\n                centerX: 46,\r\n                centerY: -10,\r\n                y: 0,\r\n                x: p100,\r\n                role: \"button\",\r\n                ariaLabel: language.translate(\"Zoom Out\"),\r\n                layer: 30\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]);\r\n                rule.setAll({\r\n                    cornerRadiusBL: 40,\r\n                    cornerRadiusBR: 40,\r\n                    cornerRadiusTL: 40,\r\n                    cornerRadiusTR: 40\r\n                });\r\n                setColor(rule, \"fill\", ic, \"primaryButton\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"hover\", {});\r\n                setColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"button\", \"zoom\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n                setColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"icon\", \"button\", \"zoom\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.7,\r\n                    draw: function (display) {\r\n                        display.moveTo(0, 0);\r\n                        display.lineTo(12, 0);\r\n                    }\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"primaryButtonText\");\r\n            }\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: ResizeButton\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Button\", [\"resize\"]).setAll({\r\n                paddingTop: 9,\r\n                paddingBottom: 9,\r\n                paddingLeft: 13,\r\n                paddingRight: 13,\r\n                draggable: true,\r\n                centerX: p50,\r\n                centerY: p50,\r\n                position: \"absolute\",\r\n                role: \"slider\",\r\n                ariaValueMin: \"0\",\r\n                ariaValueMax: \"100\",\r\n                ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]);\r\n                rule.setAll({\r\n                    cornerRadiusBL: 40,\r\n                    cornerRadiusBR: 40,\r\n                    cornerRadiusTL: 40,\r\n                    cornerRadiusTR: 40\r\n                });\r\n                setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n                setColor(rule, \"stroke\", ic, \"secondaryButtonStroke\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"hover\", {});\r\n                setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"background\", \"resize\", \"button\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n                setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"resize\", \"button\", \"icon\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.7,\r\n                    draw: function (display) {\r\n                        display.moveTo(0, 0);\r\n                        display.lineTo(0, 12);\r\n                        display.moveTo(4, 0);\r\n                        display.lineTo(4, 12);\r\n                    }\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"secondaryButtonText\");\r\n            }\r\n            r(\"Button\", [\"resize\", \"vertical\"]).setAll({\r\n                rotation: 90,\r\n                cursorOverStyle: \"ns-resize\"\r\n            });\r\n            r(\"Button\", [\"resize\", \"horizontal\"]).setAll({\r\n                cursorOverStyle: \"ew-resize\"\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: PlayButton\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Button\", [\"play\"]).setAll({\r\n                paddingTop: 13,\r\n                paddingBottom: 13,\r\n                paddingLeft: 14,\r\n                paddingRight: 14,\r\n                ariaLabel: language.translate(\"Play\"),\r\n                toggleKey: \"active\"\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"play\", \"background\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.5,\r\n                    cornerRadiusBL: 100,\r\n                    cornerRadiusBR: 100,\r\n                    cornerRadiusTL: 100,\r\n                    cornerRadiusTR: 100\r\n                });\r\n                setColor(rule, \"fill\", ic, \"primaryButton\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"play\", \"icon\"]);\r\n                rule.setAll({\r\n                    stateAnimationDuration: 0,\r\n                    dx: 1,\r\n                    draw: function (display) {\r\n                        display.moveTo(0, -5);\r\n                        display.lineTo(8, 0);\r\n                        display.lineTo(0, 5);\r\n                        display.lineTo(0, -5);\r\n                    }\r\n                });\r\n                setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n            }\r\n            r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"default\", {\r\n                stateAnimationDuration: 0\r\n            });\r\n            r(\"Graphics\", [\"play\", \"icon\"]).states.create(\"active\", {\r\n                stateAnimationDuration: 0,\r\n                draw: function (display) {\r\n                    display.moveTo(-4, -5);\r\n                    display.lineTo(-1, -5);\r\n                    display.lineTo(-1, 5);\r\n                    display.lineTo(-4, 5);\r\n                    display.lineTo(-4, -5);\r\n                    display.moveTo(4, -5);\r\n                    display.lineTo(1, -5);\r\n                    display.lineTo(1, 5);\r\n                    display.lineTo(4, 5);\r\n                    display.lineTo(4, -5);\r\n                }\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: SwitchButton\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Button\", [\"switch\"]).setAll({\r\n                paddingTop: 4,\r\n                paddingBottom: 4,\r\n                paddingLeft: 4,\r\n                paddingRight: 4,\r\n                ariaLabel: language.translate(\"Press ENTER to toggle\"),\r\n                toggleKey: \"active\",\r\n                width: 40,\r\n                height: 24,\r\n                layout: null\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"switch\", \"background\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.5,\r\n                    cornerRadiusBL: 100,\r\n                    cornerRadiusBR: 100,\r\n                    cornerRadiusTL: 100,\r\n                    cornerRadiusTR: 100\r\n                });\r\n                setColor(rule, \"fill\", ic, \"primaryButton\");\r\n            }\r\n            {\r\n                var rule = r(\"Circle\", [\"switch\", \"icon\"]);\r\n                rule.setAll({\r\n                    radius: 8,\r\n                    centerY: 0,\r\n                    centerX: 0,\r\n                    dx: 0\r\n                });\r\n                setColor(rule, \"fill\", ic, \"primaryButtonText\");\r\n            }\r\n            r(\"Graphics\", [\"switch\", \"icon\"]).states.create(\"active\", {\r\n                dx: 16\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * core: Scrollbar\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Scrollbar\").setAll({\r\n                start: 0,\r\n                end: 1,\r\n                layer: 30,\r\n                animationEasing: $ease.out($ease.cubic)\r\n            });\r\n            r(\"Scrollbar\", [\"vertical\"]).setAll({\r\n                marginRight: 13,\r\n                marginLeft: 13,\r\n                minWidth: 12,\r\n                height: p100\r\n            });\r\n            r(\"Scrollbar\", [\"horizontal\"]).setAll({\r\n                marginTop: 13,\r\n                marginBottom: 13,\r\n                minHeight: 12,\r\n                width: p100\r\n            });\r\n            this.rule(\"Button\", [\"scrollbar\"]).setAll({\r\n                exportable: false\r\n            });\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"scrollbar\", \"main\", \"background\"]);\r\n                rule.setAll({\r\n                    cornerRadiusTL: 8,\r\n                    cornerRadiusBL: 8,\r\n                    cornerRadiusTR: 8,\r\n                    cornerRadiusBR: 8,\r\n                    fillOpacity: 0.8,\r\n                });\r\n                setColor(rule, \"fill\", ic, \"fill\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]);\r\n                rule.setAll({\r\n                    role: \"slider\",\r\n                    ariaLive: \"polite\",\r\n                    position: \"absolute\",\r\n                    draggable: true\r\n                });\r\n                setColor(rule, \"fill\", ic, \"secondaryButton\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"hover\", {});\r\n                setColor(rule, \"fill\", ic, \"secondaryButtonHover\");\r\n            }\r\n            {\r\n                var rule = r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n                setColor(rule, \"fill\", ic, \"secondaryButtonDown\");\r\n            }\r\n            r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"vertical\"]).setAll({\r\n                x: p50,\r\n                width: p100,\r\n                centerX: p50,\r\n                ariaLabel: language.translate(\"Use up and down arrows to move selection\")\r\n            });\r\n            r(\"RoundedRectangle\", [\"scrollbar\", \"thumb\", \"horizontal\"]).setAll({\r\n                y: p50,\r\n                centerY: p50,\r\n                height: p100,\r\n                ariaLabel: language.translate(\"Use left and right arrows to move selection\")\r\n            });\r\n            // @todo: is this needed? used to be \"ContentScrollbar\"\r\n            // r(\"Scrollbar\", [\"content?\"]).setAll({\r\n            // \tmarginRight: 0,\r\n            // \tmarginLeft: 5,\r\n            // \tlayer: 5\r\n            // });\r\n            /**\r\n             * ========================================================================\r\n             * charts/xy\r\n             * ========================================================================\r\n             *\r\n             * This needs to be in DefaultTheme because it's the only theme that is\r\n             * automatically applied to Root, and tooltips different ancestors\r\n             * than actual charts using them.\r\n             */\r\n            {\r\n                var rule = r(\"PointedRectangle\", [\"axis\", \"tooltip\", \"background\"]);\r\n                rule.setAll({\r\n                    cornerRadius: 0\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            }\r\n            r(\"Label\", [\"axis\", \"tooltip\"]).setAll({\r\n                role: undefined\r\n            });\r\n            r(\"Label\", [\"axis\", \"tooltip\", \"y\"]).setAll({\r\n                textAlign: \"right\"\r\n            });\r\n            r(\"Label\", [\"axis\", \"tooltip\", \"y\", \"opposite\"]).setAll({\r\n                textAlign: \"left\"\r\n            });\r\n            r(\"Label\", [\"axis\", \"tooltip\", \"x\"]).setAll({\r\n                textAlign: \"center\"\r\n            });\r\n            r(\"Tooltip\", [\"categoryaxis\"]).setAll({\r\n                labelText: \"{category}\"\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * Shapes\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            // Class: Graphics\r\n            r(\"Star\").setAll({\r\n                spikes: 5,\r\n                innerRadius: 5,\r\n                radius: 10\r\n            });\r\n            // STOCK\r\n            r(\"Tooltip\", [\"stock\"]).setAll({\r\n                paddingTop: 6,\r\n                paddingBottom: 5,\r\n                paddingLeft: 7,\r\n                paddingRight: 7\r\n            });\r\n            r(\"PointedRectangle\", [\"tooltip\", \"stock\", \"axis\"]).setAll({\r\n                pointerLength: 0,\r\n                pointerBaseWidth: 0,\r\n                cornerRadius: 3\r\n            });\r\n            r(\"Label\", [\"tooltip\", \"stock\"]).setAll({\r\n                fontSize: \"0.8em\"\r\n            });\r\n        }\r\n    });\r\n    return DefaultTheme;\r\n}(Theme));\r\nexport { DefaultTheme };\r\n//# sourceMappingURL=DefaultTheme.js.map","/**\r\n * Modified from Pixi:\r\n *\r\n * The MIT License\r\n *\r\n * Copyright (c) 2013-2017 Mathew Groves, Chad Engler\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n */\r\n/**\r\n * @ignore\r\n */\r\nvar Matrix = /** @class */ (function () {\r\n    function Matrix(a, b, c, d, tx, ty) {\r\n        if (a === void 0) { a = 1; }\r\n        if (b === void 0) { b = 0; }\r\n        if (c === void 0) { c = 0; }\r\n        if (d === void 0) { d = 1; }\r\n        if (tx === void 0) { tx = 0; }\r\n        if (ty === void 0) { ty = 0; }\r\n        Object.defineProperty(this, \"a\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"b\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"c\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"d\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"tx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n    }\r\n    /**\r\n     * Sets the matrix based on all the available properties\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"setTransform\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y, pivotX, pivotY, rotation, scale) {\r\n            if (scale === void 0) { scale = 1; }\r\n            this.a = Math.cos(rotation) * scale;\r\n            this.b = Math.sin(rotation) * scale;\r\n            this.c = -Math.sin(rotation) * scale;\r\n            this.d = Math.cos(rotation) * scale;\r\n            this.tx = x - ((pivotX * this.a) + (pivotY * this.c));\r\n            this.ty = y - ((pivotX * this.b) + (pivotY * this.d));\r\n        }\r\n    });\r\n    /**\r\n     * Get a new position with the current transformation applied.\r\n     * Can be used to go from a child's coordinate space to the world coordinate space. (e.g. rendering)\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"apply\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (origin) {\r\n            return {\r\n                x: (this.a * origin.x) + (this.c * origin.y) + this.tx,\r\n                y: (this.b * origin.x) + (this.d * origin.y) + this.ty\r\n            };\r\n        }\r\n    });\r\n    /**\r\n     * Get a new position with the inverse of the current transformation applied.\r\n     * Can be used to go from the world coordinate space to a child's coordinate space. (e.g. input)\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"applyInverse\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (origin) {\r\n            var id = 1 / ((this.a * this.d) + (this.c * -this.b));\r\n            return {\r\n                x: (this.d * id * origin.x) + (-this.c * id * origin.y) + (((this.ty * this.c) - (this.tx * this.d)) * id),\r\n                y: (this.a * id * origin.y) + (-this.b * id * origin.x) + (((-this.ty * this.a) + (this.tx * this.b)) * id)\r\n            };\r\n        }\r\n    });\r\n    /**\r\n     * Appends the given Matrix to this Matrix.\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"append\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (matrix) {\r\n            var a1 = this.a;\r\n            var b1 = this.b;\r\n            var c1 = this.c;\r\n            var d1 = this.d;\r\n            this.a = (matrix.a * a1) + (matrix.b * c1);\r\n            this.b = (matrix.a * b1) + (matrix.b * d1);\r\n            this.c = (matrix.c * a1) + (matrix.d * c1);\r\n            this.d = (matrix.c * b1) + (matrix.d * d1);\r\n            this.tx = (matrix.tx * a1) + (matrix.ty * c1) + this.tx;\r\n            this.ty = (matrix.tx * b1) + (matrix.ty * d1) + this.ty;\r\n        }\r\n    });\r\n    /**\r\n     * Prepends the given Matrix to this Matrix.\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"prepend\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (matrix) {\r\n            var tx1 = this.tx;\r\n            if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {\r\n                var a1 = this.a;\r\n                var c1 = this.c;\r\n                this.a = (a1 * matrix.a) + (this.b * matrix.c);\r\n                this.b = (a1 * matrix.b) + (this.b * matrix.d);\r\n                this.c = (c1 * matrix.a) + (this.d * matrix.c);\r\n                this.d = (c1 * matrix.b) + (this.d * matrix.d);\r\n            }\r\n            this.tx = (tx1 * matrix.a) + (this.ty * matrix.c) + matrix.tx;\r\n            this.ty = (tx1 * matrix.b) + (this.ty * matrix.d) + matrix.ty;\r\n        }\r\n    });\r\n    /**\r\n     * Copies the other matrix's properties into this matrix\r\n     */\r\n    Object.defineProperty(Matrix.prototype, \"copyFrom\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (matrix) {\r\n            this.a = matrix.a;\r\n            this.b = matrix.b;\r\n            this.c = matrix.c;\r\n            this.d = matrix.d;\r\n            this.tx = matrix.tx;\r\n            this.ty = matrix.ty;\r\n        }\r\n    });\r\n    return Matrix;\r\n}());\r\nexport { Matrix };\r\n//# sourceMappingURL=Matrix.js.map","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar TAU = Math.PI * 2;\n\nvar mapToEllipse = function mapToEllipse(_ref, rx, ry, cosphi, sinphi, centerx, centery) {\n  var x = _ref.x,\n      y = _ref.y;\n\n  x *= rx;\n  y *= ry;\n\n  var xp = cosphi * x - sinphi * y;\n  var yp = sinphi * x + cosphi * y;\n\n  return {\n    x: xp + centerx,\n    y: yp + centery\n  };\n};\n\nvar approxUnitArc = function approxUnitArc(ang1, ang2) {\n  // If 90 degree circular arc, use a constant\n  // as derived from http://spencermortensen.com/articles/bezier-circle\n  var a = ang2 === 1.5707963267948966 ? 0.551915024494 : ang2 === -1.5707963267948966 ? -0.551915024494 : 4 / 3 * Math.tan(ang2 / 4);\n\n  var x1 = Math.cos(ang1);\n  var y1 = Math.sin(ang1);\n  var x2 = Math.cos(ang1 + ang2);\n  var y2 = Math.sin(ang1 + ang2);\n\n  return [{\n    x: x1 - y1 * a,\n    y: y1 + x1 * a\n  }, {\n    x: x2 + y2 * a,\n    y: y2 - x2 * a\n  }, {\n    x: x2,\n    y: y2\n  }];\n};\n\nvar vectorAngle = function vectorAngle(ux, uy, vx, vy) {\n  var sign = ux * vy - uy * vx < 0 ? -1 : 1;\n\n  var dot = ux * vx + uy * vy;\n\n  if (dot > 1) {\n    dot = 1;\n  }\n\n  if (dot < -1) {\n    dot = -1;\n  }\n\n  return sign * Math.acos(dot);\n};\n\nvar getArcCenter = function getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp) {\n  var rxsq = Math.pow(rx, 2);\n  var rysq = Math.pow(ry, 2);\n  var pxpsq = Math.pow(pxp, 2);\n  var pypsq = Math.pow(pyp, 2);\n\n  var radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n\n  if (radicant < 0) {\n    radicant = 0;\n  }\n\n  radicant /= rxsq * pypsq + rysq * pxpsq;\n  radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n  var centerxp = radicant * rx / ry * pyp;\n  var centeryp = radicant * -ry / rx * pxp;\n\n  var centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n  var centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n\n  var vx1 = (pxp - centerxp) / rx;\n  var vy1 = (pyp - centeryp) / ry;\n  var vx2 = (-pxp - centerxp) / rx;\n  var vy2 = (-pyp - centeryp) / ry;\n\n  var ang1 = vectorAngle(1, 0, vx1, vy1);\n  var ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n  if (sweepFlag === 0 && ang2 > 0) {\n    ang2 -= TAU;\n  }\n\n  if (sweepFlag === 1 && ang2 < 0) {\n    ang2 += TAU;\n  }\n\n  return [centerx, centery, ang1, ang2];\n};\n\nvar arcToBezier = function arcToBezier(_ref2) {\n  var px = _ref2.px,\n      py = _ref2.py,\n      cx = _ref2.cx,\n      cy = _ref2.cy,\n      rx = _ref2.rx,\n      ry = _ref2.ry,\n      _ref2$xAxisRotation = _ref2.xAxisRotation,\n      xAxisRotation = _ref2$xAxisRotation === undefined ? 0 : _ref2$xAxisRotation,\n      _ref2$largeArcFlag = _ref2.largeArcFlag,\n      largeArcFlag = _ref2$largeArcFlag === undefined ? 0 : _ref2$largeArcFlag,\n      _ref2$sweepFlag = _ref2.sweepFlag,\n      sweepFlag = _ref2$sweepFlag === undefined ? 0 : _ref2$sweepFlag;\n\n  var curves = [];\n\n  if (rx === 0 || ry === 0) {\n    return [];\n  }\n\n  var sinphi = Math.sin(xAxisRotation * TAU / 360);\n  var cosphi = Math.cos(xAxisRotation * TAU / 360);\n\n  var pxp = cosphi * (px - cx) / 2 + sinphi * (py - cy) / 2;\n  var pyp = -sinphi * (px - cx) / 2 + cosphi * (py - cy) / 2;\n\n  if (pxp === 0 && pyp === 0) {\n    return [];\n  }\n\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  var lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n\n  var _getArcCenter = getArcCenter(px, py, cx, cy, rx, ry, largeArcFlag, sweepFlag, sinphi, cosphi, pxp, pyp),\n      _getArcCenter2 = _slicedToArray(_getArcCenter, 4),\n      centerx = _getArcCenter2[0],\n      centery = _getArcCenter2[1],\n      ang1 = _getArcCenter2[2],\n      ang2 = _getArcCenter2[3];\n\n  // If 'ang2' == 90.0000000001, then `ratio` will evaluate to\n  // 1.0000000001. This causes `segments` to be greater than one, which is an\n  // unecessary split, and adds extra points to the bezier curve. To alleviate\n  // this issue, we round to 1.0 when the ratio is close to 1.0.\n\n\n  var ratio = Math.abs(ang2) / (TAU / 4);\n  if (Math.abs(1.0 - ratio) < 0.0000001) {\n    ratio = 1.0;\n  }\n\n  var segments = Math.max(Math.ceil(ratio), 1);\n\n  ang2 /= segments;\n\n  for (var i = 0; i < segments; i++) {\n    curves.push(approxUnitArc(ang1, ang2));\n    ang1 += ang2;\n  }\n\n  return curves.map(function (curve) {\n    var _mapToEllipse = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery),\n        x1 = _mapToEllipse.x,\n        y1 = _mapToEllipse.y;\n\n    var _mapToEllipse2 = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery),\n        x2 = _mapToEllipse2.x,\n        y2 = _mapToEllipse2.y;\n\n    var _mapToEllipse3 = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery),\n        x = _mapToEllipse3.x,\n        y = _mapToEllipse3.y;\n\n    return { x1: x1, y1: y1, x2: x2, y2: y2, x: x, y: y };\n  });\n};\n\nexport default arcToBezier;","/** @ignore */ /** */\r\nimport { __extends } from \"tslib\";\r\nimport { BlendMode } from \"./Renderer\";\r\nimport { Color } from \"../../util/Color\";\r\nimport { Matrix } from \"../../util/Matrix\";\r\nimport { Percent, percent } from \"../../util/Percent\";\r\n//import { Throttler } from \"../../util/Throttler\";\r\nimport { ArrayDisposer, Disposer, DisposerClass, CounterDisposer, MultiDisposer } from \"../../util/Disposer\";\r\nimport { TextFormatter } from \"../../util/TextFormatter\";\r\nimport * as $utils from \"../../util/Utils\";\r\nimport * as $array from \"../../util/Array\";\r\nimport * as $object from \"../../util/Object\";\r\nimport * as $type from \"../../util/Type\";\r\nimport * as $math from \"../../util/Math\";\r\nimport arcToBezier from 'svg-arc-to-cubic-bezier';\r\n/**\r\n * @ignore\r\n */\r\nfunction checkArgs(name, actual, expected) {\r\n    if (actual !== expected) {\r\n        throw new Error(\"Required \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkMinArgs(name, actual, expected) {\r\n    if (actual < expected) {\r\n        throw new Error(\"Required at least \" + expected + \" arguments for \" + name + \" but got \" + actual);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction checkEvenArgs(name, actual, expected) {\r\n    checkMinArgs(name, actual, expected);\r\n    if ((actual % expected) !== 0) {\r\n        throw new Error(\"Arguments for \" + name + \" must be in pairs of \" + expected);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction assertBinary(value) {\r\n    if (value === 0 || value === 1) {\r\n        return value;\r\n    }\r\n    else {\r\n        throw new Error(\"Flag must be 0 or 1\");\r\n    }\r\n}\r\n//  1 -> 0xffffff * (2 / 2)\r\n//  2 -> 0xffffff * (1 / 2)\r\n//\r\n//  3 -> 0xffffff * (3 / 4)\r\n//  4 -> 0xffffff * (1 / 4)\r\n//\r\n//  5 -> 0xffffff * (7 / 8)\r\n//  6 -> 0xffffff * (5 / 8)\r\n//  7 -> 0xffffff * (3 / 8)\r\n//  8 -> 0xffffff * (1 / 8)\r\n//\r\n//  9 -> 0xffffff * (15 / 16)\r\n// 10 -> 0xffffff * (13 / 16)\r\n// 11 -> 0xffffff * (11 / 16)\r\n// 12 -> 0xffffff *  (9 / 16)\r\n// 13 -> 0xffffff *  (7 / 16)\r\n// 14 -> 0xffffff *  (5 / 16)\r\n// 15 -> 0xffffff *  (3 / 16)\r\n// 16 -> 0xffffff *  (1 / 16)\r\n// @todo remove this old color distribution algo if the new one pans out\r\n// function distributeIdBAK(id: number): number {\r\n// \tif (id === 1) {\r\n// \t\treturn 0x000001;\r\n// \t} else {\r\n// \t\t// Finds the closest power of 2\r\n// \t\tconst base = Math.pow(2, Math.ceil(Math.log(id) / Math.log(2)));\r\n// \t\t// Translates the id into an odd fraction index\r\n// \t\tconst index = ((base - id) * 2) + 1;\r\n// \t\t// TODO is Math.round correct ?\r\n// \t\treturn Math.round(0xffffff * (index / base));\r\n// \t}\r\n// }\r\n/**\r\n * Function by smeans:\r\n * https://lowcode.life/generating-unique-contrasting-colors-in-javascript/\r\n * @ignore\r\n */\r\nfunction distributeId(id) {\r\n    var rgb = [0, 0, 0];\r\n    for (var i = 0; i < 24; i++) {\r\n        rgb[i % 3] <<= 1;\r\n        rgb[i % 3] |= id & 0x01;\r\n        id >>= 1;\r\n    }\r\n    return (rgb[2] | 0) + (rgb[1] << 8) + (rgb[0] << 16);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction eachTargets(hitTarget, f) {\r\n    for (;;) {\r\n        if (hitTarget.interactive) {\r\n            if (!f(hitTarget)) {\r\n                break;\r\n            }\r\n        }\r\n        if (hitTarget._parent) {\r\n            hitTarget = hitTarget._parent;\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n}\r\n// TODO feature detection for mouse/touch/pointer\r\n/**\r\n * @ignore\r\n */\r\nfunction onPointerEvent(element, name, f) {\r\n    return $utils.addEventListener(element, $utils.getRendererEvent(name), function (event) {\r\n        var touches = event.touches;\r\n        if (touches) {\r\n            if (touches.length == 0) {\r\n                touches = event.changedTouches;\r\n            }\r\n            f($array.copy(touches));\r\n        }\r\n        else {\r\n            f([event]);\r\n        }\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction isTainted(image) {\r\n    var canvas = document.createElement(\"canvas\");\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    var context = canvas.getContext(\"2d\");\r\n    context.drawImage(image, 0, 0, 1, 1);\r\n    try {\r\n        context.getImageData(0, 0, 1, 1);\r\n        return false;\r\n    }\r\n    catch (err) {\r\n        console.warn(\"Image \\\"\" + image.src + \"\\\" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors\");\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * This is needed to workaround a bug in iOS which causes it to not GC canvas elements.\r\n *\r\n * @ignore\r\n */\r\nfunction clearCanvas(view) {\r\n    view.width = 0;\r\n    view.height = 0;\r\n    view.style.width = \"0px\";\r\n    view.style.height = \"0px\";\r\n}\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasPivot = /** @class */ (function () {\r\n    function CanvasPivot() {\r\n        Object.defineProperty(this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n    }\r\n    Object.defineProperty(CanvasPivot.prototype, \"x\", {\r\n        get: function () {\r\n            return this._x;\r\n        },\r\n        set: function (value) {\r\n            this._x = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CanvasPivot.prototype, \"y\", {\r\n        get: function () {\r\n            return this._y;\r\n        },\r\n        set: function (value) {\r\n            this._y = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return CanvasPivot;\r\n}());\r\nexport { CanvasPivot };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasDisplayObject = /** @class */ (function (_super) {\r\n    __extends(CanvasDisplayObject, _super);\r\n    function CanvasDisplayObject(renderer) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"_layer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"mask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(_this, \"visible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"exportable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"interactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"inactive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"wheelable\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"cancelTouch\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"isMeasured\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"buttonMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"alpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"compoundAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"angle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"scale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"pivot\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new CanvasPivot()\r\n        });\r\n        Object.defineProperty(_this, \"filter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"cursorOverStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_replacedCursorStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_localMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        Object.defineProperty(_this, \"_matrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        // TODO can this be replaced with _localMatrix ?\r\n        Object.defineProperty(_this, \"_uMatrix\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Matrix()\r\n        });\r\n        Object.defineProperty(_this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_parent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_localBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_bounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this._renderer = renderer;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._renderer._removeObject(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"getCanvas\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.getLayer().view;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"getLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var self = this;\r\n            for (;;) {\r\n                if (self._layer) {\r\n                    return self._layer;\r\n                }\r\n                else if (self._parent) {\r\n                    self = self._parent;\r\n                }\r\n                else {\r\n                    return this._renderer.defaultLayer;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"setLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (order, visible) {\r\n            if (visible === void 0) { visible = true; }\r\n            if (order == null) {\r\n                this._layer = undefined;\r\n            }\r\n            else {\r\n                this._layer = this._renderer.getLayer(order, visible);\r\n                this._layer.visible = visible;\r\n                if (this._parent) {\r\n                    this._parent.registerChildLayer(this._layer);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"markDirtyLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.getLayer().dirty = true;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"clear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.invalidateBounds();\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"invalidateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._localBounds = undefined;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_bounds) { }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_getColorId\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._colorId === undefined) {\r\n                this._colorId = this._renderer.paintId(this);\r\n            }\r\n            return this._colorId;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_isInteractive\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.inactive == false && (this.interactive || this._renderer._forceInteractive > 0);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_isInteractiveMask\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isInteractive();\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"contains\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child) {\r\n            for (;;) {\r\n                if (child === this) {\r\n                    return true;\r\n                }\r\n                else if (child._parent) {\r\n                    child = child._parent;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"toGlobal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this._matrix.apply(point);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"toLocal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this._matrix.applyInverse(point);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"getLocalMatrix\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._uMatrix.setTransform(0, 0, this.pivot.x, this.pivot.y, this.angle * Math.PI / 180, this.scale);\r\n            return this._uMatrix;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"getLocalBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._localBounds) {\r\n                var bn = 10000000;\r\n                this._localBounds = {\r\n                    left: bn,\r\n                    top: bn,\r\n                    right: -bn,\r\n                    bottom: -bn\r\n                };\r\n                this._addBounds(this._localBounds);\r\n            }\r\n            return this._localBounds;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"getAdjustedBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            this._setMatrix();\r\n            var matrix = this.getLocalMatrix();\r\n            var p0 = matrix.apply({ x: bounds.left, y: bounds.top });\r\n            var p1 = matrix.apply({ x: bounds.right, y: bounds.top });\r\n            var p2 = matrix.apply({ x: bounds.right, y: bounds.bottom });\r\n            var p3 = matrix.apply({ x: bounds.left, y: bounds.bottom });\r\n            return {\r\n                left: Math.min(p0.x, p1.x, p2.x, p3.x),\r\n                top: Math.min(p0.y, p1.y, p2.y, p3.y),\r\n                right: Math.max(p0.x, p1.x, p2.x, p3.x),\r\n                bottom: Math.max(p0.y, p1.y, p2.y, p3.y)\r\n            };\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"on\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, callback, context) {\r\n            if (this.interactive) {\r\n                return this._renderer._addEvent(this, key, callback, context);\r\n            }\r\n            else {\r\n                return new Disposer(function () { });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_setMatrix\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // TODO only calculate this if it has actually changed\r\n            this._localMatrix.setTransform(this.x, this.y, this.pivot.x, this.pivot.y, \r\n            // Converts degrees to radians\r\n            this.angle * Math.PI / 180, this.scale);\r\n            this._matrix.copyFrom(this._localMatrix);\r\n            if (this._parent) {\r\n                // TODO only calculate this if it has actually changed\r\n                this._matrix.prepend(this._parent._matrix);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_transform\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, resolution) {\r\n            var m = this._matrix;\r\n            context.setTransform(m.a * resolution, m.b * resolution, m.c * resolution, m.d * resolution, m.tx * resolution, m.ty * resolution);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            var _this = this;\r\n            if (this.visible && (this.exportable !== false || !this._renderer._omitTainted)) {\r\n                this._setMatrix();\r\n                var resolution_1 = this._renderer.resolution;\r\n                var layers = this._renderer.layers;\r\n                var ghostContext = this._renderer._ghostContext;\r\n                var mask_1 = this.mask;\r\n                if (mask_1) {\r\n                    mask_1._setMatrix();\r\n                }\r\n                // TODO improve this\r\n                $array.each(layers, function (layer) {\r\n                    if (layer) {\r\n                        var context = layer.context;\r\n                        context.save();\r\n                        // We must apply the mask before we transform the element\r\n                        if (mask_1) {\r\n                            mask_1._transform(context, layer.scale || resolution_1);\r\n                            mask_1._runPath(context);\r\n                            context.clip();\r\n                        }\r\n                        context.globalAlpha = _this.compoundAlpha * _this.alpha;\r\n                        _this._transform(context, layer.scale || resolution_1);\r\n                        if (_this.filter) {\r\n                            context.filter = _this.filter;\r\n                        }\r\n                    }\r\n                });\r\n                ghostContext.save();\r\n                // We must apply the mask before we transform the element\r\n                if (mask_1 && this._isInteractiveMask()) {\r\n                    mask_1._transform(ghostContext, resolution_1);\r\n                    mask_1._runPath(ghostContext);\r\n                    ghostContext.clip();\r\n                }\r\n                this._transform(ghostContext, resolution_1);\r\n                this._render(parentLayer);\r\n                ghostContext.restore();\r\n                $array.each(layers, function (layer) {\r\n                    if (layer) {\r\n                        layer.context.restore();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            if (this.exportable === false) {\r\n                var layer = this._layer || parentLayer;\r\n                layer.tainted = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"hovering\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._renderer._hovering.has(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"dragging\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            return this._renderer._dragging.some(function (x) { return x.value === _this; });\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.getLayer().dirty = true;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasDisplayObject.prototype, \"shouldCancelTouch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var renderer = this._renderer;\r\n            if (renderer.tapToActivate && !renderer._touchActive) {\r\n                return false;\r\n            }\r\n            if (this.cancelTouch) {\r\n                return true;\r\n            }\r\n            else if (this._parent) {\r\n                return this._parent.shouldCancelTouch();\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    return CanvasDisplayObject;\r\n}(DisposerClass));\r\nexport { CanvasDisplayObject };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasContainer = /** @class */ (function (_super) {\r\n    __extends(CanvasContainer, _super);\r\n    function CanvasContainer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"interactiveChildren\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"_childLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_children\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasContainer.prototype, \"_isInteractiveMask\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.interactiveChildren || _super.prototype._isInteractiveMask.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"addChild\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child) {\r\n            child._parent = this;\r\n            this._children.push(child);\r\n            if (child._layer) {\r\n                this.registerChildLayer(child._layer);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"addChildAt\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child, index) {\r\n            child._parent = this;\r\n            this._children.splice(index, 0, child);\r\n            if (child._layer) {\r\n                this.registerChildLayer(child._layer);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"removeChild\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (child) {\r\n            child._parent = undefined;\r\n            $array.removeFirst(this._children, child);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            var _this = this;\r\n            _super.prototype._render.call(this, parentLayer);\r\n            var renderer = this._renderer;\r\n            if (this.interactive && this.interactiveChildren) {\r\n                ++renderer._forceInteractive;\r\n            }\r\n            var layer = this._layer || parentLayer;\r\n            $array.each(this._children, function (child) {\r\n                child.compoundAlpha = _this.compoundAlpha * _this.alpha;\r\n                child.render(layer);\r\n            });\r\n            if (this.interactive && this.interactiveChildren) {\r\n                --renderer._forceInteractive;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"registerChildLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (layer) {\r\n            if (!this._childLayers) {\r\n                this._childLayers = [];\r\n            }\r\n            $array.pushOne(this._childLayers, layer);\r\n            if (this._parent) {\r\n                this._parent.registerChildLayer(layer);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"markDirtyLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (deep) {\r\n            if (deep === void 0) { deep = false; }\r\n            _super.prototype.markDirtyLayer.call(this);\r\n            if (deep && this._childLayers) {\r\n                $array.each(this._childLayers, function (layer) { return layer.dirty = true; });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasContainer.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.dispose.call(this);\r\n            if (this._childLayers) {\r\n                $array.each(this._childLayers, function (layer) {\r\n                    layer.dirty = true;\r\n                });\r\n            }\r\n        }\r\n    });\r\n    return CanvasContainer;\r\n}(CanvasDisplayObject));\r\nexport { CanvasContainer };\r\n/**\r\n * @ignore\r\n */\r\nfunction setPoint(bounds, point) {\r\n    bounds.left = Math.min(bounds.left, point.x);\r\n    bounds.top = Math.min(bounds.top, point.y);\r\n    bounds.right = Math.max(bounds.right, point.x);\r\n    bounds.bottom = Math.max(bounds.bottom, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nvar Op = /** @class */ (function () {\r\n    function Op() {\r\n    }\r\n    Object.defineProperty(Op.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_context, _forceColor) { }\r\n    });\r\n    Object.defineProperty(Op.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_context) { }\r\n    });\r\n    Object.defineProperty(Op.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_bounds) { }\r\n    });\r\n    return Op;\r\n}());\r\n/**\r\n * @ignore\r\n */\r\nvar BeginFill = /** @class */ (function (_super) {\r\n    __extends(BeginFill, _super);\r\n    function BeginFill(color) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BeginFill.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, forceColor) {\r\n            if (forceColor !== undefined) {\r\n                context.fillStyle = forceColor;\r\n            }\r\n            else {\r\n                context.fillStyle = this.color;\r\n            }\r\n        }\r\n    });\r\n    return BeginFill;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar EndFill = /** @class */ (function (_super) {\r\n    __extends(EndFill, _super);\r\n    function EndFill(clearShadow) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"clearShadow\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: clearShadow\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EndFill.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, _forceColor) {\r\n            context.fill();\r\n            if (this.clearShadow) {\r\n                context.shadowColor = \"\";\r\n                context.shadowBlur = 0;\r\n                context.shadowOffsetX = 0;\r\n                context.shadowOffsetY = 0;\r\n            }\r\n        }\r\n    });\r\n    return EndFill;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar EndStroke = /** @class */ (function (_super) {\r\n    __extends(EndStroke, _super);\r\n    function EndStroke() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(EndStroke.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, _forceColor) {\r\n            context.stroke();\r\n        }\r\n    });\r\n    return EndStroke;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar LineStyle = /** @class */ (function (_super) {\r\n    __extends(LineStyle, _super);\r\n    function LineStyle(width, color) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(_this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LineStyle.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, forceColor) {\r\n            if (forceColor !== undefined) {\r\n                context.strokeStyle = forceColor;\r\n            }\r\n            else {\r\n                context.strokeStyle = this.color;\r\n            }\r\n            context.lineWidth = this.width;\r\n        }\r\n    });\r\n    return LineStyle;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar LineDash = /** @class */ (function (_super) {\r\n    __extends(LineDash, _super);\r\n    function LineDash(dash) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"dash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dash\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LineDash.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, _forceColor) {\r\n            context.setLineDash(this.dash);\r\n        }\r\n    });\r\n    return LineDash;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar LineDashOffset = /** @class */ (function (_super) {\r\n    __extends(LineDashOffset, _super);\r\n    function LineDashOffset(dashOffset) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"dashOffset\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: dashOffset\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LineDashOffset.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, _forceColor) {\r\n            context.lineDashOffset = this.dashOffset;\r\n        }\r\n    });\r\n    return LineDashOffset;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar DrawRect = /** @class */ (function (_super) {\r\n    __extends(DrawRect, _super);\r\n    function DrawRect(x, y, width, height) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(_this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: width\r\n        });\r\n        Object.defineProperty(_this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: height\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DrawRect.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.rect(this.x, this.y, this.width, this.height);\r\n        }\r\n    });\r\n    Object.defineProperty(DrawRect.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            var l = this.x;\r\n            var t = this.y;\r\n            var r = l + this.width;\r\n            var b = t + this.height;\r\n            setPoint(bounds, { x: l, y: t });\r\n            setPoint(bounds, { x: r, y: t });\r\n            setPoint(bounds, { x: l, y: b });\r\n            setPoint(bounds, { x: r, y: b });\r\n        }\r\n    });\r\n    return DrawRect;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar DrawCircle = /** @class */ (function (_super) {\r\n    __extends(DrawCircle, _super);\r\n    function DrawCircle(x, y, radius) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(_this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DrawCircle.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.moveTo(this.x + this.radius, this.y);\r\n            context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n        }\r\n    });\r\n    // TODO handle skewing and rotation\r\n    Object.defineProperty(DrawCircle.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.x - this.radius, y: this.y - this.radius });\r\n            setPoint(bounds, { x: this.x + this.radius, y: this.y + this.radius });\r\n        }\r\n    });\r\n    return DrawCircle;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar DrawEllipse = /** @class */ (function (_super) {\r\n    __extends(DrawEllipse, _super);\r\n    function DrawEllipse(x, y, radiusX, radiusY) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        Object.defineProperty(_this, \"radiusX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusX\r\n        });\r\n        Object.defineProperty(_this, \"radiusY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radiusY\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DrawEllipse.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.ellipse(0, 0, this.radiusX, this.radiusY, 0, 0, Math.PI * 2);\r\n        }\r\n    });\r\n    // TODO handle skewing and rotation\r\n    Object.defineProperty(DrawEllipse.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.x - this.radiusX, y: this.y - this.radiusY });\r\n            setPoint(bounds, { x: this.x + this.radiusX, y: this.y + this.radiusY });\r\n        }\r\n    });\r\n    return DrawEllipse;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar Arc = /** @class */ (function (_super) {\r\n    __extends(Arc, _super);\r\n    function Arc(cx, cy, radius, startAngle, endAngle, anticlockwise) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"cx\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cx\r\n        });\r\n        Object.defineProperty(_this, \"cy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cy\r\n        });\r\n        Object.defineProperty(_this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n        Object.defineProperty(_this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: startAngle\r\n        });\r\n        Object.defineProperty(_this, \"endAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: endAngle\r\n        });\r\n        Object.defineProperty(_this, \"anticlockwise\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: anticlockwise\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Arc.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            if (this.radius > 0) {\r\n                context.arc(this.cx, this.cy, this.radius, this.startAngle, this.endAngle, this.anticlockwise);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Arc.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            var arcBounds = $math.getArcBounds(this.cx, this.cy, this.startAngle * $math.DEGREES, this.endAngle * $math.DEGREES, this.radius);\r\n            setPoint(bounds, { x: arcBounds.left, y: arcBounds.top });\r\n            setPoint(bounds, { x: arcBounds.right, y: arcBounds.bottom });\r\n        }\r\n    });\r\n    return Arc;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar ArcTo = /** @class */ (function (_super) {\r\n    __extends(ArcTo, _super);\r\n    function ArcTo(x1, y1, x2, y2, radius) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x1\r\n        });\r\n        Object.defineProperty(_this, \"y1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y1\r\n        });\r\n        Object.defineProperty(_this, \"x2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x2\r\n        });\r\n        Object.defineProperty(_this, \"y2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y2\r\n        });\r\n        Object.defineProperty(_this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: radius\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ArcTo.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            if (this.radius > 0) {\r\n                context.arcTo(this.x1, this.y1, this.x2, this.y2, this.radius);\r\n            }\r\n        }\r\n    });\r\n    // TODO: add points\r\n    Object.defineProperty(ArcTo.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_bounds) {\r\n            /*\r\n            // not finished\r\n            https://math.stackexchange.com/questions/1781438/finding-the-center-of-a-circle-given-two-points-and-a-radius-algebraically\r\n    \r\n            if (prevPoint) {\r\n                let x1 = prevPoint.x;\r\n                let y1 = prevPoint.y;\r\n                let x2 = this.x2;\r\n                let y2 = this.y2;\r\n                let r = this.radius;\r\n    \r\n                let xa = (x2 - x1) / 2;\r\n                let ya = (y2 - y1) / 2;\r\n    \r\n                let x0 = x1 + xa;\r\n                let y0 = y1 + ya;\r\n    \r\n                let a = Math.hypot(xa, ya);\r\n                let b = Math.sqrt(r * r - a * a);\r\n    \r\n                let cx = x0 + b * ya / a;\r\n                let cy = y0 - b * xa / a;\r\n    \r\n                console.log(cx, cy);\r\n            }*/\r\n        }\r\n    });\r\n    return ArcTo;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar LineTo = /** @class */ (function (_super) {\r\n    __extends(LineTo, _super);\r\n    function LineTo(x, y) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LineTo.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.lineTo(this.x, this.y);\r\n        }\r\n    });\r\n    Object.defineProperty(LineTo.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.x, y: this.y });\r\n        }\r\n    });\r\n    return LineTo;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar MoveTo = /** @class */ (function (_super) {\r\n    __extends(MoveTo, _super);\r\n    function MoveTo(x, y) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: x\r\n        });\r\n        Object.defineProperty(_this, \"y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: y\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MoveTo.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.moveTo(this.x, this.y);\r\n        }\r\n    });\r\n    Object.defineProperty(MoveTo.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.x, y: this.y });\r\n        }\r\n    });\r\n    return MoveTo;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar ClosePath = /** @class */ (function (_super) {\r\n    __extends(ClosePath, _super);\r\n    function ClosePath() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(ClosePath.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.closePath();\r\n        }\r\n    });\r\n    return ClosePath;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar BezierCurveTo = /** @class */ (function (_super) {\r\n    __extends(BezierCurveTo, _super);\r\n    function BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(_this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(_this, \"cpX2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX2\r\n        });\r\n        Object.defineProperty(_this, \"cpY2\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY2\r\n        });\r\n        Object.defineProperty(_this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(_this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BezierCurveTo.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.bezierCurveTo(this.cpX, this.cpY, this.cpX2, this.cpY2, this.toX, this.toY);\r\n        }\r\n    });\r\n    // TODO: OK?\r\n    Object.defineProperty(BezierCurveTo.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n            setPoint(bounds, { x: this.cpX2, y: this.cpY2 });\r\n            setPoint(bounds, { x: this.toX, y: this.toY });\r\n        }\r\n    });\r\n    return BezierCurveTo;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar QuadraticCurveTo = /** @class */ (function (_super) {\r\n    __extends(QuadraticCurveTo, _super);\r\n    function QuadraticCurveTo(cpX, cpY, toX, toY) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"cpX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpX\r\n        });\r\n        Object.defineProperty(_this, \"cpY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: cpY\r\n        });\r\n        Object.defineProperty(_this, \"toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toX\r\n        });\r\n        Object.defineProperty(_this, \"toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: toY\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(QuadraticCurveTo.prototype, \"path\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.quadraticCurveTo(this.cpX, this.cpY, this.toX, this.toY);\r\n        }\r\n    });\r\n    // TODO: OK?\r\n    Object.defineProperty(QuadraticCurveTo.prototype, \"addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            setPoint(bounds, { x: this.cpX, y: this.cpY });\r\n            setPoint(bounds, { x: this.toX, y: this.toY });\r\n        }\r\n    });\r\n    return QuadraticCurveTo;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar Shadow = /** @class */ (function (_super) {\r\n    __extends(Shadow, _super);\r\n    function Shadow(color, blur, offsetX, offsetY, opacity) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"color\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: color\r\n        });\r\n        Object.defineProperty(_this, \"blur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: blur\r\n        });\r\n        Object.defineProperty(_this, \"offsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetX\r\n        });\r\n        Object.defineProperty(_this, \"offsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: offsetY\r\n        });\r\n        Object.defineProperty(_this, \"opacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: opacity\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Shadow.prototype, \"colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, _forceColor) {\r\n            if (this.opacity) {\r\n                context.fillStyle = this.color;\r\n            }\r\n            context.shadowColor = this.color;\r\n            context.shadowBlur = this.blur;\r\n            context.shadowOffsetX = this.offsetX;\r\n            context.shadowOffsetY = this.offsetY;\r\n        }\r\n    });\r\n    return Shadow;\r\n}(Op));\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasGraphics = /** @class */ (function (_super) {\r\n    __extends(CanvasGraphics, _super);\r\n    function CanvasGraphics() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_operations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"blendMode\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: BlendMode.NORMAL\r\n        });\r\n        Object.defineProperty(_this, \"_hasShadows\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_fillAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_strokeAlpha\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasGraphics.prototype, \"clear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.clear.call(this);\r\n            this._operations.length = 0;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"_pushOp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (op) {\r\n            this._operations.push(op);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"beginFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, alpha) {\r\n            if (alpha === void 0) { alpha = 1; }\r\n            this._fillAlpha = alpha;\r\n            if (color) {\r\n                if (color instanceof Color) {\r\n                    this._pushOp(new BeginFill(color.toCSS(alpha)));\r\n                }\r\n                else {\r\n                    this.isMeasured = true;\r\n                    this._pushOp(new BeginFill(color));\r\n                }\r\n            }\r\n            else {\r\n                this._pushOp(new BeginFill(\"rgba(0, 0, 0, \" + alpha + \")\"));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"endFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._pushOp(new EndFill(this._hasShadows));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"endStroke\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._pushOp(new EndStroke());\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"lineStyle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (width, color, alpha) {\r\n            if (width === void 0) { width = 0; }\r\n            if (alpha === void 0) { alpha = 1; }\r\n            this._strokeAlpha = alpha;\r\n            if (color) {\r\n                if (color instanceof Color) {\r\n                    this._pushOp(new LineStyle(width, color.toCSS(alpha)));\r\n                }\r\n                else {\r\n                    this._pushOp(new LineStyle(width, color));\r\n                }\r\n            }\r\n            else {\r\n                this._pushOp(new LineStyle(width, \"rgba(0, 0, 0, \" + alpha + \")\"));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"setLineDash\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dash) {\r\n            this._pushOp(new LineDash(dash ? dash : []));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"setLineDashOffset\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dashOffset) {\r\n            if (dashOffset === void 0) { dashOffset = 0; }\r\n            this._pushOp(new LineDashOffset(dashOffset));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"drawRect\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y, width, height) {\r\n            this._pushOp(new DrawRect(x, y, width, height));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"drawCircle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y, radius) {\r\n            this._pushOp(new DrawCircle(x, y, radius));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"drawEllipse\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y, radiusX, radiusY) {\r\n            this._pushOp(new DrawEllipse(x, y, radiusX, radiusY));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"arc\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cx, cy, radius, startAngle, endAngle, anticlockwise) {\r\n            if (anticlockwise === void 0) { anticlockwise = false; }\r\n            this._pushOp(new Arc(cx, cy, radius, startAngle, endAngle, anticlockwise));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"arcTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x1, y1, x2, y2, radius) {\r\n            this._pushOp(new ArcTo(x1, y1, x2, y2, radius));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"lineTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y) {\r\n            this._pushOp(new LineTo(x, y));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"moveTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y) {\r\n            this._pushOp(new MoveTo(x, y));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"bezierCurveTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cpX, cpY, cpX2, cpY2, toX, toY) {\r\n            this._pushOp(new BezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"quadraticCurveTo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cpX, cpY, toX, toY) {\r\n            this._pushOp(new QuadraticCurveTo(cpX, cpY, toX, toY));\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"closePath\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._pushOp(new ClosePath());\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"shadow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (color, blur, offsetX, offsetY, opacity) {\r\n            if (blur === void 0) { blur = 0; }\r\n            if (offsetX === void 0) { offsetX = 0; }\r\n            if (offsetY === void 0) { offsetY = 0; }\r\n            this._hasShadows = true;\r\n            this._pushOp(new Shadow(opacity ? color.toCSS(opacity) : color.toCSS(this._fillAlpha || this._strokeAlpha), blur, offsetX, offsetY));\r\n        }\r\n    });\r\n    // https://svgwg.org/svg2-draft/paths.html#DProperty\r\n    // TODO better error checking\r\n    Object.defineProperty(CanvasGraphics.prototype, \"svgPath\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (path) {\r\n            var _this = this;\r\n            var x = 0;\r\n            var y = 0;\r\n            var cpx = null;\r\n            var cpy = null;\r\n            var qcpx = null;\r\n            var qcpy = null;\r\n            var SEGMENTS_REGEXP = /([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g;\r\n            var ARGS_REGEXP = /[\\u0009\\u0020\\u000A\\u000C\\u000D]*([\\+\\-]?[0-9]*\\.?[0-9]+(?:[eE][\\+\\-]?[0-9]+)?)[\\u0009\\u0020\\u000A\\u000C\\u000D]*,?/g;\r\n            var match;\r\n            while ((match = SEGMENTS_REGEXP.exec(path)) !== null) {\r\n                var name_1 = match[1];\r\n                var rest = match[2];\r\n                var args = [];\r\n                while ((match = ARGS_REGEXP.exec(rest)) !== null) {\r\n                    args.push(+match[1]);\r\n                }\r\n                // Reset control point\r\n                if (name_1 !== \"S\" && name_1 !== \"s\" && name_1 !== \"C\" && name_1 !== \"c\") {\r\n                    cpx = null;\r\n                    cpy = null;\r\n                }\r\n                // Reset control point\r\n                if (name_1 !== \"Q\" && name_1 !== \"q\" && name_1 !== \"T\" && name_1 !== \"t\") {\r\n                    qcpx = null;\r\n                    qcpy = null;\r\n                }\r\n                switch (name_1) {\r\n                    case \"M\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        x = args[0];\r\n                        y = args[1];\r\n                        this.moveTo(x, y);\r\n                        for (var i = 2; i < args.length; i += 2) {\r\n                            x = args[i];\r\n                            y = args[i + 1];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"m\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        x += args[0];\r\n                        y += args[1];\r\n                        this.moveTo(x, y);\r\n                        for (var i = 2; i < args.length; i += 2) {\r\n                            x += args[i];\r\n                            y += args[i + 1];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"L\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        for (var i = 0; i < args.length; i += 2) {\r\n                            x = args[i];\r\n                            y = args[i + 1];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"l\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        for (var i = 0; i < args.length; i += 2) {\r\n                            x += args[i];\r\n                            y += args[i + 1];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"H\":\r\n                        checkMinArgs(name_1, args.length, 1);\r\n                        for (var i = 0; i < args.length; ++i) {\r\n                            x = args[i];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"h\":\r\n                        checkMinArgs(name_1, args.length, 1);\r\n                        for (var i = 0; i < args.length; ++i) {\r\n                            x += args[i];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"V\":\r\n                        checkMinArgs(name_1, args.length, 1);\r\n                        for (var i = 0; i < args.length; ++i) {\r\n                            y = args[i];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"v\":\r\n                        checkMinArgs(name_1, args.length, 1);\r\n                        for (var i = 0; i < args.length; ++i) {\r\n                            y += args[i];\r\n                            this.lineTo(x, y);\r\n                        }\r\n                        break;\r\n                    case \"C\":\r\n                        checkEvenArgs(name_1, args.length, 6);\r\n                        for (var i = 0; i < args.length; i += 6) {\r\n                            var x1 = args[i];\r\n                            var y1 = args[i + 1];\r\n                            cpx = args[i + 2];\r\n                            cpy = args[i + 3];\r\n                            x = args[i + 4];\r\n                            y = args[i + 5];\r\n                            this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"c\":\r\n                        checkEvenArgs(name_1, args.length, 6);\r\n                        for (var i = 0; i < args.length; i += 6) {\r\n                            var x1 = args[i] + x;\r\n                            var y1 = args[i + 1] + y;\r\n                            cpx = args[i + 2] + x;\r\n                            cpy = args[i + 3] + y;\r\n                            x += args[i + 4];\r\n                            y += args[i + 5];\r\n                            this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"S\":\r\n                        checkEvenArgs(name_1, args.length, 4);\r\n                        if (cpx === null || cpy === null) {\r\n                            cpx = x;\r\n                            cpy = y;\r\n                        }\r\n                        for (var i = 0; i < args.length; i += 4) {\r\n                            var x1 = 2 * x - cpx;\r\n                            var y1 = 2 * y - cpy;\r\n                            cpx = args[i];\r\n                            cpy = args[i + 1];\r\n                            x = args[i + 2];\r\n                            y = args[i + 3];\r\n                            this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"s\":\r\n                        checkEvenArgs(name_1, args.length, 4);\r\n                        if (cpx === null || cpy === null) {\r\n                            cpx = x;\r\n                            cpy = y;\r\n                        }\r\n                        for (var i = 0; i < args.length; i += 4) {\r\n                            var x1 = 2 * x - cpx;\r\n                            var y1 = 2 * y - cpy;\r\n                            cpx = args[i] + x;\r\n                            cpy = args[i + 1] + y;\r\n                            x += args[i + 2];\r\n                            y += args[i + 3];\r\n                            this.bezierCurveTo(x1, y1, cpx, cpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"Q\":\r\n                        checkEvenArgs(name_1, args.length, 4);\r\n                        for (var i = 0; i < args.length; i += 4) {\r\n                            qcpx = args[i];\r\n                            qcpy = args[i + 1];\r\n                            x = args[i + 2];\r\n                            y = args[i + 3];\r\n                            this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"q\":\r\n                        checkEvenArgs(name_1, args.length, 4);\r\n                        for (var i = 0; i < args.length; i += 4) {\r\n                            qcpx = args[i] + x;\r\n                            qcpy = args[i + 1] + y;\r\n                            x += args[i + 2];\r\n                            y += args[i + 3];\r\n                            this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"T\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        if (qcpx === null || qcpy === null) {\r\n                            qcpx = x;\r\n                            qcpy = y;\r\n                        }\r\n                        for (var i = 0; i < args.length; i += 2) {\r\n                            qcpx = 2 * x - qcpx;\r\n                            qcpy = 2 * y - qcpy;\r\n                            x = args[i];\r\n                            y = args[i + 1];\r\n                            this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"t\":\r\n                        checkEvenArgs(name_1, args.length, 2);\r\n                        if (qcpx === null || qcpy === null) {\r\n                            qcpx = x;\r\n                            qcpy = y;\r\n                        }\r\n                        for (var i = 0; i < args.length; i += 2) {\r\n                            qcpx = 2 * x - qcpx;\r\n                            qcpy = 2 * y - qcpy;\r\n                            x += args[i];\r\n                            y += args[i + 1];\r\n                            this.quadraticCurveTo(qcpx, qcpy, x, y);\r\n                        }\r\n                        break;\r\n                    case \"A\":\r\n                    case \"a\":\r\n                        var relative = (name_1 === \"a\");\r\n                        checkEvenArgs(name_1, args.length, 7);\r\n                        for (var i = 0; i < args.length; i += 7) {\r\n                            var cx = args[i + 5];\r\n                            var cy = args[i + 6];\r\n                            if (relative) {\r\n                                cx += x;\r\n                                cy += y;\r\n                            }\r\n                            var bs = arcToBezier({\r\n                                px: x,\r\n                                py: y,\r\n                                rx: args[i],\r\n                                ry: args[i + 1],\r\n                                xAxisRotation: args[i + 2],\r\n                                largeArcFlag: assertBinary(args[i + 3]),\r\n                                sweepFlag: assertBinary(args[i + 4]),\r\n                                cx: cx,\r\n                                cy: cy,\r\n                            });\r\n                            $array.each(bs, function (b) {\r\n                                _this.bezierCurveTo(b.x1, b.y1, b.x2, b.y2, b.x, b.y);\r\n                                x = b.x;\r\n                                y = b.y;\r\n                            });\r\n                        }\r\n                        break;\r\n                    case \"Z\":\r\n                    case \"z\":\r\n                        checkArgs(name_1, args.length, 0);\r\n                        this.closePath();\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"_runPath\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            context.beginPath();\r\n            $array.each(this._operations, function (op) {\r\n                op.path(context);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            _super.prototype._render.call(this, parentLayer);\r\n            var layer = this._layer || parentLayer;\r\n            var layerDirty = layer.dirty;\r\n            var interactive = this._isInteractive();\r\n            if (layerDirty || interactive) {\r\n                var context_1 = layer.context;\r\n                var ghostContext_1 = this._renderer._ghostContext;\r\n                if (layerDirty) {\r\n                    context_1.globalCompositeOperation = this.blendMode;\r\n                    context_1.beginPath();\r\n                }\r\n                var color_1;\r\n                if (interactive) {\r\n                    ghostContext_1.beginPath();\r\n                    color_1 = this._getColorId();\r\n                }\r\n                $array.each(this._operations, function (op) {\r\n                    if (layerDirty) {\r\n                        op.path(context_1);\r\n                        op.colorize(context_1, undefined);\r\n                    }\r\n                    if (interactive) {\r\n                        op.path(ghostContext_1);\r\n                        op.colorize(ghostContext_1, color_1);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"renderDetached\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            if (this.visible) {\r\n                this._setMatrix();\r\n                context.save();\r\n                // We must apply the mask before we transform the element\r\n                var mask = this.mask;\r\n                if (mask) {\r\n                    mask._setMatrix();\r\n                    mask._transform(context, 1);\r\n                    mask._runPath(context);\r\n                    context.clip();\r\n                }\r\n                // TODO handle compoundAlpha somehow ?\r\n                context.globalAlpha = this.compoundAlpha * this.alpha;\r\n                this._transform(context, 1);\r\n                if (this.filter) {\r\n                    context.filter = this.filter;\r\n                }\r\n                context.globalCompositeOperation = this.blendMode;\r\n                context.beginPath();\r\n                $array.each(this._operations, function (op) {\r\n                    op.path(context);\r\n                    op.colorize(context, undefined);\r\n                });\r\n                context.restore();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasGraphics.prototype, \"_addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            if (this.visible && this.isMeasured) {\r\n                $array.each(this._operations, function (op) {\r\n                    op.addBounds(bounds);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    return CanvasGraphics;\r\n}(CanvasDisplayObject));\r\nexport { CanvasGraphics };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasText = /** @class */ (function (_super) {\r\n    __extends(CanvasText, _super);\r\n    function CanvasText(renderer, text, style) {\r\n        var _this = _super.call(this, renderer) || this;\r\n        Object.defineProperty(_this, \"text\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"style\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_textInfo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_textVisible\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"_originalScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        _this.text = text;\r\n        _this.style = style;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasText.prototype, \"invalidateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.invalidateBounds.call(this);\r\n            this._textInfo = undefined;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_shared\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context) {\r\n            if (this.style.textAlign) {\r\n                context.textAlign = this.style.textAlign;\r\n            }\r\n            if (this.style.direction) {\r\n                context.direction = this.style.direction;\r\n            }\r\n            if (this.style.textBaseline) {\r\n                context.textBaseline = this.style.textBaseline;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_prerender\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (layer, ignoreGhost, ignoreFontWeight) {\r\n            if (ignoreGhost === void 0) { ignoreGhost = false; }\r\n            if (ignoreFontWeight === void 0) { ignoreFontWeight = false; }\r\n            _super.prototype._render.call(this, layer);\r\n            var context = layer.context;\r\n            var ghostContext = this._renderer._ghostContext;\r\n            // Font style\r\n            var style = this.style;\r\n            var fontStyle = this._getFontStyle(undefined, ignoreFontWeight);\r\n            context.font = fontStyle;\r\n            if (this._isInteractive() && !ignoreGhost) {\r\n                ghostContext.font = fontStyle;\r\n            }\r\n            // Other parameters\r\n            if (style.fill) {\r\n                if (style.fill instanceof Color) {\r\n                    context.fillStyle = style.fill.toCSS();\r\n                }\r\n                else {\r\n                    context.fillStyle = style.fill;\r\n                }\r\n            }\r\n            if (style.shadowColor) {\r\n                layer.context.shadowColor = style.shadowColor.toCSS(style.shadowOpacity || 1);\r\n            }\r\n            if (style.shadowBlur) {\r\n                layer.context.shadowBlur = style.shadowBlur;\r\n            }\r\n            if (style.shadowOffsetX) {\r\n                layer.context.shadowOffsetX = style.shadowOffsetX;\r\n            }\r\n            if (style.shadowOffsetY) {\r\n                layer.context.shadowOffsetY = style.shadowOffsetY;\r\n            }\r\n            this._shared(context);\r\n            if (this._isInteractive() && !ignoreGhost) {\r\n                ghostContext.fillStyle = this._getColorId();\r\n                this._shared(ghostContext);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_getFontStyle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (style2, ignoreFontWeight) {\r\n            if (ignoreFontWeight === void 0) { ignoreFontWeight = false; }\r\n            // Process defaults\r\n            var style = this.style;\r\n            var fontStyle = [];\r\n            if (style2 && style2.fontVariant) {\r\n                fontStyle.push(style2.fontVariant);\r\n            }\r\n            else if (style.fontVariant) {\r\n                fontStyle.push(style.fontVariant);\r\n            }\r\n            if (!ignoreFontWeight) {\r\n                if (style2 && style2.fontWeight) {\r\n                    fontStyle.push(style2.fontWeight);\r\n                }\r\n                else if (style.fontWeight) {\r\n                    fontStyle.push(style.fontWeight);\r\n                }\r\n            }\r\n            if (style2 && style2.fontStyle) {\r\n                fontStyle.push(style2.fontStyle);\r\n            }\r\n            else if (style.fontStyle) {\r\n                fontStyle.push(style.fontStyle);\r\n            }\r\n            if (style2 && style2.fontSize) {\r\n                if ($type.isNumber(style2.fontSize)) {\r\n                    style2.fontSize = style2.fontSize + \"px\";\r\n                }\r\n                fontStyle.push(style2.fontSize);\r\n            }\r\n            else if (style.fontSize) {\r\n                if ($type.isNumber(style.fontSize)) {\r\n                    style.fontSize = style.fontSize + \"px\";\r\n                }\r\n                fontStyle.push(style.fontSize);\r\n            }\r\n            if (style2 && style2.fontFamily) {\r\n                fontStyle.push(style2.fontFamily);\r\n            }\r\n            else if (style.fontFamily) {\r\n                fontStyle.push(style.fontFamily);\r\n            }\r\n            else if (fontStyle.length) {\r\n                fontStyle.push(\"Arial\");\r\n            }\r\n            return fontStyle.join(\" \");\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            var _this = this;\r\n            var layer = this._layer || parentLayer;\r\n            // We need measurements in order to properly position text for alignment\r\n            if (!this._textInfo) {\r\n                this._measure(layer);\r\n            }\r\n            if (this._textVisible) {\r\n                var interactive_1 = this._isInteractive();\r\n                var context_2 = layer.context;\r\n                var layerDirty_1 = layer.dirty;\r\n                var ghostContext_2 = this._renderer._ghostContext;\r\n                context_2.save();\r\n                ghostContext_2.save();\r\n                this._prerender(layer);\r\n                // const lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n                // const x = this._localBounds && (this._localBounds.left < 0) ? Math.abs(this._localBounds.left) : 0;\r\n                // Process text info produced by _measure()\r\n                $array.each(this._textInfo, function (line, _index) {\r\n                    $array.each(line.textChunks, function (chunk, _index) {\r\n                        // Set style\r\n                        if (chunk.style) {\r\n                            context_2.save();\r\n                            ghostContext_2.save();\r\n                            context_2.font = chunk.style;\r\n                            if (_this._isInteractive()) {\r\n                                ghostContext_2.font = chunk.style;\r\n                            }\r\n                        }\r\n                        if (chunk.fill) {\r\n                            context_2.save();\r\n                            context_2.fillStyle = chunk.fill.toCSS();\r\n                            // Color does not affect ghostContext so we not set it\r\n                        }\r\n                        // Draw text\r\n                        if (layerDirty_1) {\r\n                            context_2.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                        }\r\n                        // Draw underline\r\n                        if (chunk.textDecoration == \"underline\" || chunk.textDecoration == \"line-through\") {\r\n                            var thickness = 1;\r\n                            var offset = 1;\r\n                            var fontSize = chunk.height;\r\n                            var offsetX = chunk.offsetX;\r\n                            switch (_this.style.textAlign) {\r\n                                case \"right\":\r\n                                case \"end\":\r\n                                    offsetX -= chunk.width;\r\n                                    break;\r\n                                case \"center\":\r\n                                    offsetX -= chunk.width / 2;\r\n                                    break;\r\n                            }\r\n                            if (chunk.style) {\r\n                                var format = TextFormatter.getTextStyle(chunk.style);\r\n                                switch (format.fontWeight) {\r\n                                    case \"bolder\":\r\n                                    case \"bold\":\r\n                                    case \"700\":\r\n                                    case \"800\":\r\n                                    case \"900\":\r\n                                        thickness = 2;\r\n                                        break;\r\n                                }\r\n                            }\r\n                            if (fontSize) {\r\n                                offset = fontSize / 20;\r\n                            }\r\n                            var y = void 0;\r\n                            if (chunk.textDecoration == \"line-through\") {\r\n                                y = thickness + line.offsetY + chunk.offsetY - chunk.height / 2;\r\n                            }\r\n                            else {\r\n                                y = thickness + offset * 1.5 + line.offsetY + chunk.offsetY;\r\n                            }\r\n                            context_2.save();\r\n                            context_2.beginPath();\r\n                            if (chunk.fill) {\r\n                                context_2.strokeStyle = chunk.fill.toCSS();\r\n                            }\r\n                            else if (_this.style.fill && _this.style.fill instanceof Color) {\r\n                                context_2.strokeStyle = _this.style.fill.toCSS();\r\n                            }\r\n                            context_2.lineWidth = thickness * offset;\r\n                            context_2.moveTo(offsetX, y);\r\n                            context_2.lineTo(offsetX + chunk.width, y);\r\n                            context_2.stroke();\r\n                            context_2.restore();\r\n                        }\r\n                        if (interactive_1 && _this.interactive) {\r\n                            // Draw text in ghost canvas ONLY if it is set as interactive\r\n                            // explicitly. This way we avoid hit test anomalies caused by anti\r\n                            // aliasing of text.\r\n                            ghostContext_2.fillText(chunk.text, chunk.offsetX, line.offsetY + chunk.offsetY);\r\n                        }\r\n                        if (chunk.fill) {\r\n                            context_2.restore();\r\n                            // Color does not affect ghostContext so we not set it\r\n                        }\r\n                        // Reset style\r\n                        if (chunk.style) {\r\n                            context_2.restore();\r\n                            ghostContext_2.restore();\r\n                        }\r\n                    });\r\n                });\r\n                context_2.restore();\r\n                ghostContext_2.restore();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_addBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            if (this.visible && this.isMeasured) {\r\n                //if (this._textVisible) {\r\n                var x = this._measure(this.getLayer());\r\n                setPoint(bounds, { x: x.left, y: x.top });\r\n                setPoint(bounds, { x: x.right, y: x.bottom });\r\n                //}\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_measure\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (layer) {\r\n            var _this = this;\r\n            var context = layer.context;\r\n            var ghostContext = this._renderer._ghostContext;\r\n            var rtl = this.style.direction == \"rtl\";\r\n            // Reset text info\r\n            this._textInfo = [];\r\n            // Init\r\n            var oversizedBehavior = this.style.oversizedBehavior;\r\n            var maxWidth = this.style.maxWidth;\r\n            var truncate = $type.isNumber(maxWidth) && oversizedBehavior == \"truncate\";\r\n            var wrap = $type.isNumber(maxWidth) && oversizedBehavior == \"wrap\";\r\n            // Pre-render\r\n            context.save();\r\n            ghostContext.save();\r\n            this._prerender(layer, true, true);\r\n            // Get default font metrix\r\n            var refText = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 \";\r\n            // Split up text into lines\r\n            var lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n            var styleRestored = true;\r\n            var minX = 0;\r\n            var maxX = 0;\r\n            // Iterate through the lines\r\n            var offsetY = 0;\r\n            var currentStyle;\r\n            $array.each(lines, function (line, _index) {\r\n                // Split up line into format/value chunks\r\n                var chunks;\r\n                if (line == \"\") {\r\n                    chunks = [{\r\n                            type: \"value\",\r\n                            text: \"\"\r\n                        }];\r\n                }\r\n                else {\r\n                    chunks = TextFormatter.chunk(line, false, _this.style.ignoreFormatting);\r\n                }\r\n                var _loop_1 = function () {\r\n                    // Init line object\r\n                    var lineInfo = {\r\n                        offsetY: offsetY,\r\n                        ascent: 0,\r\n                        width: 0,\r\n                        height: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        textChunks: []\r\n                    };\r\n                    // Measure reference text\r\n                    var metrics = _this._measureText(refText, context);\r\n                    var height = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                    lineInfo.height = height;\r\n                    lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                    var currentFormat;\r\n                    var currentDecoration = _this.style.textDecoration;\r\n                    var currentFill;\r\n                    var currentChunkWidth;\r\n                    var skipFurtherText = false;\r\n                    var firstTextChunk = true;\r\n                    var leftoverChunks = [];\r\n                    var currentVerticalAlign;\r\n                    //let offsetX = 0;\r\n                    //let chunk;\r\n                    //while(chunk = chunks.shift()) {\r\n                    $array.eachContinue(chunks, function (chunk, index) {\r\n                        // Format chunk\r\n                        if (chunk.type == \"format\") {\r\n                            if (chunk.text == \"[/]\") {\r\n                                if (!styleRestored) {\r\n                                    context.restore();\r\n                                    ghostContext.restore();\r\n                                    styleRestored = true;\r\n                                }\r\n                                currentFill = undefined;\r\n                                currentStyle = undefined;\r\n                                currentChunkWidth = undefined;\r\n                                currentDecoration = _this.style.textDecoration;\r\n                                currentVerticalAlign = undefined;\r\n                                currentFormat = chunk.text;\r\n                            }\r\n                            else {\r\n                                if (!styleRestored) {\r\n                                    context.restore();\r\n                                    ghostContext.restore();\r\n                                }\r\n                                var format = TextFormatter.getTextStyle(chunk.text);\r\n                                var fontStyle = _this._getFontStyle(format);\r\n                                context.save();\r\n                                ghostContext.save();\r\n                                context.font = fontStyle;\r\n                                currentStyle = fontStyle;\r\n                                currentFormat = chunk.text;\r\n                                if (format.textDecoration) {\r\n                                    currentDecoration = format.textDecoration;\r\n                                }\r\n                                if (format.fill) {\r\n                                    currentFill = format.fill;\r\n                                }\r\n                                if (format.width) {\r\n                                    currentChunkWidth = $type.toNumber(format.width);\r\n                                }\r\n                                if (format.verticalAlign) {\r\n                                    currentVerticalAlign = format.verticalAlign;\r\n                                }\r\n                                styleRestored = false;\r\n                                // Measure reference text after change of format\r\n                                var metrics_1 = _this._measureText(refText, context);\r\n                                var height_1 = metrics_1.actualBoundingBoxAscent + metrics_1.actualBoundingBoxDescent;\r\n                                if (height_1 > lineInfo.height) {\r\n                                    lineInfo.height = height_1;\r\n                                }\r\n                                if (metrics_1.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                                    lineInfo.ascent = metrics_1.actualBoundingBoxAscent;\r\n                                }\r\n                            }\r\n                        }\r\n                        // Text chunk\r\n                        else if (chunk.type == \"value\" && !skipFurtherText) {\r\n                            // Measure\r\n                            var metrics_2 = _this._measureText(chunk.text, context);\r\n                            var chunkWidth = metrics_2.actualBoundingBoxLeft + metrics_2.actualBoundingBoxRight;\r\n                            // Check for fit\r\n                            if (truncate) {\r\n                                // Break words?\r\n                                var breakWords = firstTextChunk || _this.style.breakWords || false;\r\n                                // Measure ellipsis and check if it fits\r\n                                var ellipsis = _this.style.ellipsis || \"\";\r\n                                var ellipsisMetrics = _this._measureText(ellipsis, context);\r\n                                var ellipsisWidth = ellipsisMetrics.actualBoundingBoxLeft + ellipsisMetrics.actualBoundingBoxRight;\r\n                                // Check fit\r\n                                if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                    var excessWidth = maxWidth - lineInfo.width - ellipsisWidth;\r\n                                    chunk.text = _this._truncateText(context, chunk.text, excessWidth, breakWords);\r\n                                    chunk.text += ellipsis;\r\n                                    skipFurtherText = true;\r\n                                }\r\n                            }\r\n                            else if (wrap) {\r\n                                // Check fit\r\n                                if ((lineInfo.width + chunkWidth) > maxWidth) {\r\n                                    var excessWidth = maxWidth - lineInfo.width;\r\n                                    var tmpText = _this._truncateText(context, chunk.text, excessWidth, false, firstTextChunk);\r\n                                    if (tmpText == \"\") {\r\n                                        // Unable to fit a single letter - hide the whole label\r\n                                        _this._textVisible = true;\r\n                                        return false;\r\n                                    }\r\n                                    //skipFurtherText = true;\r\n                                    //Add remaining chunks for the next line\r\n                                    leftoverChunks = chunks.slice(index + 1);\r\n                                    //Add remaining text of current chunk if it was forced-cut\r\n                                    if ($utils.trim(tmpText) != $utils.trim(chunk.text)) {\r\n                                        leftoverChunks.unshift({\r\n                                            type: \"value\",\r\n                                            text: chunk.text.substr(tmpText.length)\r\n                                        });\r\n                                        if (currentFormat) {\r\n                                            leftoverChunks.unshift({\r\n                                                type: \"format\",\r\n                                                text: currentFormat\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                    // Set current chunk (truncated)\r\n                                    chunk.text = $utils.trim(tmpText);\r\n                                    chunks = [];\r\n                                    skipFurtherText = true;\r\n                                }\r\n                            }\r\n                            // Chunk width?\r\n                            var leftBoundMod = 1;\r\n                            var rightBoundMod = 1;\r\n                            if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                                // increase horizontal bounding boxes accordingly\r\n                                var boundsMod = chunkWidth / currentChunkWidth;\r\n                                switch (_this.style.textAlign) {\r\n                                    case \"right\":\r\n                                    case \"end\":\r\n                                        leftBoundMod = boundsMod;\r\n                                        break;\r\n                                    case \"center\":\r\n                                        leftBoundMod = boundsMod;\r\n                                        rightBoundMod = boundsMod;\r\n                                        break;\r\n                                    default:\r\n                                        rightBoundMod = boundsMod;\r\n                                }\r\n                                chunkWidth = currentChunkWidth;\r\n                            }\r\n                            var chunkHeight = metrics_2.actualBoundingBoxAscent + metrics_2.actualBoundingBoxDescent;\r\n                            if (chunkHeight > lineInfo.height) {\r\n                                lineInfo.height = chunkHeight;\r\n                            }\r\n                            if (metrics_2.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                                lineInfo.ascent = metrics_2.actualBoundingBoxAscent;\r\n                            }\r\n                            lineInfo.width += chunkWidth;\r\n                            lineInfo.left += metrics_2.actualBoundingBoxLeft / leftBoundMod;\r\n                            lineInfo.right += metrics_2.actualBoundingBoxRight / rightBoundMod;\r\n                            lineInfo.textChunks.push({\r\n                                style: currentStyle,\r\n                                fill: currentFill,\r\n                                text: chunk.text,\r\n                                width: chunkWidth,\r\n                                height: chunkHeight,\r\n                                left: metrics_2.actualBoundingBoxLeft,\r\n                                right: metrics_2.actualBoundingBoxRight,\r\n                                ascent: metrics_2.actualBoundingBoxAscent,\r\n                                offsetX: 0,\r\n                                offsetY: 0,\r\n                                textDecoration: currentDecoration,\r\n                                verticalAlign: currentVerticalAlign\r\n                            });\r\n                            //offsetX += chunkWidth;\r\n                            firstTextChunk = false;\r\n                        }\r\n                        if (leftoverChunks) {\r\n                            //return false;\r\n                        }\r\n                        return true;\r\n                        //}\r\n                    });\r\n                    if (_this.style.lineHeight instanceof Percent) {\r\n                        lineInfo.height *= _this.style.lineHeight.value;\r\n                        lineInfo.ascent *= _this.style.lineHeight.value;\r\n                    }\r\n                    else {\r\n                        lineInfo.height *= _this.style.lineHeight || 1.2;\r\n                        lineInfo.ascent *= _this.style.lineHeight || 1.2;\r\n                    }\r\n                    if (minX < lineInfo.left) {\r\n                        minX = lineInfo.left;\r\n                    }\r\n                    if (maxX < lineInfo.right) {\r\n                        maxX = lineInfo.right;\r\n                    }\r\n                    _this._textInfo.push(lineInfo);\r\n                    //lineInfo.offsetY += lineInfo.ascent;\r\n                    offsetY += lineInfo.height;\r\n                    // Reset chunks so that it can proceed to the next line\r\n                    chunks = leftoverChunks || [];\r\n                };\r\n                while (chunks.length > 0) {\r\n                    _loop_1();\r\n                }\r\n            });\r\n            if (!styleRestored) {\r\n                context.restore();\r\n                ghostContext.restore();\r\n            }\r\n            // Adjust chunk internal offsets\r\n            $array.each(this._textInfo, function (lineInfo, _index) {\r\n                var currentChunkOffset = 0;\r\n                $array.each(lineInfo.textChunks, function (chunk) {\r\n                    chunk.offsetX = currentChunkOffset + chunk.left - lineInfo.left;\r\n                    chunk.offsetY += lineInfo.height - lineInfo.height * (_this.style.baselineRatio || 0.19);\r\n                    currentChunkOffset += chunk.width;\r\n                    if (chunk.verticalAlign) {\r\n                        switch (chunk.verticalAlign) {\r\n                            case \"super\":\r\n                                chunk.offsetY -= lineInfo.height / 2 - chunk.height / 2;\r\n                                break;\r\n                            case \"sub\":\r\n                                chunk.offsetY += chunk.height / 2;\r\n                                break;\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n            var bounds = {\r\n                left: rtl ? -maxX : -minX,\r\n                top: 0,\r\n                right: rtl ? minX : maxX,\r\n                bottom: offsetY,\r\n            };\r\n            // We need to fit?\r\n            if (oversizedBehavior !== \"none\") {\r\n                var ratio = this._fitRatio(bounds);\r\n                if (ratio < 1) {\r\n                    if (oversizedBehavior == \"fit\") {\r\n                        if ($type.isNumber(this.style.minScale) && (ratio < this.style.minScale)) {\r\n                            this._textVisible = false;\r\n                        }\r\n                        else {\r\n                            if (!this._originalScale || this._originalScale == 1) {\r\n                                this._originalScale = this.scale;\r\n                            }\r\n                            this.scale = ratio;\r\n                            this._textVisible = true;\r\n                        }\r\n                    }\r\n                    else if (oversizedBehavior == \"hide\") {\r\n                        this._textVisible = false;\r\n                    }\r\n                    else {\r\n                        switch (this.style.textAlign) {\r\n                            case \"right\":\r\n                            case \"end\":\r\n                                bounds.left = -maxWidth;\r\n                                bounds.right = 0;\r\n                                break;\r\n                            case \"center\":\r\n                                bounds.left = -maxWidth / 2;\r\n                                bounds.right = maxWidth / 2;\r\n                                break;\r\n                            default:\r\n                                bounds.left = 0;\r\n                                bounds.right = maxWidth;\r\n                        }\r\n                        this.scale = this._originalScale || 1;\r\n                        this._originalScale = undefined;\r\n                        this._textVisible = true;\r\n                    }\r\n                }\r\n                else {\r\n                    this.scale = this._originalScale || 1;\r\n                    this._originalScale = undefined;\r\n                    this._textVisible = true;\r\n                }\r\n            }\r\n            context.restore();\r\n            ghostContext.restore();\r\n            return bounds;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_fitRatio\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bounds) {\r\n            var maxW = this.style.maxWidth;\r\n            var maxH = this.style.maxHeight;\r\n            if (!$type.isNumber(maxW) && !$type.isNumber(maxH)) {\r\n                return 1;\r\n            }\r\n            var w = bounds.right - bounds.left;\r\n            var h = bounds.bottom - bounds.top;\r\n            return Math.min(maxW / w || 1, maxH / h || 1);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_truncateText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (context, text, maxWidth, breakWords, fallbackBreakWords) {\r\n            if (breakWords === void 0) { breakWords = false; }\r\n            if (fallbackBreakWords === void 0) { fallbackBreakWords = true; }\r\n            var width;\r\n            do {\r\n                if (breakWords) {\r\n                    text = text.slice(0, -1);\r\n                }\r\n                else {\r\n                    var tmp = text.replace(/[^,;:!?\\\\\\/\\s]+[,;:!?\\\\\\/\\s]*$/g, \"\");\r\n                    if (tmp == \"\" && fallbackBreakWords) {\r\n                        breakWords = true;\r\n                    }\r\n                    else {\r\n                        text = tmp;\r\n                    }\r\n                }\r\n                var metrics = this._measureText(text, context);\r\n                width = metrics.actualBoundingBoxLeft + metrics.actualBoundingBoxRight;\r\n            } while ((width > maxWidth) && text != \"\");\r\n            return text;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasText.prototype, \"_measureText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text, context) {\r\n            var metrics = context.measureText(text);\r\n            var fakeMetrics = {};\r\n            if (metrics.actualBoundingBoxAscent == null) {\r\n                var div = document.createElement(\"div\");\r\n                div.innerText = text;\r\n                div.style.visibility = \"hidden\";\r\n                div.style.position = \"absolute\";\r\n                div.style.top = \"-1000000px;\";\r\n                div.style.fontFamily = this.style.fontFamily || \"\";\r\n                div.style.fontSize = this.style.fontSize + \"\";\r\n                document.body.appendChild(div);\r\n                var bbox = div.getBoundingClientRect();\r\n                document.body.removeChild(div);\r\n                var h = bbox.height;\r\n                var w_1 = metrics.width;\r\n                var left = 0;\r\n                var right = w_1;\r\n                fakeMetrics = {\r\n                    actualBoundingBoxAscent: h,\r\n                    actualBoundingBoxDescent: 0,\r\n                    actualBoundingBoxLeft: left,\r\n                    actualBoundingBoxRight: right,\r\n                    fontBoundingBoxAscent: h,\r\n                    fontBoundingBoxDescent: 0,\r\n                    width: w_1\r\n                };\r\n                //return fake;\r\n            }\r\n            else {\r\n                fakeMetrics = {\r\n                    actualBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                    actualBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                    actualBoundingBoxLeft: metrics.actualBoundingBoxLeft,\r\n                    actualBoundingBoxRight: metrics.actualBoundingBoxRight,\r\n                    fontBoundingBoxAscent: metrics.actualBoundingBoxAscent,\r\n                    fontBoundingBoxDescent: metrics.actualBoundingBoxDescent,\r\n                    width: metrics.width\r\n                };\r\n            }\r\n            var w = metrics.width;\r\n            switch (this.style.textAlign) {\r\n                case \"right\":\r\n                case \"end\":\r\n                    fakeMetrics.actualBoundingBoxLeft = w;\r\n                    fakeMetrics.actualBoundingBoxRight = 0;\r\n                    break;\r\n                case \"center\":\r\n                    fakeMetrics.actualBoundingBoxLeft = w / 2;\r\n                    fakeMetrics.actualBoundingBoxRight = w / 2;\r\n                    break;\r\n                default:\r\n                    fakeMetrics.actualBoundingBoxLeft = 0;\r\n                    fakeMetrics.actualBoundingBoxRight = w;\r\n            }\r\n            return fakeMetrics;\r\n        }\r\n    });\r\n    return CanvasText;\r\n}(CanvasDisplayObject));\r\nexport { CanvasText };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasTextStyle = /** @class */ (function () {\r\n    function CanvasTextStyle() {\r\n        //public wordWrapWidth: number = 100;\r\n        Object.defineProperty(this, \"fill\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textAlign\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontFamily\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontWeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontStyle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"fontVariant\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textDecoration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // leading?: number;\r\n        // letterSpacing?: number;\r\n        Object.defineProperty(this, \"lineHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: percent(120)\r\n        });\r\n        Object.defineProperty(this, \"baselineRatio\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0.19\r\n        });\r\n        // padding?: number;\r\n        // stroke?: number;\r\n        // strokeThickness?: number;\r\n        // trim?: number;\r\n        // wordWrap?: boolean;\r\n        Object.defineProperty(this, \"direction\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"textBaseline\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"oversizedBehavior\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"none\"\r\n        });\r\n        Object.defineProperty(this, \"breakWords\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"ellipsis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"\"\r\n        });\r\n        Object.defineProperty(this, \"maxWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"maxHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"minScale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"ignoreFormatting\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n    }\r\n    return CanvasTextStyle;\r\n}());\r\nexport { CanvasTextStyle };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasRadialText = /** @class */ (function (_super) {\r\n    __extends(CanvasRadialText, _super);\r\n    function CanvasRadialText() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"textType\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"circular\"\r\n        });\r\n        Object.defineProperty(_this, \"radius\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"startAngle\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"inside\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"orientation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"auto\"\r\n        });\r\n        Object.defineProperty(_this, \"kerning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_textReversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasRadialText.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            switch (this.textType) {\r\n                case \"circular\":\r\n                    this._renderCircular(parentLayer);\r\n                    break;\r\n                default:\r\n                    _super.prototype._render.call(this, parentLayer);\r\n                    break;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRadialText.prototype, \"_renderCircular\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            var layer = this._layer || parentLayer;\r\n            this._prerender(layer);\r\n            var interactive = this._isInteractive();\r\n            var context = layer.context;\r\n            var layerDirty = layer.dirty;\r\n            var ghostContext = this._renderer._ghostContext;\r\n            // Savepoint\r\n            context.save();\r\n            if (interactive) {\r\n                ghostContext.save();\r\n            }\r\n            // Init\r\n            var radius = (this.radius || 0);\r\n            var startAngle = (this.startAngle || 0);\r\n            var deltaAngle = 0;\r\n            var orientation = this.orientation;\r\n            var inward = orientation == \"auto\" ? \"auto\" : orientation == \"inward\";\r\n            var inside = this.inside;\r\n            var align = this.style.textAlign || \"left\";\r\n            var kerning = this.kerning || 0;\r\n            var clockwise = align == \"left\" ? 1 : -1;\r\n            var shouldReverse = !this._textReversed;\r\n            // We need measurements in order to properly position text for alignment\r\n            if (!this._textInfo) {\r\n                this._measure(layer);\r\n            }\r\n            // Check if we need to invert the whole stuff\r\n            if (inward == \"auto\") {\r\n                // Calc max angle so we know whether we need to flip it\r\n                var maxAngle_1 = 0;\r\n                var midAngle = 0;\r\n                $array.each(this._textInfo, function (line, _index) {\r\n                    var deltaAngle = startAngle + (line.width / (radius - line.height)) / 2 * -clockwise;\r\n                    if (deltaAngle > maxAngle_1) {\r\n                        maxAngle_1 = deltaAngle;\r\n                    }\r\n                });\r\n                if (align == \"left\") {\r\n                    midAngle = (maxAngle_1 + deltaAngle / 2) * $math.DEGREES;\r\n                }\r\n                else if (align == \"right\") {\r\n                    midAngle = (maxAngle_1 - deltaAngle / 2) * $math.DEGREES;\r\n                }\r\n                else {\r\n                    midAngle = startAngle * $math.DEGREES;\r\n                }\r\n                midAngle = $math.normalizeAngle(midAngle);\r\n                inward = (midAngle >= 270) || (midAngle <= 90);\r\n            }\r\n            if (inward == true && shouldReverse) {\r\n                this._textInfo.reverse();\r\n                this._textReversed = true;\r\n            }\r\n            // if ((inward == false && align == \"left\") || (inward == true && align == \"right\")) {\r\n            // \tclockwise *= -1;\r\n            // }\r\n            // Process text info produced by _measure()\r\n            $array.each(this._textInfo, function (line, _index) {\r\n                var textHeight = line.height;\r\n                // Adjust radius (for `inside = false`)\r\n                // Radius adjustment for `inside = false` is below the line calculation\r\n                if (!inside) {\r\n                    radius += textHeight;\r\n                }\r\n                // Reverse letters if we're painting them counter-clockwise\r\n                if (((clockwise == -1 && inward) || (clockwise == 1 && !inward)) && shouldReverse) {\r\n                    line.textChunks.reverse();\r\n                }\r\n                // Init angles\r\n                var lineStartAngle = startAngle;\r\n                deltaAngle = 0;\r\n                // Adjust for center-align\r\n                if (align == \"center\") {\r\n                    lineStartAngle += (line.width / (radius - textHeight)) / 2 * -clockwise;\r\n                    deltaAngle = lineStartAngle - startAngle;\r\n                }\r\n                // if (inward == \"auto\") {\r\n                // \tlet midAngle;\r\n                // \tif (align == \"left\") {\r\n                // \t\tmidAngle = (lineStartAngle + deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \telse if () {\r\n                // \t\tmidAngle = (lineStartAngle - deltaAngle / 2) * $math.DEGREES;\r\n                // \t}\r\n                // \tinward = (midAngle >= 270) || (midAngle <= 90);\r\n                // }\r\n                // Rotate letters if they are facing outward\r\n                lineStartAngle += (Math.PI * (inward ? 0 : 1)); // Rotate 180 if outward\r\n                // Savepoint\r\n                context.save();\r\n                if (interactive) {\r\n                    ghostContext.save();\r\n                }\r\n                // Assume starting angle\r\n                context.rotate(lineStartAngle);\r\n                if (interactive) {\r\n                    ghostContext.rotate(lineStartAngle);\r\n                }\r\n                var angleShift = 0;\r\n                $array.each(line.textChunks, function (chunk, _index) {\r\n                    // Draw the letter\r\n                    var char = chunk.text;\r\n                    var charWidth = chunk.width;\r\n                    // Rotate half a letter\r\n                    angleShift = (charWidth / 2) / (radius - textHeight) * clockwise;\r\n                    context.rotate(angleShift);\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                    // Set style\r\n                    if (chunk.style) {\r\n                        context.save();\r\n                        ghostContext.save();\r\n                        context.font = chunk.style;\r\n                        if (interactive) {\r\n                            ghostContext.font = chunk.style;\r\n                        }\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.save();\r\n                        context.fillStyle = chunk.fill.toCSS();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Center letters\r\n                    context.textBaseline = \"middle\";\r\n                    context.textAlign = \"center\";\r\n                    if (interactive) {\r\n                        ghostContext.textBaseline = \"middle\";\r\n                        ghostContext.textAlign = \"center\";\r\n                    }\r\n                    // Plop the letter\r\n                    if (layerDirty) {\r\n                        context.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (interactive) {\r\n                        ghostContext.fillText(char, 0, (inward ? 1 : -1) * (0 - radius + textHeight / 2));\r\n                    }\r\n                    if (chunk.fill) {\r\n                        context.restore();\r\n                        // Color does not affect ghostContext so we not set it\r\n                    }\r\n                    // Reset style\r\n                    if (chunk.style) {\r\n                        context.restore();\r\n                        ghostContext.restore();\r\n                    }\r\n                    // Rotate half a letter and add spacing\r\n                    angleShift = (charWidth / 2 + kerning) / (radius - textHeight) * clockwise;\r\n                    context.rotate(angleShift);\r\n                    if (interactive) {\r\n                        ghostContext.rotate(angleShift);\r\n                    }\r\n                });\r\n                // Restore angle\r\n                context.restore();\r\n                if (interactive) {\r\n                    ghostContext.restore();\r\n                }\r\n                // Adjust radius (for `inside = true`)\r\n                if (inside) {\r\n                    radius -= textHeight;\r\n                }\r\n            });\r\n            // Restore\r\n            context.restore();\r\n            if (interactive) {\r\n                ghostContext.restore();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRadialText.prototype, \"_measure\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (layer) {\r\n            switch (this.textType) {\r\n                case \"circular\":\r\n                    return this._measureCircular(layer);\r\n                default:\r\n                    return _super.prototype._measure.call(this, layer);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRadialText.prototype, \"_measureCircular\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (layer) {\r\n            var _this = this;\r\n            var context = layer.context;\r\n            var ghostContext = this._renderer._ghostContext;\r\n            var rtl = this.style.direction == \"rtl\";\r\n            // Reset text info\r\n            this._textInfo = [];\r\n            this._textReversed = false;\r\n            // Pre-render\r\n            context.save();\r\n            ghostContext.save();\r\n            this._prerender(layer, true);\r\n            // Split up text into lines\r\n            var lines = this.text.toString().replace(/\\r/g, \"\").split(/\\n/);\r\n            var styleRestored = true;\r\n            // Iterate through the lines\r\n            var offsetY = 0;\r\n            $array.each(lines, function (line, _index) {\r\n                // Split up line into format/value chunks\r\n                var chunks = TextFormatter.chunk(line, false, _this.style.ignoreFormatting);\r\n                // Init line object\r\n                var lineInfo = {\r\n                    offsetY: offsetY,\r\n                    ascent: 0,\r\n                    width: 0,\r\n                    height: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    textChunks: []\r\n                };\r\n                var currentStyle;\r\n                var currentFill;\r\n                var currentChunkWidth;\r\n                //while(chunk = chunks.shift()) {\r\n                $array.each(chunks, function (chunk, _index) {\r\n                    // Format chunk\r\n                    if (chunk.type == \"format\") {\r\n                        if (chunk.text == \"[/]\") {\r\n                            if (!styleRestored) {\r\n                                context.restore();\r\n                                ghostContext.restore();\r\n                                styleRestored = true;\r\n                            }\r\n                            currentFill = undefined;\r\n                            currentStyle = undefined;\r\n                            currentChunkWidth = undefined;\r\n                        }\r\n                        else {\r\n                            var format = TextFormatter.getTextStyle(chunk.text);\r\n                            var fontStyle = _this._getFontStyle(format);\r\n                            context.save();\r\n                            ghostContext.save();\r\n                            context.font = fontStyle;\r\n                            currentStyle = fontStyle;\r\n                            if (format.fill) {\r\n                                currentFill = format.fill;\r\n                            }\r\n                            if (format.width) {\r\n                                currentChunkWidth = $type.toNumber(format.width);\r\n                            }\r\n                            styleRestored = false;\r\n                        }\r\n                    }\r\n                    // Text format\r\n                    else if (chunk.type == \"value\") {\r\n                        // Measure each letter\r\n                        var chars = chunk.text.match(/./ug) || [];\r\n                        if (rtl) {\r\n                            chars.reverse();\r\n                        }\r\n                        for (var i = 0; i < chars.length; i++) {\r\n                            var char = chars[i];\r\n                            // Measure\r\n                            var metrics = _this._measureText(char, context);\r\n                            var chunkWidth = metrics.width;\r\n                            // Chunk width?\r\n                            if (currentStyle && currentChunkWidth && (currentChunkWidth > chunkWidth)) {\r\n                                chunkWidth = currentChunkWidth;\r\n                            }\r\n                            var chunkHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\r\n                            if (chunkHeight > lineInfo.height) {\r\n                                lineInfo.height = chunkHeight;\r\n                            }\r\n                            if (metrics.actualBoundingBoxAscent > lineInfo.ascent) {\r\n                                lineInfo.ascent = metrics.actualBoundingBoxAscent;\r\n                            }\r\n                            lineInfo.width += chunkWidth;\r\n                            lineInfo.left += metrics.actualBoundingBoxLeft;\r\n                            lineInfo.right += metrics.actualBoundingBoxRight;\r\n                            lineInfo.textChunks.push({\r\n                                style: currentStyle,\r\n                                fill: currentFill,\r\n                                text: char,\r\n                                width: chunkWidth,\r\n                                height: chunkHeight + metrics.actualBoundingBoxDescent,\r\n                                left: metrics.actualBoundingBoxLeft,\r\n                                right: metrics.actualBoundingBoxRight,\r\n                                ascent: metrics.actualBoundingBoxAscent,\r\n                                offsetX: 0,\r\n                                offsetY: chunkHeight,\r\n                                textDecoration: undefined\r\n                            });\r\n                            if (rtl) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                if (_this.style.lineHeight instanceof Percent) {\r\n                    lineInfo.height *= _this.style.lineHeight.value;\r\n                }\r\n                else {\r\n                    lineInfo.height *= _this.style.lineHeight || 1.2;\r\n                }\r\n                _this._textInfo.push(lineInfo);\r\n                //lineInfo.offsetY += lineInfo.ascent;\r\n                offsetY += lineInfo.height;\r\n            });\r\n            if (!styleRestored) {\r\n                context.restore();\r\n                ghostContext.restore();\r\n            }\r\n            // Adjust chunk internal offsets\r\n            $array.each(this._textInfo, function (lineInfo) {\r\n                $array.each(lineInfo.textChunks, function (chunk) {\r\n                    chunk.offsetY += Math.round((lineInfo.height - chunk.height + (lineInfo.ascent - chunk.ascent)) / 2);\r\n                });\r\n            });\r\n            context.restore();\r\n            ghostContext.restore();\r\n            return {\r\n                left: 0,\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n            };\r\n        }\r\n    });\r\n    return CanvasRadialText;\r\n}(CanvasText));\r\nexport { CanvasRadialText };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasImage = /** @class */ (function (_super) {\r\n    __extends(CanvasImage, _super);\r\n    function CanvasImage(renderer, image) {\r\n        var _this = _super.call(this, renderer) || this;\r\n        Object.defineProperty(_this, \"width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"image\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"tainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"shadowColor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"shadowBlur\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"shadowOffsetX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"shadowOffsetY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"shadowOpacity\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_imageMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this.image = image;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasImage.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            if (this._imageMask) {\r\n                clearCanvas(this._imageMask);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasImage.prototype, \"getLocalBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._localBounds) {\r\n                var w = 0;\r\n                var h = 0;\r\n                if (this.width) {\r\n                    w = this.width;\r\n                }\r\n                if (this.height) {\r\n                    h = this.height;\r\n                }\r\n                this._localBounds = {\r\n                    left: 0,\r\n                    top: 0,\r\n                    right: w,\r\n                    bottom: h\r\n                };\r\n                this._addBounds(this._localBounds);\r\n            }\r\n            return this._localBounds;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasImage.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parentLayer) {\r\n            _super.prototype._render.call(this, parentLayer);\r\n            if (this.image) {\r\n                var layer = this._layer || parentLayer;\r\n                if (this.tainted === undefined) {\r\n                    this.tainted = isTainted(this.image);\r\n                    layer.tainted = true;\r\n                }\r\n                if (this.tainted && this._renderer._omitTainted) {\r\n                    return;\r\n                }\r\n                if (layer.dirty) {\r\n                    if (this.shadowColor) {\r\n                        layer.context.shadowColor = this.shadowColor.toCSS(this.shadowOpacity || 1);\r\n                    }\r\n                    if (this.shadowBlur) {\r\n                        layer.context.shadowBlur = this.shadowBlur;\r\n                    }\r\n                    if (this.shadowOffsetX) {\r\n                        layer.context.shadowOffsetX = this.shadowOffsetX;\r\n                    }\r\n                    if (this.shadowOffsetY) {\r\n                        layer.context.shadowOffsetY = this.shadowOffsetY;\r\n                    }\r\n                    // TODO should this round ?\r\n                    var width = this.width || this.image.naturalWidth;\r\n                    var height = this.height || this.image.naturalHeight;\r\n                    layer.context.drawImage(this.image, 0, 0, width, height);\r\n                }\r\n                if (this.interactive && this._isInteractive()) {\r\n                    var mask = this._getMask(this.image);\r\n                    this._renderer._ghostContext.drawImage(mask, 0, 0);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasImage.prototype, \"clear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.clear.call(this);\r\n            this.image = undefined;\r\n            this._imageMask = undefined;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasImage.prototype, \"_getMask\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (image) {\r\n            if (this._imageMask === undefined) {\r\n                // TODO should this round ?\r\n                var width = this.width || image.naturalWidth;\r\n                var height = this.height || image.naturalHeight;\r\n                // We need to create a second canvas because destination-in clears out the entire canvas\r\n                var canvas = document.createElement(\"canvas\");\r\n                canvas.width = width;\r\n                canvas.height = height;\r\n                var context = canvas.getContext(\"2d\");\r\n                context.imageSmoothingEnabled = false;\r\n                context.fillStyle = this._getColorId();\r\n                context.fillRect(0, 0, width, height);\r\n                if (!isTainted(image)) {\r\n                    context.globalCompositeOperation = \"destination-in\";\r\n                    context.drawImage(image, 0, 0, width, height);\r\n                }\r\n                this._imageMask = canvas;\r\n            }\r\n            return this._imageMask;\r\n        }\r\n    });\r\n    return CanvasImage;\r\n}(CanvasDisplayObject));\r\nexport { CanvasImage };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasRendererEvent = /** @class */ (function () {\r\n    function CanvasRendererEvent(event, point, bbox) {\r\n        Object.defineProperty(this, \"event\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: event\r\n        });\r\n        Object.defineProperty(this, \"point\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: point\r\n        });\r\n        Object.defineProperty(this, \"bbox\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: bbox\r\n        });\r\n        Object.defineProperty(this, \"id\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"simulated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"native\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        if ($utils.supports(\"touchevents\") && event instanceof Touch) {\r\n            this.id = event.identifier;\r\n        }\r\n        else {\r\n            this.id = null;\r\n        }\r\n    }\r\n    return CanvasRendererEvent;\r\n}());\r\nexport { CanvasRendererEvent };\r\n/**\r\n * @ignore\r\n */\r\nvar CanvasRenderer = /** @class */ (function (_super) {\r\n    __extends(CanvasRenderer, _super);\r\n    /*protected _mouseMoveThrottler: Throttler = new Throttler(() => {\r\n        this._dispatchGlobalMousemove(this._lastPointerMoveEvent.event, this._lastPointerMoveEvent.native);\r\n    });\r\n    */\r\n    function CanvasRenderer(resolution) {\r\n        var _this = _super.call(this) || this;\r\n        Object.defineProperty(_this, \"view\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(_this, \"_layerDom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"div\")\r\n        });\r\n        Object.defineProperty(_this, \"layers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_dirtyLayers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"defaultLayer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.getLayer(0)\r\n        });\r\n        Object.defineProperty(_this, \"_ghostView\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_ghostContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_patternCanvas\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: document.createElement(\"canvas\")\r\n        });\r\n        Object.defineProperty(_this, \"_patternContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._patternCanvas.getContext(\"2d\")\r\n        });\r\n        Object.defineProperty(_this, \"_width\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_height\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_clientWidth\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_clientHeight\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"resolution\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"interactionsEnabled\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"_listeners\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_colorId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_colorMap\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_forceInteractive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_omitTainted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        // TODO this should store the Id as well\r\n        Object.defineProperty(_this, \"_hovering\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new Set()\r\n        });\r\n        Object.defineProperty(_this, \"_dragging\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_mousedown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_lastPointerMoveEvent\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"tapToActivate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"tapToActivateTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 3000\r\n        });\r\n        Object.defineProperty(_this, \"_touchActive\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_touchActiveTimeout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        if (resolution == null) {\r\n            _this.resolution = window.devicePixelRatio;\r\n        }\r\n        else {\r\n            _this.resolution = resolution;\r\n        }\r\n        _this.view.style.position = \"absolute\";\r\n        _this.view.appendChild(_this._layerDom);\r\n        _this._disposers.push(new Disposer(function () {\r\n            $object.each(_this._events, function (_key, events) {\r\n                events.disposer.dispose();\r\n            });\r\n            $array.each(_this.layers, function (layer) {\r\n                clearCanvas(layer.view);\r\n                if (layer.exportableView) {\r\n                    clearCanvas(layer.exportableView);\r\n                }\r\n            });\r\n            clearCanvas(_this._ghostView);\r\n            clearCanvas(_this._patternCanvas);\r\n        }));\r\n        // @todo : do the same for ghost\r\n        _this._ghostView = document.createElement(\"canvas\");\r\n        _this._ghostContext = _this._ghostView.getContext(\"2d\", { alpha: false });\r\n        _this._ghostContext.imageSmoothingEnabled = false;\r\n        _this._ghostView.style.position = \"absolute\";\r\n        _this._ghostView.style.top = \"0px\";\r\n        _this._ghostView.style.left = \"0px\";\r\n        _this._disposers.push($utils.addEventListener(_this._ghostView, \"click\", function (originalEvent) {\r\n            var event = _this.getEvent(originalEvent);\r\n            var target = _this._getHitTarget(event.point, event.bbox);\r\n            console.debug(target);\r\n        }));\r\n        // Monitor for possible pixel ratio changes (when page is zoomed)\r\n        _this._disposers.push($utils.addEventListener(window, \"resize\", function (_ev) {\r\n            if (resolution == null) {\r\n                _this.resolution = window.devicePixelRatio;\r\n            }\r\n        }));\r\n        // We need this in order top prevent default touch gestures when dragging\r\n        // draggable elements\r\n        if ($utils.supports(\"touchevents\")) {\r\n            var listener = function (ev) {\r\n                if (_this._dragging.length !== 0) {\r\n                    $array.eachContinue(_this._dragging, function (item) {\r\n                        if (item.value.shouldCancelTouch()) {\r\n                            ev.preventDefault();\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n                // If touch down happends, delay touch out\r\n                if (_this._touchActiveTimeout) {\r\n                    _this._delayTouchDeactivate();\r\n                }\r\n            };\r\n            _this._disposers.push($utils.addEventListener(window, \"touchstart\", listener, { passive: false }));\r\n            _this._disposers.push($utils.addEventListener(_this.view, \"touchstart\", listener, { passive: false }));\r\n            _this._disposers.push($utils.addEventListener(_this.view, \"touchmove\", function () {\r\n                // If touch is moving, delay touch out\r\n                if (_this._touchActiveTimeout) {\r\n                    _this._delayTouchDeactivate();\r\n                }\r\n            }, { passive: true }));\r\n            _this._disposers.push($utils.addEventListener(window, \"click\", function (_ev) {\r\n                _this._touchActive = false;\r\n            }, { passive: true }));\r\n            _this._disposers.push($utils.addEventListener(_this.view, \"click\", function (_ev) {\r\n                window.setTimeout(function () {\r\n                    _this._touchActive = true;\r\n                    _this._delayTouchDeactivate();\r\n                }, 100);\r\n            }, { passive: true }));\r\n        }\r\n        // Prevent scrolling of the window when hovering on \"wheelable\" object\r\n        if ($utils.supports(\"wheelevents\")) {\r\n            _this._disposers.push($utils.addEventListener(_this.view, \"wheel\", function (ev) {\r\n                var prevent = false;\r\n                _this._hovering.forEach(function (obj) {\r\n                    if (obj.wheelable) {\r\n                        prevent = true;\r\n                        return false;\r\n                    }\r\n                });\r\n                if (prevent) {\r\n                    ev.preventDefault();\r\n                }\r\n            }, { passive: false }));\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_delayTouchDeactivate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this._touchActiveTimeout) {\r\n                clearTimeout(this._touchActiveTimeout);\r\n            }\r\n            if (this.tapToActivateTimeout > 0) {\r\n                this._touchActiveTimeout = window.setTimeout(function () {\r\n                    _this._touchActive = false;\r\n                }, this.tapToActivateTimeout);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"debugGhostView\", {\r\n        get: function () {\r\n            return !!this._ghostView.parentNode;\r\n        },\r\n        set: function (value) {\r\n            if (value) {\r\n                if (!this._ghostView.parentNode) {\r\n                    this.view.appendChild(this._ghostView);\r\n                }\r\n            }\r\n            else {\r\n                if (this._ghostView.parentNode) {\r\n                    this._ghostView.parentNode.removeChild(this._ghostView);\r\n                }\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"createLinearGradient\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x1, y1, x2, y2) {\r\n            return this.defaultLayer.context.createLinearGradient(x1, y1, x2, y2);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"createRadialGradient\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x1, y1, radius1, x2, y2, radius2) {\r\n            return this.defaultLayer.context.createRadialGradient(x1, y1, radius1, x2, y2, radius2);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"createPattern\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (graphics, background, repetition, width, height) {\r\n            // const patternCanvas = document.createElement(\"canvas\");\r\n            // const patternContext = patternCanvas.getContext(\"2d\")!;\r\n            // patternCanvas.width = width;\r\n            // patternCanvas.height = height;\r\n            // if (fill) {\r\n            // \tpatternContext.fillStyle = fill.toCSS();\r\n            // \tpatternContext.fillRect(0, 0, patternCanvas.width, patternCanvas.height);\r\n            // }\r\n            // const layer = {\r\n            // \tview: patternCanvas,\r\n            // \tcontext: patternContext,\r\n            // \tvisible: true,\r\n            // \torder: 0,\r\n            // \twidth: width,\r\n            // \theight: height,\r\n            // \tdirty: true\r\n            // };\r\n            // // patternContext.arc(0, 0, 50, 0, .5 * Math.PI);\r\n            // // patternContext.stroke();\r\n            // image.targetLayer = layer;\r\n            // image.render(layer);\r\n            //this._layerDom.appendChild(patternCanvas);\r\n            this._patternCanvas.width = width;\r\n            this._patternCanvas.height = height;\r\n            this._patternContext.clearRect(0, 0, width, height);\r\n            // patternCanvas.style.width = width * this.resolution + \"px\";\r\n            // patternCanvas.style.height = height * this.resolution + \"px\";\r\n            background.renderDetached(this._patternContext);\r\n            graphics.renderDetached(this._patternContext);\r\n            return this._patternContext.createPattern(this._patternCanvas, repetition);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makeContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return new CanvasContainer(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makeGraphics\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return new CanvasGraphics(this);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makeText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text, style) {\r\n            return new CanvasText(this, text, style);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makeTextStyle\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return new CanvasTextStyle();\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makeRadialText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text, style) {\r\n            return new CanvasRadialText(this, text, style);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"makePicture\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (image) {\r\n            return new CanvasImage(this, image);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"resize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (width, height) {\r\n            var _this = this;\r\n            this._clientWidth = width;\r\n            this._clientHeight = height;\r\n            this._width = Math.floor(width * this.resolution);\r\n            this._height = Math.floor(height * this.resolution);\r\n            $array.each(this.layers, function (layer) {\r\n                if (layer) {\r\n                    layer.dirty = true;\r\n                    if (layer.width != null) {\r\n                        layer.view.width = layer.width;\r\n                        layer.view.style.width = layer.width + \"px\";\r\n                    }\r\n                    else {\r\n                        layer.view.width = _this._width;\r\n                        layer.view.style.width = width + \"px\";\r\n                    }\r\n                    if (layer.height != null) {\r\n                        layer.view.height = layer.height;\r\n                        layer.view.style.height = layer.height + \"px\";\r\n                    }\r\n                    else {\r\n                        layer.view.height = _this._height;\r\n                        layer.view.style.height = height + \"px\";\r\n                    }\r\n                }\r\n            });\r\n            // @todo: do the same for ghost canvases\r\n            this._ghostView.width = this._width;\r\n            this._ghostView.height = this._height;\r\n            this._ghostView.style.width = width + \"px\";\r\n            this._ghostView.style.height = height + \"px\";\r\n            this.view.style.width = width + \"px\";\r\n            this.view.style.height = height + \"px\";\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"createDetachedLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var view = document.createElement(\"canvas\");\r\n            var context = view.getContext(\"2d\");\r\n            var layer = {\r\n                view: view,\r\n                context: context,\r\n                order: 0,\r\n                visible: true,\r\n                width: undefined,\r\n                height: undefined,\r\n                dirty: true,\r\n                tainted: false\r\n            };\r\n            view.style.position = \"absolute\";\r\n            view.style.top = \"0px\";\r\n            view.style.left = \"0px\";\r\n            return layer;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"getLayerByOrder\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (order) {\r\n            var layers = this.layers;\r\n            var length = layers.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var layer = layers[i];\r\n                if (layer.order == order) {\r\n                    return layer;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"getLayer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (order, visible) {\r\n            if (visible === void 0) { visible = true; }\r\n            var existingLayer = this.getLayerByOrder(order);\r\n            if (existingLayer) {\r\n                return existingLayer;\r\n            }\r\n            var layer = this.createDetachedLayer();\r\n            layer.order = order;\r\n            layer.visible = visible;\r\n            if (layer.visible && this._width) {\r\n                layer.view.width = this._width;\r\n                layer.view.style.width = this._clientWidth + \"px\";\r\n                layer.view.height = this._height;\r\n                layer.view.style.height = this._clientHeight + \"px\";\r\n            }\r\n            var layers = this.layers;\r\n            layers.push(layer);\r\n            layers.sort(function (a, b) {\r\n                if (a.order > b.order) {\r\n                    return 1;\r\n                }\r\n                else if (a.order < b.order) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            });\r\n            var length = layers.length;\r\n            var layerIndex = $array.indexOf(layers, layer);\r\n            var next;\r\n            for (var i = layerIndex + 1; i < length; i++) {\r\n                if (layers[i].visible) {\r\n                    next = layers[i];\r\n                    break;\r\n                }\r\n            }\r\n            if (layer.visible) {\r\n                if (next === undefined) {\r\n                    this._layerDom.appendChild(layer.view);\r\n                }\r\n                else {\r\n                    this._layerDom.insertBefore(layer.view, next.view);\r\n                }\r\n            }\r\n            return layer;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (root) {\r\n            var _this = this;\r\n            this._dirtyLayers.length = 0;\r\n            $array.each(this.layers, function (layer) {\r\n                if (layer) {\r\n                    if (layer.dirty && layer.visible) {\r\n                        var context = layer.context;\r\n                        _this._dirtyLayers.push(layer);\r\n                        context.save();\r\n                        context.clearRect(0, 0, _this._width, _this._height);\r\n                    }\r\n                }\r\n            });\r\n            this._ghostContext.save();\r\n            //this._ghostContext.clearRect(0, 0, this._width, this._height);\r\n            //this._ghostContext.beginPath();\r\n            this._ghostContext.fillStyle = '#000';\r\n            this._ghostContext.fillRect(0, 0, this._width, this._height);\r\n            root.render(this.defaultLayer);\r\n            this._ghostContext.restore();\r\n            //setTimeout(() => {\r\n            // Remove this after the Chrome bug is fixed:\r\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=1279394\r\n            $array.each(this.layers, function (layer) {\r\n                if (layer) {\r\n                    var context = layer.context;\r\n                    context.beginPath();\r\n                    context.moveTo(0, 0);\r\n                    context.stroke();\r\n                }\r\n            });\r\n            $array.each(this._dirtyLayers, function (layer) {\r\n                layer.context.restore();\r\n                layer.dirty = false;\r\n            });\r\n            //}, 100)\r\n            if (this._hovering.size && this._lastPointerMoveEvent) {\r\n                //this._mouseMoveThrottler.run();\r\n                var native_1 = this._lastPointerMoveEvent.native;\r\n                $array.each(this._lastPointerMoveEvent.events, function (event) {\r\n                    _this._dispatchGlobalMousemove(event, native_1);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"paintId\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (obj) {\r\n            var id = distributeId(++this._colorId);\r\n            var color = Color.fromHex(id).toCSS();\r\n            this._colorMap[color] = obj;\r\n            return color;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_removeObject\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (obj) {\r\n            if (obj._colorId !== undefined) {\r\n                delete this._colorMap[obj._colorId];\r\n            }\r\n        }\r\n    });\r\n    // protected _identifyObjectByColor(colorId: number): CanvasDisplayObject | undefined {\r\n    // \treturn this._colorMap[colorId];\r\n    // }\r\n    Object.defineProperty(CanvasRenderer.prototype, \"getEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent, adjustPoint) {\r\n            if (adjustPoint === void 0) { adjustPoint = true; }\r\n            var bbox = adjustPoint ? this.view.getBoundingClientRect() : new DOMRect(0, 0, 0, 0);\r\n            return new CanvasRendererEvent(originalEvent, (originalEvent.clientX || originalEvent.clientY ? {\r\n                x: originalEvent.clientX - (originalEvent.clientX ? bbox.left : 0),\r\n                y: originalEvent.clientY - (originalEvent.clientY ? bbox.top : 0),\r\n            } : {\r\n                x: 0,\r\n                y: 0\r\n            }), bbox);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_getHitTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point, bbox) {\r\n            if (point.x < 0 || point.x > bbox.width || point.y < 0 || point.y > bbox.height) {\r\n                return;\r\n            }\r\n            else {\r\n                var pixel = this._ghostContext.getImageData(\r\n                // TODO should this round ?\r\n                Math.round((point.x / bbox.width) * this._width), Math.round((point.y / bbox.height) * this._height), 1, 1);\r\n                if (pixel.data[0] === 0 && pixel.data[1] === 0 && pixel.data[2] === 0) {\r\n                    return false;\r\n                }\r\n                var colorId = Color.fromRGB(pixel.data[0], pixel.data[1], pixel.data[2]).toCSS();\r\n                var hit = this._colorMap[colorId];\r\n                return hit;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_withEvents\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, f) {\r\n            var events = this._events[key];\r\n            if (events !== undefined) {\r\n                events.dispatching = true;\r\n                try {\r\n                    f(events);\r\n                }\r\n                finally {\r\n                    events.dispatching = false;\r\n                    if (events.cleanup) {\r\n                        events.cleanup = false;\r\n                        $array.keepIf(events.callbacks, function (callback) {\r\n                            return !callback.disposed;\r\n                        });\r\n                        if (events.callbacks.length === 0) {\r\n                            events.disposer.dispose();\r\n                            delete this._events[key];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchEventAll\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, event) {\r\n            if (!this.interactionsEnabled) {\r\n                return;\r\n            }\r\n            this._withEvents(key, function (events) {\r\n                $array.each(events.callbacks, function (callback) {\r\n                    if (!callback.disposed) {\r\n                        callback.callback.call(callback.context, event);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, target, event) {\r\n            if (!this.interactionsEnabled) {\r\n                return false;\r\n            }\r\n            var dispatched = false;\r\n            this._withEvents(key, function (events) {\r\n                $array.each(events.callbacks, function (callback) {\r\n                    if (!callback.disposed && callback.object === target) {\r\n                        callback.callback.call(callback.context, event);\r\n                        dispatched = true;\r\n                    }\r\n                });\r\n            });\r\n            return dispatched;\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchMousedown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent) {\r\n            var _this = this;\r\n            var button = originalEvent.button;\r\n            if (button != 0 && button != 2 && button != 1 && button !== undefined) {\r\n                // Ignore non-primary mouse buttons\r\n                return;\r\n            }\r\n            var event = this.getEvent(originalEvent);\r\n            var target = this._getHitTarget(event.point, event.bbox);\r\n            if (target) {\r\n                var id_1 = event.id;\r\n                var dragged_1 = false;\r\n                eachTargets(target, function (obj) {\r\n                    var info = { id: id_1, value: obj };\r\n                    _this._mousedown.push(info);\r\n                    if (!dragged_1 && _this._dispatchEvent(\"pointerdown\", obj, event)) {\r\n                        // Only dispatch the first element which matches\r\n                        dragged_1 = true;\r\n                        var has = _this._dragging.some(function (x) {\r\n                            return x.value === obj && x.id === id_1;\r\n                        });\r\n                        if (!has) {\r\n                            _this._dragging.push(info);\r\n                        }\r\n                    }\r\n                    return true;\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchGlobalMousemove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent, native) {\r\n            var _this = this;\r\n            var event = this.getEvent(originalEvent);\r\n            var target = this._getHitTarget(event.point, event.bbox);\r\n            event.native = native;\r\n            if (target) {\r\n                this._hovering.forEach(function (obj) {\r\n                    if (!obj.contains(target)) {\r\n                        _this._hovering.delete(obj);\r\n                        if (obj.cursorOverStyle) {\r\n                            $utils.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                        }\r\n                        _this._dispatchEvent(\"pointerout\", obj, event);\r\n                    }\r\n                });\r\n                if (event.native) {\r\n                    eachTargets(target, function (obj) {\r\n                        if (!_this._hovering.has(obj)) {\r\n                            _this._hovering.add(obj);\r\n                            if (obj.cursorOverStyle) {\r\n                                obj._replacedCursorStyle = $utils.getStyle(document.body, \"cursor\");\r\n                                $utils.setStyle(document.body, \"cursor\", obj.cursorOverStyle);\r\n                            }\r\n                            _this._dispatchEvent(\"pointerover\", obj, event);\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n                //} else if (target === false) {\r\n            }\r\n            else {\r\n                this._hovering.forEach(function (obj) {\r\n                    if (obj.cursorOverStyle) {\r\n                        $utils.setStyle(document.body, \"cursor\", obj._replacedCursorStyle);\r\n                    }\r\n                    _this._dispatchEvent(\"pointerout\", obj, event);\r\n                });\r\n                this._hovering.clear();\r\n            }\r\n            this._dispatchEventAll(\"globalpointermove\", event);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchGlobalMouseup\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent, native) {\r\n            var event = this.getEvent(originalEvent);\r\n            event.native = native;\r\n            //const target = this._getHitTarget(event.point);\r\n            this._dispatchEventAll(\"globalpointerup\", event);\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchDragMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent) {\r\n            var _this = this;\r\n            if (this._dragging.length !== 0) {\r\n                var event_1 = this.getEvent(originalEvent);\r\n                var id_2 = event_1.id;\r\n                this._dragging.forEach(function (obj) {\r\n                    if (obj.id === id_2) {\r\n                        _this._dispatchEvent(\"pointermove\", obj.value, event_1);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchDragEnd\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent) {\r\n            var _this = this;\r\n            var button = originalEvent.button;\r\n            var clickevent;\r\n            if (button == 0 || button === undefined) {\r\n                clickevent = \"click\";\r\n            }\r\n            else if (button == 2) {\r\n                clickevent = \"rightclick\";\r\n            }\r\n            else if (button == 1) {\r\n                clickevent = \"middleclick\";\r\n            }\r\n            else {\r\n                // Ignore non-primary mouse buttons\r\n                return;\r\n            }\r\n            var event = this.getEvent(originalEvent);\r\n            var id = event.id;\r\n            if (this._mousedown.length !== 0) {\r\n                var target_1 = this._getHitTarget(event.point, event.bbox);\r\n                if (target_1) {\r\n                    this._mousedown.forEach(function (obj) {\r\n                        if (obj.id === id && obj.value.contains(target_1)) {\r\n                            _this._dispatchEvent(clickevent, obj.value, event);\r\n                        }\r\n                    });\r\n                }\r\n                this._mousedown.length = 0;\r\n            }\r\n            if (this._dragging.length !== 0) {\r\n                this._dragging.forEach(function (obj) {\r\n                    if (obj.id === id) {\r\n                        _this._dispatchEvent(\"pointerup\", obj.value, event);\r\n                    }\r\n                });\r\n                this._dragging.length = 0;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchDoubleClick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent) {\r\n            var _this = this;\r\n            var event = this.getEvent(originalEvent);\r\n            var target = this._getHitTarget(event.point, event.bbox);\r\n            if (target) {\r\n                eachTargets(target, function (obj) {\r\n                    if (_this._dispatchEvent(\"dblclick\", obj, event)) {\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_dispatchWheel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (originalEvent) {\r\n            var _this = this;\r\n            var event = this.getEvent(originalEvent);\r\n            var target = this._getHitTarget(event.point, event.bbox);\r\n            if (target) {\r\n                eachTargets(target, function (obj) {\r\n                    if (_this._dispatchEvent(\"wheel\", obj, event)) {\r\n                        return false;\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_makeSharedEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, f) {\r\n            var _this = this;\r\n            if (this._listeners[key] === undefined) {\r\n                var listener_1 = f();\r\n                this._listeners[key] = new CounterDisposer(function () {\r\n                    delete _this._listeners[key];\r\n                    listener_1.dispose();\r\n                });\r\n            }\r\n            return this._listeners[key].increment();\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_onPointerEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (name, f) {\r\n            var native = false;\r\n            var timer = null;\r\n            function clear() {\r\n                timer = null;\r\n                native = false;\r\n            }\r\n            return new MultiDisposer([\r\n                new Disposer(function () {\r\n                    if (timer !== null) {\r\n                        clearTimeout(timer);\r\n                    }\r\n                    clear();\r\n                }),\r\n                $utils.addEventListener(this.view, $utils.getRendererEvent(name), function (_) {\r\n                    native = true;\r\n                    if (timer !== null) {\r\n                        clearTimeout(timer);\r\n                    }\r\n                    timer = window.setTimeout(clear, 0);\r\n                }),\r\n                onPointerEvent(window, name, function (ev) {\r\n                    if (timer !== null) {\r\n                        clearTimeout(timer);\r\n                        timer = null;\r\n                    }\r\n                    f(ev, native);\r\n                    native = false;\r\n                }),\r\n            ]);\r\n        }\r\n    });\r\n    // This ensures that only a single DOM event is added (e.g. only a single mousemove event listener)\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_initEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var _this = this;\r\n            switch (key) {\r\n                case \"globalpointermove\":\r\n                case \"pointerover\":\r\n                case \"pointerout\":\r\n                    return this._makeSharedEvent(\"pointermove\", function () {\r\n                        var listener = function (events, native) {\r\n                            _this._lastPointerMoveEvent = { events: events, native: native };\r\n                            $array.each(events, function (event) {\r\n                                _this._dispatchGlobalMousemove(event, native);\r\n                            });\r\n                        };\r\n                        return new MultiDisposer([\r\n                            _this._onPointerEvent(\"pointerdown\", listener),\r\n                            _this._onPointerEvent(\"pointermove\", listener),\r\n                        ]);\r\n                    });\r\n                case \"globalpointerup\":\r\n                    return this._makeSharedEvent(\"pointerup\", function () {\r\n                        var mouseup = _this._onPointerEvent(\"pointerup\", function (events, native) {\r\n                            $array.each(events, function (event) {\r\n                                _this._dispatchGlobalMouseup(event, native);\r\n                            });\r\n                            _this._lastPointerMoveEvent = { events: events, native: native };\r\n                        });\r\n                        var pointercancel = _this._onPointerEvent(\"pointercancel\", function (events, native) {\r\n                            $array.each(events, function (event) {\r\n                                _this._dispatchGlobalMouseup(event, native);\r\n                            });\r\n                            _this._lastPointerMoveEvent = { events: events, native: native };\r\n                        });\r\n                        return new Disposer(function () {\r\n                            mouseup.dispose();\r\n                            pointercancel.dispose();\r\n                        });\r\n                    });\r\n                case \"click\":\r\n                case \"rightclick\":\r\n                case \"middleclick\":\r\n                case \"pointerdown\":\r\n                /*\r\n                    return this._makeSharedEvent(\"pointerdown\", () => {\r\n                        return this._onPointerEvent(\"pointerdown\", (event, native) => {\r\n                            this._lastPointerMoveEvent = { event, native };\r\n                            this._dispatchMousedown(event)\r\n                        });\r\n                    });\r\n                */\r\n                case \"pointermove\":\r\n                case \"pointerup\":\r\n                    return this._makeSharedEvent(\"pointerdown\", function () {\r\n                        //const throttler = new Throttler();\r\n                        var mousedown = onPointerEvent(_this.view, \"pointerdown\", function (events) {\r\n                            $array.each(events, function (ev) {\r\n                                _this._dispatchMousedown(ev);\r\n                            });\r\n                        });\r\n                        // TODO handle throttling properly for multitouch\r\n                        var mousemove = _this._onPointerEvent(\"pointermove\", function (ev) {\r\n                            //throttler.throttle(() => {\r\n                            $array.each(ev, function (ev) {\r\n                                _this._dispatchDragMove(ev);\r\n                            });\r\n                            //});\r\n                        });\r\n                        var mouseup = _this._onPointerEvent(\"pointerup\", function (ev) {\r\n                            $array.each(ev, function (ev) {\r\n                                _this._dispatchDragEnd(ev);\r\n                            });\r\n                        });\r\n                        var pointercancel = _this._onPointerEvent(\"pointercancel\", function (ev) {\r\n                            $array.each(ev, function (ev) {\r\n                                _this._dispatchDragEnd(ev);\r\n                            });\r\n                        });\r\n                        return new Disposer(function () {\r\n                            mousedown.dispose();\r\n                            mousemove.dispose();\r\n                            mouseup.dispose();\r\n                            pointercancel.dispose();\r\n                        });\r\n                    });\r\n                case \"dblclick\":\r\n                    return this._makeSharedEvent(\"dblclick\", function () {\r\n                        return _this._onPointerEvent(\"dblclick\", function (ev) {\r\n                            $array.each(ev, function (ev) {\r\n                                _this._dispatchDoubleClick(ev);\r\n                            });\r\n                        });\r\n                    });\r\n                case \"wheel\":\r\n                    return this._makeSharedEvent(\"wheel\", function () {\r\n                        return $utils.addEventListener(window, $utils.getRendererEvent(\"wheel\"), function (event) {\r\n                            _this._dispatchWheel(event);\r\n                        }, { passive: false });\r\n                    });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"_addEvent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (object, key, callback, context) {\r\n            var _this = this;\r\n            var events = this._events[key];\r\n            if (events === undefined) {\r\n                events = this._events[key] = {\r\n                    disposer: this._initEvent(key),\r\n                    callbacks: [],\r\n                    dispatching: false,\r\n                    cleanup: false,\r\n                };\r\n            }\r\n            var listener = { object: object, context: context, callback: callback, disposed: false };\r\n            events.callbacks.push(listener);\r\n            return new Disposer(function () {\r\n                listener.disposed = true;\r\n                if (events.dispatching) {\r\n                    events.cleanup = true;\r\n                }\r\n                else {\r\n                    $array.removeFirst(events.callbacks, listener);\r\n                    if (events.callbacks.length === 0) {\r\n                        events.disposer.dispose();\r\n                        delete _this._events[key];\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(CanvasRenderer.prototype, \"getCanvas\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (root, options) {\r\n            var _this = this;\r\n            // Make sure everything is rendered\r\n            this.render(root);\r\n            if (!options) {\r\n                options = {};\r\n            }\r\n            var scale = this.resolution;\r\n            // Check if we need to scale\r\n            if (options.minWidth && (options.minWidth > this._width)) {\r\n                var minScale = options.minWidth / this._width;\r\n                if (minScale > scale) {\r\n                    scale = minScale * this.resolution;\r\n                }\r\n            }\r\n            if (options.minHeight && (options.minHeight > this._height)) {\r\n                var minScale = options.minHeight / this._height;\r\n                if (minScale > scale) {\r\n                    scale = minScale * this.resolution;\r\n                }\r\n            }\r\n            if (options.maxWidth && (options.maxWidth < this._width)) {\r\n                var maxScale = options.maxWidth / this._width;\r\n                if (maxScale < scale) {\r\n                    scale = maxScale * this.resolution;\r\n                }\r\n            }\r\n            if (options.maxHeight && (options.maxHeight > this._height)) {\r\n                var maxScale = options.maxHeight / this._height;\r\n                if (maxScale < scale) {\r\n                    scale = maxScale * this.resolution;\r\n                }\r\n            }\r\n            // Check if we need to compensate for pixel ratio\r\n            if (options.maintainPixelRatio) {\r\n                scale /= this.resolution;\r\n            }\r\n            // Init list canvases to remove from DOM after export\r\n            var canvases = [];\r\n            // Set up new canvas for export\r\n            var forceRender = false;\r\n            var canvasWidth = this._width;\r\n            var canvasHeight = this._height;\r\n            var canvas = document.createElement(\"canvas\");\r\n            if (scale != this.resolution) {\r\n                forceRender = true;\r\n                canvasWidth = this._width * scale / this.resolution;\r\n                canvasHeight = this._height * scale / this.resolution;\r\n            }\r\n            canvas.width = canvasWidth;\r\n            canvas.height = canvasHeight;\r\n            // Add to DOM so it inherits CSS\r\n            canvas.style.position = \"fixed\";\r\n            canvas.style.top = \"-10000px\";\r\n            this.view.appendChild(canvas);\r\n            canvases.push(canvas);\r\n            // Context\r\n            var context = canvas.getContext(\"2d\");\r\n            var width = 0;\r\n            var height = 0;\r\n            var needRerender = false;\r\n            $array.each(this.layers, function (layer) {\r\n                if (layer && layer.visible) {\r\n                    if (layer.tainted || forceRender) {\r\n                        needRerender = true;\r\n                        layer.exportableView = layer.view;\r\n                        layer.exportableContext = layer.context;\r\n                        layer.view = document.createElement(\"canvas\");\r\n                        // Add to DOM so it inherits CSS\r\n                        _this.view.style.position = \"fixed\";\r\n                        _this.view.style.top = \"-10000px\";\r\n                        _this.view.appendChild(layer.view);\r\n                        canvases.push(layer.view);\r\n                        layer.view.width = canvasWidth;\r\n                        layer.view.height = canvasHeight;\r\n                        layer.context = layer.view.getContext(\"2d\");\r\n                        layer.dirty = true;\r\n                        layer.scale = scale;\r\n                    }\r\n                }\r\n            });\r\n            if (needRerender) {\r\n                this._omitTainted = true;\r\n                this.render(root);\r\n                this._omitTainted = false;\r\n            }\r\n            $array.each(this.layers, function (layer) {\r\n                if (layer && layer.visible) {\r\n                    // Layer is fine. Just plop it into our target canvas\r\n                    context.drawImage(layer.view, 0, 0);\r\n                    // Restore layer original canvas\r\n                    if (layer.exportableView) {\r\n                        layer.view = layer.exportableView;\r\n                        layer.exportableView = undefined;\r\n                    }\r\n                    if (layer.exportableContext) {\r\n                        layer.context = layer.exportableContext;\r\n                        layer.exportableContext = undefined;\r\n                    }\r\n                    if (width < layer.view.clientWidth) {\r\n                        width = layer.view.clientWidth;\r\n                    }\r\n                    if (height < layer.view.clientHeight) {\r\n                        height = layer.view.clientHeight;\r\n                    }\r\n                    layer.scale = undefined;\r\n                }\r\n            });\r\n            canvas.style.width = width + \"px\";\r\n            canvas.style.height = height + \"px\";\r\n            $array.each(canvases, function (canvas) {\r\n                _this.view.style.position = \"\";\r\n                _this.view.style.top = \"\";\r\n                _this.view.removeChild(canvas);\r\n            });\r\n            return canvas;\r\n        }\r\n    });\r\n    return CanvasRenderer;\r\n}(ArrayDisposer));\r\nexport { CanvasRenderer };\r\n//# sourceMappingURL=CanvasRenderer.js.map","import { Container } from \"./render/Container\";\r\nimport { Text } from \"./render/Text\";\r\nimport { HorizontalLayout } from \"./render/HorizontalLayout\";\r\nimport { VerticalLayout } from \"./render/VerticalLayout\";\r\nimport { GridLayout } from \"./render/GridLayout\";\r\nimport { Disposer } from \"./util/Disposer\";\r\nimport { ResizeSensor } from \"./util/ResizeSensor\";\r\nimport { InterfaceColors } from \"./util/InterfaceColors\";\r\nimport { Graphics } from \"./render/Graphics\";\r\nimport { Rectangle } from \"./render/Rectangle\";\r\nimport { Tooltip } from \"./render/Tooltip\";\r\nimport { NumberFormatter } from \"./util/NumberFormatter\";\r\nimport { DateFormatter } from \"./util/DateFormatter\";\r\nimport { DurationFormatter } from \"./util/DurationFormatter\";\r\nimport { Language } from \"./util/Language\";\r\nimport { EventDispatcher } from \"./util/EventDispatcher\";\r\nimport { DefaultTheme } from \"../themes/DefaultTheme\";\r\nimport { CanvasRenderer } from \"./render/backend/CanvasRenderer\";\r\nimport { p100, percent } from \"./util/Percent\";\r\nimport { color } from \"./util/Color\";\r\nimport { populateString } from \"./util/PopulateString\";\r\nimport { registry } from \"./Registry\";\r\nimport * as $order from \"./util/Order\";\r\nimport * as $array from \"./util/Array\";\r\nimport * as $object from \"./util/Object\";\r\nimport * as $utils from \"./util/Utils\";\r\nimport * as $type from \"./util/Type\";\r\nimport en from \"../../locales/en\";\r\nfunction rAF(fps, callback) {\r\n    if (fps == null) {\r\n        requestAnimationFrame(callback);\r\n    }\r\n    else {\r\n        setTimeout(function () {\r\n            requestAnimationFrame(callback);\r\n        }, 1000 / fps);\r\n    }\r\n}\r\n// TODO implement Disposer\r\n/**\r\n * Root element of the chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/getting-started/#Root_element} for more info\r\n */\r\nvar Root = /** @class */ (function () {\r\n    function Root(id, settings, isReal) {\r\n        if (settings === void 0) { settings = {}; }\r\n        /**\r\n         * A reference to original chart container (div element).\r\n         */\r\n        Object.defineProperty(this, \"dom\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_inner\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_isDirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_dirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyParents\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyBounds\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_dirtyPositions\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(this, \"_ticker\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_tickers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * Root's event dispatcher.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n         */\r\n        Object.defineProperty(this, \"events\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new EventDispatcher()\r\n        });\r\n        /**\r\n         * @ignore\r\n         * @todo needs description\r\n         */\r\n        Object.defineProperty(this, \"animationTime\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: null\r\n        });\r\n        Object.defineProperty(this, \"_animations\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_renderer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_rootContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Main content container.\r\n         */\r\n        Object.defineProperty(this, \"container\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A [[Container]] used to display tooltips in.\r\n         */\r\n        Object.defineProperty(this, \"tooltipContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltip\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // Locale-related\r\n        /**\r\n         * @ignore\r\n         */\r\n        Object.defineProperty(this, \"language\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Language.new(this, {})\r\n        });\r\n        /**\r\n         * Locale used by the chart.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/}\r\n         */\r\n        Object.defineProperty(this, \"locale\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: en\r\n        });\r\n        // Date-time related\r\n        /**\r\n         * Use UTC when formatting date/time.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#UTC_and_time_zones} for more info\r\n         */\r\n        Object.defineProperty(this, \"utc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * If set, will format date/time in specific time zone.\r\n         *\r\n         * The value should be named time zone, e.g.:\r\n         * `\"America/Vancouver\"`, `\"Australia/Sydney\"`, `\"UTC\"`.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Time_zone} for more info\r\n         * @since 5.1.0\r\n         */\r\n        Object.defineProperty(this, \"timezone\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * The maximum FPS that the Root will run at.\r\n         *\r\n         * If `undefined` it will run at the highest FPS.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Performance} for more info\r\n         */\r\n        Object.defineProperty(this, \"fps\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Number formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n         */\r\n        Object.defineProperty(this, \"numberFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: NumberFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Date/time formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"dateFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: DateFormatter.new(this, {})\r\n        });\r\n        /**\r\n         * Duration formatter.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n         */\r\n        Object.defineProperty(this, \"durationFormatter\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: DurationFormatter.new(this, {})\r\n        });\r\n        // Accessibility\r\n        /**\r\n         * Global tab index for using for the whole chart\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n         */\r\n        Object.defineProperty(this, \"tabindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        //@todo maybe make this better\r\n        Object.defineProperty(this, \"_tabindexes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_focusElementDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_focusElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_focusedSprite\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_isShift\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_keyboardDragPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltipElementContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_readerAlertElement\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_logo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Used for dynamically-created CSS and JavaScript with strict source policies.\r\n         */\r\n        Object.defineProperty(this, \"nonce\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Special color set to be used for various controls.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Interface_colors} for more info\r\n         */\r\n        Object.defineProperty(this, \"interfaceColors\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * An instance of vertical layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"verticalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: VerticalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of horizontal layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default HorizontalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"horizontalLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: HorizontalLayout.new(this, {})\r\n        });\r\n        /**\r\n         * An instance of grid layout object that can be used to set `layout` setting\r\n         * of a [[Container]].\r\n         *\r\n         * @default VerticalLayout.new()\r\n         */\r\n        Object.defineProperty(this, \"gridLayout\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: GridLayout.new(this, {})\r\n        });\r\n        /**\r\n         * Indicates whether chart should resized automatically when parent container\r\n         * width and/or height changes.\r\n         *\r\n         * If disabled (`autoResize = false`) you can make the chart resize manually\r\n         * by calling root element's `resize()` method.\r\n         */\r\n        Object.defineProperty(this, \"autoResize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(this, \"_fontHash\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: \"\"\r\n        });\r\n        Object.defineProperty(this, \"_isDisposed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(this, \"_disposers\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(this, \"_resizeSensorDisposer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_tooltips\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        if (!isReal) {\r\n            throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\r\n        }\r\n        if (settings.useSafeResolution == null) {\r\n            settings.useSafeResolution = true;\r\n        }\r\n        var resolution;\r\n        if (settings.useSafeResolution) {\r\n            resolution = $utils.getSafeResolution();\r\n        }\r\n        this._renderer = new CanvasRenderer(resolution);\r\n        var dom;\r\n        if (id instanceof HTMLElement) {\r\n            dom = id;\r\n        }\r\n        else {\r\n            dom = document.getElementById(id);\r\n        }\r\n        $array.each(registry.rootElements, function (root) {\r\n            if (root.dom === dom) {\r\n                throw new Error(\"You cannot have multiple Roots on the same DOM node\");\r\n            }\r\n        });\r\n        this.interfaceColors = InterfaceColors.new(this, {});\r\n        if (dom === null) {\r\n            throw new Error(\"Could not find HTML element with id `\" + id + \"`\");\r\n        }\r\n        this.dom = dom;\r\n        var inner = document.createElement(\"div\");\r\n        inner.style.position = \"relative\";\r\n        inner.style.height = \"100%\";\r\n        dom.appendChild(inner);\r\n        this._inner = inner;\r\n        this._updateComputedStyles();\r\n        registry.rootElements.push(this);\r\n    }\r\n    Object.defineProperty(Root, \"new\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (id, settings) {\r\n            var root = new Root(id, settings, true);\r\n            root._init();\r\n            return root;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"moveDOM\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (id) {\r\n            var dom;\r\n            if (id instanceof HTMLElement) {\r\n                dom = id;\r\n            }\r\n            else {\r\n                dom = document.getElementById(id);\r\n            }\r\n            if (dom) {\r\n                while (this.dom.childNodes.length > 0) {\r\n                    dom.appendChild(this.dom.childNodes[0]);\r\n                }\r\n                this.dom = dom;\r\n                this._initResizeSensor();\r\n                this.resize();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_handleLogo\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._logo) {\r\n                var w = this.dom.offsetWidth;\r\n                var h = this.dom.offsetHeight;\r\n                if ((w <= 150) || (h <= 60)) {\r\n                    this._logo.hide();\r\n                }\r\n                else {\r\n                    this._logo.show();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_showBranding\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._logo) {\r\n                var logo = this.tooltipContainer.children.push(Container.new(this, {\r\n                    interactive: true,\r\n                    interactiveChildren: false,\r\n                    position: \"absolute\",\r\n                    setStateOnChildren: true,\r\n                    paddingTop: 9,\r\n                    paddingRight: 9,\r\n                    paddingBottom: 9,\r\n                    paddingLeft: 9,\r\n                    scale: .6,\r\n                    y: percent(100),\r\n                    centerY: p100,\r\n                    tooltipText: \"Created using amCharts 5\",\r\n                    tooltipX: p100,\r\n                    cursorOverStyle: \"pointer\",\r\n                    background: Rectangle.new(this, {\r\n                        fill: color(0x474758),\r\n                        fillOpacity: 0,\r\n                        tooltipY: 5\r\n                    })\r\n                }));\r\n                var tooltip = Tooltip.new(this, {\r\n                    pointerOrientation: \"horizontal\",\r\n                    paddingTop: 4,\r\n                    paddingRight: 7,\r\n                    paddingBottom: 4,\r\n                    paddingLeft: 7\r\n                });\r\n                tooltip.label.setAll({\r\n                    fontSize: 12\r\n                });\r\n                tooltip.get(\"background\").setAll({\r\n                    fill: this.interfaceColors.get(\"background\"),\r\n                    stroke: this.interfaceColors.get(\"grid\"),\r\n                    strokeOpacity: 0.3\r\n                });\r\n                logo.set(\"tooltip\", tooltip);\r\n                logo.events.on(\"click\", function () {\r\n                    window.open(\"https://www.amcharts.com/\", \"_blank\");\r\n                });\r\n                logo.states.create(\"hover\", {});\r\n                var m = logo.children.push(Graphics.new(this, {\r\n                    stroke: color(0xcccccc),\r\n                    strokeWidth: 3,\r\n                    svgPath: \"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6\"\r\n                }));\r\n                m.states.create(\"hover\", { stroke: color(0x3CABFF) });\r\n                var a = logo.children.push(Graphics.new(this, {\r\n                    stroke: color(0x888888),\r\n                    strokeWidth: 3,\r\n                    svgPath: \"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0\"\r\n                }));\r\n                a.states.create(\"hover\", { stroke: color(0x474758) });\r\n                //logo.set(\"tooltip\", this._tooltip);\r\n                //logo.setPrivate(\"tooltipTarget\", logo.get(\"background\"));\r\n                this._logo = logo;\r\n                this._handleLogo();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_init\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var renderer = this._renderer;\r\n            var rootContainer = Container.new(this, { visible: true, width: this.dom.clientWidth, height: this.dom.clientHeight });\r\n            this._rootContainer = rootContainer;\r\n            this._rootContainer._defaultThemes.push(DefaultTheme.new(this));\r\n            var container = rootContainer.children.push(Container.new(this, { visible: true, width: p100, height: p100 }));\r\n            this.container = container;\r\n            renderer.resize(this.dom.clientWidth, this.dom.clientHeight);\r\n            //@todo: better appendChild - refer\r\n            this._inner.appendChild(renderer.view);\r\n            // TODO: TMP TMP TMP for testing only, remove\r\n            //document.body.appendChild((<any>renderer)._ghostView);\r\n            this._initResizeSensor();\r\n            // Create element which is used to make announcements to screen reader\r\n            var readerAlertElement = document.createElement(\"div\");\r\n            readerAlertElement.setAttribute(\"role\", \"alert\");\r\n            readerAlertElement.style.zIndex = \"-100000\";\r\n            readerAlertElement.style.opacity = \"0\";\r\n            readerAlertElement.style.position = \"absolute\";\r\n            readerAlertElement.style.top = \"0\";\r\n            this._readerAlertElement = readerAlertElement;\r\n            this._inner.appendChild(this._readerAlertElement);\r\n            var focusElementContainer = document.createElement(\"div\");\r\n            focusElementContainer.style.position = \"absolute\";\r\n            focusElementContainer.style.pointerEvents = \"none\";\r\n            focusElementContainer.style.top = \"0px\";\r\n            focusElementContainer.style.left = \"0px\";\r\n            focusElementContainer.style.overflow = \"hidden\";\r\n            focusElementContainer.style.width = this.dom.clientWidth + \"px\";\r\n            focusElementContainer.style.height = this.dom.clientHeight + \"px\";\r\n            focusElementContainer.setAttribute(\"role\", \"application\");\r\n            $utils.setInteractive(focusElementContainer, false);\r\n            this._focusElementContainer = focusElementContainer;\r\n            this._inner.appendChild(this._focusElementContainer);\r\n            this._tooltipElementContainer = document.createElement(\"div\");\r\n            this._inner.appendChild(this._tooltipElementContainer);\r\n            // Add keyboard events for accessibility, e.g. simulating drag with arrow\r\n            // keys and click with ENTER\r\n            if ($utils.supports(\"keyboardevents\")) {\r\n                this._disposers.push($utils.addEventListener(window, \"keydown\", function (ev) {\r\n                    if (ev.keyCode == 16) {\r\n                        _this._isShift = true;\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(window, \"keyup\", function (ev) {\r\n                    if (ev.keyCode == 16) {\r\n                        _this._isShift = false;\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(focusElementContainer, \"keydown\", function (ev) {\r\n                    var focusedSprite = _this._focusedSprite;\r\n                    if (focusedSprite) {\r\n                        if (ev.keyCode == 27) {\r\n                            // ESC pressed - lose current focus\r\n                            $utils.blur();\r\n                            _this._focusedSprite = undefined;\r\n                        }\r\n                        var dragOffsetX = 0;\r\n                        var dragOffsetY = 0;\r\n                        // TODO: figure out if using bogus MouseEvent is fine, or it will\r\n                        // fail on some platforms\r\n                        switch (ev.keyCode) {\r\n                            case 13:\r\n                                ev.preventDefault();\r\n                                var downEvent = renderer.getEvent(new MouseEvent(\"click\"));\r\n                                focusedSprite.events.dispatch(\"click\", {\r\n                                    type: \"click\",\r\n                                    originalEvent: downEvent.event,\r\n                                    point: downEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                                return;\r\n                            case 37:\r\n                                dragOffsetX = -6;\r\n                                break;\r\n                            case 39:\r\n                                dragOffsetX = 6;\r\n                                break;\r\n                            case 38:\r\n                                dragOffsetY = -6;\r\n                                break;\r\n                            case 40:\r\n                                dragOffsetY = 6;\r\n                                break;\r\n                            default:\r\n                                return;\r\n                        }\r\n                        if (dragOffsetX != 0 || dragOffsetY != 0) {\r\n                            ev.preventDefault();\r\n                            if (!focusedSprite.isDragging()) {\r\n                                // Start dragging\r\n                                _this._keyboardDragPoint = {\r\n                                    x: 0,\r\n                                    y: 0\r\n                                };\r\n                                var downEvent = renderer.getEvent(new MouseEvent(\"mousedown\", {\r\n                                    clientX: 0,\r\n                                    clientY: 0\r\n                                }));\r\n                                if (focusedSprite.events.isEnabled(\"pointerdown\")) {\r\n                                    focusedSprite.events.dispatch(\"pointerdown\", {\r\n                                        type: \"pointerdown\",\r\n                                        originalEvent: downEvent.event,\r\n                                        point: downEvent.point,\r\n                                        simulated: true,\r\n                                        target: focusedSprite\r\n                                    });\r\n                                }\r\n                            }\r\n                            else {\r\n                                // Move focus marker\r\n                                //this._positionFocusElement(focusedSprite);\r\n                            }\r\n                            // Move incrementally\r\n                            var dragPoint = _this._keyboardDragPoint;\r\n                            dragPoint.x += dragOffsetX;\r\n                            dragPoint.y += dragOffsetY;\r\n                            var moveEvent = renderer.getEvent(new MouseEvent(\"mousemove\", {\r\n                                clientX: dragPoint.x,\r\n                                clientY: dragPoint.y\r\n                            }), false);\r\n                            if (focusedSprite.events.isEnabled(\"globalpointermove\")) {\r\n                                focusedSprite.events.dispatch(\"globalpointermove\", {\r\n                                    type: \"globalpointermove\",\r\n                                    originalEvent: moveEvent.event,\r\n                                    point: moveEvent.point,\r\n                                    simulated: true,\r\n                                    target: focusedSprite\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n                this._disposers.push($utils.addEventListener(focusElementContainer, \"keyup\", function (ev) {\r\n                    if (_this._focusedSprite) {\r\n                        var focusedSprite = _this._focusedSprite;\r\n                        var keyCode = ev.keyCode;\r\n                        switch (keyCode) {\r\n                            case 37:\r\n                            case 39:\r\n                            case 38:\r\n                            case 40:\r\n                                if (focusedSprite.isDragging()) {\r\n                                    // Simulate drag stop\r\n                                    var dragPoint = _this._keyboardDragPoint;\r\n                                    var upEvent = renderer.getEvent(new MouseEvent(\"mouseup\", {\r\n                                        clientX: dragPoint.x,\r\n                                        clientY: dragPoint.y\r\n                                    }));\r\n                                    if (focusedSprite.events.isEnabled(\"globalpointerup\")) {\r\n                                        focusedSprite.events.dispatch(\"globalpointerup\", {\r\n                                            type: \"globalpointerup\",\r\n                                            originalEvent: upEvent.event,\r\n                                            point: upEvent.point,\r\n                                            simulated: true,\r\n                                            target: focusedSprite\r\n                                        });\r\n                                    }\r\n                                    //this._positionFocusElement(focusedSprite);\r\n                                    _this._keyboardDragPoint = undefined;\r\n                                    // @todo dispatch mouseup event instead of calling dragStop?\r\n                                    // this._dispatchEvent(\"globalpointerup\", target, upEvent);\r\n                                    return;\r\n                                }\r\n                                else if (focusedSprite.get(\"focusableGroup\")) {\r\n                                    // Find next item in focusable group\r\n                                    var group_1 = focusedSprite.get(\"focusableGroup\");\r\n                                    var items = _this._tabindexes.filter(function (item) { return item.get(\"focusableGroup\") == group_1; });\r\n                                    var index = items.indexOf(focusedSprite);\r\n                                    var lastIndex = items.length - 1;\r\n                                    index += (keyCode == 39 || keyCode == 40) ? 1 : -1;\r\n                                    if (index < 0) {\r\n                                        index = lastIndex;\r\n                                    }\r\n                                    else if (index > lastIndex) {\r\n                                        index = 0;\r\n                                    }\r\n                                    $utils.focus(items[index].getPrivate(\"focusElement\").dom);\r\n                                }\r\n                                break;\r\n                        }\r\n                    }\r\n                }));\r\n            }\r\n            this._startTicker();\r\n            this.setThemes([]);\r\n            this._addTooltip();\r\n            if (!this._hasLicense()) {\r\n                this._showBranding();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_initResizeSensor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this._resizeSensorDisposer) {\r\n                this._resizeSensorDisposer.dispose();\r\n            }\r\n            this._resizeSensorDisposer = new ResizeSensor(this.dom, function () {\r\n                if (_this.autoResize) {\r\n                    _this.resize();\r\n                }\r\n            });\r\n            this._disposers.push(this._resizeSensorDisposer);\r\n        }\r\n    });\r\n    /**\r\n     * If automatic resizing of char is disabled (`root.autoResize = false`), it\r\n     * can be resized manually by calling this method.\r\n     */\r\n    Object.defineProperty(Root.prototype, \"resize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var dom = this.dom;\r\n            var w = dom.clientWidth;\r\n            var h = dom.clientHeight;\r\n            if (w > 0 && h > 0) {\r\n                var focusElementContainer = this._focusElementContainer;\r\n                focusElementContainer.style.width = w + \"px\";\r\n                focusElementContainer.style.height = h + \"px\";\r\n                this._renderer.resize(w, h);\r\n                var rootContainer = this._rootContainer;\r\n                rootContainer.setPrivate(\"width\", w);\r\n                rootContainer.setPrivate(\"height\", h);\r\n                this._render();\r\n                this._handleLogo();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_render\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._renderer.render(this._rootContainer._display);\r\n            if (this._focusElementDirty) {\r\n                this._updateCurrentFocus();\r\n                this._focusElementDirty = false;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_runTickers\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            $array.each(this._tickers, function (f) {\r\n                f(currentTime);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_runAnimations\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            $array.keepIf(this._animations, function (animation) {\r\n                return !animation._runAnimation(currentTime);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_runDirties\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            //console.log(\"tick **************************************************************\");\r\n            var allParents = {};\r\n            while (this._isDirtyParents) {\r\n                // This must be before calling _prepareChildren\r\n                this._isDirtyParents = false;\r\n                $object.keys(this._dirtyParents).forEach(function (key) {\r\n                    var parent = _this._dirtyParents[key];\r\n                    delete _this._dirtyParents[key];\r\n                    if (!parent.isDisposed()) {\r\n                        allParents[parent.uid] = parent;\r\n                        parent._prepareChildren();\r\n                    }\r\n                });\r\n            }\r\n            $object.keys(allParents).forEach(function (key) {\r\n                allParents[key]._updateChildren();\r\n            });\r\n            var objects = [];\r\n            //\t\tconsole.log(\"_beforeChanged\")\r\n            $object.keys(this._dirty).forEach(function (key) {\r\n                var entity = _this._dirty[key];\r\n                if (entity.isDisposed()) {\r\n                    delete _this._dirty[entity.uid];\r\n                }\r\n                else {\r\n                    objects.push(entity);\r\n                    entity._beforeChanged();\r\n                }\r\n            });\r\n            //\t\tconsole.log(\"_changed\")\r\n            objects.forEach(function (entity) {\r\n                entity._changed();\r\n                delete _this._dirty[entity.uid];\r\n                entity._clearDirty();\r\n            });\r\n            this._isDirty = false;\r\n            var depths = {};\r\n            var bounds = [];\r\n            $object.keys(this._dirtyBounds).forEach(function (key) {\r\n                var entity = _this._dirtyBounds[key];\r\n                delete _this._dirtyBounds[key];\r\n                if (!entity.isDisposed()) {\r\n                    depths[entity.uid] = entity.depth();\r\n                    bounds.push(entity);\r\n                }\r\n            });\r\n            // High depth -> low depth\r\n            bounds.sort(function (x, y) {\r\n                return $order.compare(depths[y.uid], depths[x.uid]);\r\n            });\r\n            //\t\tconsole.log(\"_updateBounds\")\r\n            bounds.forEach(function (entity) {\r\n                entity._updateBounds();\r\n            });\r\n            //\t\tconsole.log(\"_updatePosition\")\r\n            var dirtyPositions = this._dirtyPositions;\r\n            $object.keys(dirtyPositions).forEach(function (key) {\r\n                var sprite = dirtyPositions[key];\r\n                delete dirtyPositions[key];\r\n                if (!sprite.isDisposed()) {\r\n                    sprite._updatePosition();\r\n                }\r\n            });\r\n            //\t\tconsole.log(\"_afterChanged\")\r\n            objects.forEach(function (entity) {\r\n                entity._afterChanged();\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_renderFrame\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            if (this.events.isEnabled(\"framestarted\")) {\r\n                this.events.dispatch(\"framestarted\", {\r\n                    type: \"framestarted\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            this._checkComputedStyles();\r\n            this._runTickers(currentTime);\r\n            this._runAnimations(currentTime);\r\n            this._runDirties();\r\n            this._render();\r\n            if (this.events.isEnabled(\"frameended\")) {\r\n                this.events.dispatch(\"frameended\", {\r\n                    type: \"frameended\",\r\n                    target: this,\r\n                    timestamp: currentTime,\r\n                });\r\n            }\r\n            return this._tickers.length === 0 &&\r\n                this._animations.length === 0 &&\r\n                !this._isDirty;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_runTicker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (currentTime) {\r\n            if (!this.isDisposed()) {\r\n                this.animationTime = currentTime;\r\n                var done = this._renderFrame(currentTime);\r\n                // No more work to do\r\n                if (done) {\r\n                    this._ticker = null;\r\n                    this.animationTime = null;\r\n                }\r\n                else {\r\n                    rAF(this.fps, this._ticker);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_runTickerNow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.isDisposed()) {\r\n                for (;;) {\r\n                    var currentTime = performance.now();\r\n                    this.animationTime = currentTime;\r\n                    var done = this._renderFrame(currentTime);\r\n                    if (done) {\r\n                        this.animationTime = null;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_startTicker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this._ticker === null) {\r\n                this.animationTime = null;\r\n                this._ticker = function (currentTime) {\r\n                    _this._runTicker(currentTime);\r\n                };\r\n                rAF(this.fps, this._ticker);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addDirtyEntity\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity) {\r\n            if (this._dirty[entity.uid] === undefined) {\r\n                this._isDirty = true;\r\n                this._dirty[entity.uid] = entity;\r\n                this._startTicker();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addDirtyParent\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (parent) {\r\n            if (this._dirtyParents[parent.uid] === undefined) {\r\n                this._isDirty = true;\r\n                this._isDirtyParents = true;\r\n                this._dirtyParents[parent.uid] = parent;\r\n                this._startTicker();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addDirtyBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (entity) {\r\n            if (this._dirtyBounds[entity.uid] === undefined) {\r\n                this._isDirty = true;\r\n                this._dirtyBounds[entity.uid] = entity;\r\n                this._startTicker();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addDirtyPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (sprite) {\r\n            if (this._dirtyPositions[sprite.uid] === undefined) {\r\n                this._isDirty = true;\r\n                this._dirtyPositions[sprite.uid] = sprite;\r\n                this._startTicker();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (animation) {\r\n            // TODO use numeric id instead\r\n            if (this._animations.indexOf(animation) === -1) {\r\n                this._animations.push(animation);\r\n                this._startTicker();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_markDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._isDirty = true;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_markDirtyRedraw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this.events.once(\"frameended\", function () {\r\n                _this._isDirty = true;\r\n                _this._startTicker();\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"eachFrame\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (f) {\r\n            var _this = this;\r\n            this._tickers.push(f);\r\n            this._startTicker();\r\n            return new Disposer(function () {\r\n                $array.removeFirst(_this._tickers, f);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Returns width of the target container, in pixels.\r\n     *\r\n     * @return Width\r\n     */\r\n    Object.defineProperty(Root.prototype, \"width\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.dom.clientWidth;\r\n        }\r\n    });\r\n    /**\r\n     * Returns height of the target container, in pixels.\r\n     *\r\n     * @return Height\r\n     */\r\n    Object.defineProperty(Root.prototype, \"height\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.dom.clientHeight;\r\n        }\r\n    });\r\n    /**\r\n     * Disposes root and all the content in it.\r\n     */\r\n    Object.defineProperty(Root.prototype, \"dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this._isDisposed) {\r\n                this._isDisposed = true;\r\n                this._rootContainer.dispose();\r\n                this._renderer.dispose();\r\n                this.horizontalLayout.dispose();\r\n                this.verticalLayout.dispose();\r\n                this.interfaceColors.dispose();\r\n                $array.each(this._disposers, function (x) {\r\n                    x.dispose();\r\n                });\r\n                if (this._inner) {\r\n                    $utils.removeElement(this._inner);\r\n                }\r\n                $array.remove(registry.rootElements, this);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if root element is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    Object.defineProperty(Root.prototype, \"isDisposed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._isDisposed;\r\n        }\r\n    });\r\n    /**\r\n     * Triggers screen reader read out a message.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n     * @param  text  Alert text\r\n     */\r\n    Object.defineProperty(Root.prototype, \"readerAlert\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (text) {\r\n            this._readerAlertElement.innerHTML = $utils.stripTags(text);\r\n        }\r\n    });\r\n    /**\r\n     * Sets themes to be used for the chart.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n     * @param  themes  A list of themes\r\n     */\r\n    Object.defineProperty(Root.prototype, \"setThemes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (themes) {\r\n            this._rootContainer.set(\"themes\", themes);\r\n            // otherwise new themes are not applied\r\n            var tooltipContainer = this.tooltipContainer;\r\n            if (tooltipContainer) {\r\n                tooltipContainer._applyThemes();\r\n            }\r\n            // @todo review this\r\n            var interfaceColors = this.interfaceColors;\r\n            if (interfaceColors) {\r\n                interfaceColors._applyThemes();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_addTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.tooltipContainer) {\r\n                var tooltipContainer = this._rootContainer.children.push(Container.new(this, { position: \"absolute\", isMeasured: false, width: p100, height: p100, layer: 30 }));\r\n                this.tooltipContainer = tooltipContainer;\r\n                var tooltip = Tooltip.new(this, {});\r\n                this.container.set(\"tooltip\", tooltip);\r\n                tooltip.hide(0);\r\n                this._tooltip = tooltip;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Accesibility\r\n     */\r\n    Object.defineProperty(Root.prototype, \"_registerTabindexOrder\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            if (target.get(\"focusable\")) {\r\n                $array.pushOne(this._tabindexes, target);\r\n            }\r\n            else {\r\n                $array.remove(this._tabindexes, target);\r\n            }\r\n            this._invalidateTabindexes();\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_unregisterTabindexOrder\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            $array.remove(this._tabindexes, target);\r\n            this._invalidateTabindexes();\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_invalidateTabindexes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._tabindexes.sort(function (a, b) {\r\n                var aindex = a.get(\"tabindexOrder\", 0);\r\n                var bindex = b.get(\"tabindexOrder\", 0);\r\n                if (aindex == bindex) {\r\n                    return 0;\r\n                }\r\n                else if (aindex > bindex) {\r\n                    return 1;\r\n                }\r\n                else {\r\n                    return -1;\r\n                }\r\n            });\r\n            var groups = [];\r\n            $array.each(this._tabindexes, function (item, index) {\r\n                if (!item.getPrivate(\"focusElement\")) {\r\n                    _this._makeFocusElement(index, item);\r\n                }\r\n                else {\r\n                    _this._moveFocusElement(index, item);\r\n                }\r\n                var group = item.get(\"focusableGroup\");\r\n                if (group) {\r\n                    if (groups.indexOf(group) !== -1) {\r\n                        // Non-first element in the group, make it not directly focusable\r\n                        item.getPrivate(\"focusElement\").dom.setAttribute(\"tabindex\", \"-1\");\r\n                    }\r\n                    else {\r\n                        groups.push(group);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_updateCurrentFocus\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._focusedSprite) {\r\n                this._decorateFocusElement(this._focusedSprite);\r\n                this._positionFocusElement(this._focusedSprite);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_decorateFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target, focusElement) {\r\n            // Decorate with proper accessibility attributes\r\n            if (!focusElement) {\r\n                focusElement = target.getPrivate(\"focusElement\").dom;\r\n            }\r\n            if (!focusElement) {\r\n                return;\r\n            }\r\n            if (target.get(\"visible\") && target.get(\"role\") != \"tooltip\" && !target.isHidden()) {\r\n                if (focusElement.getAttribute(\"tabindex\") != \"-1\") {\r\n                    focusElement.setAttribute(\"tabindex\", \"\" + this.tabindex);\r\n                }\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"tabindex\");\r\n            }\r\n            var role = target.get(\"role\");\r\n            if (role) {\r\n                focusElement.setAttribute(\"role\", role);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"role\");\r\n            }\r\n            var ariaLabel = target.get(\"ariaLabel\");\r\n            if (ariaLabel) {\r\n                var label = populateString(target, ariaLabel);\r\n                focusElement.setAttribute(\"aria-label\", label);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-label\");\r\n            }\r\n            var ariaLive = target.get(\"ariaLive\");\r\n            if (ariaLive) {\r\n                focusElement.setAttribute(\"aria-live\", ariaLive);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-live\");\r\n            }\r\n            var ariaChecked = target.get(\"ariaChecked\");\r\n            if (ariaChecked != null) {\r\n                focusElement.setAttribute(\"aria-checked\", ariaChecked ? \"true\" : \"false\");\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-checked\");\r\n            }\r\n            if (target.get(\"ariaHidden\")) {\r\n                focusElement.setAttribute(\"aria-hidden\", \"hidden\");\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-hidden\");\r\n            }\r\n            var ariaOrientation = target.get(\"ariaOrientation\");\r\n            if (ariaOrientation) {\r\n                focusElement.setAttribute(\"aria-orientation\", ariaOrientation);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-orientation\");\r\n            }\r\n            var ariaValueNow = target.get(\"ariaValueNow\");\r\n            if (ariaValueNow) {\r\n                focusElement.setAttribute(\"aria-valuenow\", ariaValueNow);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-valuenow\");\r\n            }\r\n            var ariaValueMin = target.get(\"ariaValueMin\");\r\n            if (ariaValueMin) {\r\n                focusElement.setAttribute(\"aria-valuemin\", ariaValueMin);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-valuemin\");\r\n            }\r\n            var ariaValueMax = target.get(\"ariaValueMax\");\r\n            if (ariaValueMax) {\r\n                focusElement.setAttribute(\"aria-valuemax\", ariaValueMax);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-valuemax\");\r\n            }\r\n            var ariaValueText = target.get(\"ariaValueText\");\r\n            if (ariaValueText) {\r\n                focusElement.setAttribute(\"aria-valuetext\", ariaValueText);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-valuetext\");\r\n            }\r\n            var ariaControls = target.get(\"ariaControls\");\r\n            if (ariaControls) {\r\n                focusElement.setAttribute(\"aria-controls\", ariaControls);\r\n            }\r\n            else {\r\n                focusElement.removeAttribute(\"aria-controls\");\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_makeFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, target) {\r\n            var _this = this;\r\n            if (target.getPrivate(\"focusElement\")) {\r\n                return;\r\n            }\r\n            // Init\r\n            var focusElement = document.createElement(\"div\");\r\n            if (target.get(\"role\") != \"tooltip\") {\r\n                focusElement.tabIndex = this.tabindex;\r\n            }\r\n            focusElement.style.position = \"absolute\";\r\n            $utils.setInteractive(focusElement, false);\r\n            var disposers = [];\r\n            target.setPrivate(\"focusElement\", {\r\n                dom: focusElement,\r\n                disposers: disposers,\r\n            });\r\n            this._decorateFocusElement(target);\r\n            disposers.push($utils.addEventListener(focusElement, \"focus\", function (ev) {\r\n                _this._handleFocus(ev, index);\r\n            }));\r\n            disposers.push($utils.addEventListener(focusElement, \"blur\", function (ev) {\r\n                _this._handleBlur(ev, index);\r\n            }));\r\n            this._moveFocusElement(index, target);\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_removeFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            $array.remove(this._tabindexes, target);\r\n            var focusElement = target.getPrivate(\"focusElement\");\r\n            if (focusElement) {\r\n                var container = this._focusElementContainer;\r\n                container.removeChild(focusElement.dom);\r\n                $array.each(focusElement.disposers, function (x) {\r\n                    x.dispose();\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_hideFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var focusElement = target.getPrivate(\"focusElement\");\r\n            focusElement.dom.style.display = \"none\";\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_moveFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, target) {\r\n            // Get container\r\n            var container = this._focusElementContainer;\r\n            var focusElement = target.getPrivate(\"focusElement\").dom;\r\n            if (focusElement === this._focusElementContainer.children[index]) {\r\n                // Nothing to do\r\n                return;\r\n            }\r\n            var next = this._focusElementContainer.children[index + 1];\r\n            if (next) {\r\n                container.insertBefore(focusElement, next);\r\n            }\r\n            else {\r\n                container.append(focusElement);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_positionFocusElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var bounds = target.globalBounds();\r\n            var width = bounds.right == bounds.left ? target.width() : bounds.right - bounds.left;\r\n            var height = bounds.top == bounds.bottom ? target.height() : bounds.bottom - bounds.top;\r\n            var focusElement = target.getPrivate(\"focusElement\").dom;\r\n            focusElement.style.top = (bounds.top - 2) + \"px\";\r\n            focusElement.style.left = (bounds.left - 2) + \"px\";\r\n            focusElement.style.width = (width + 4) + \"px\";\r\n            focusElement.style.height = (height + 4) + \"px\";\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_handleFocus\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (ev, index) {\r\n            // Get element\r\n            var focused = this._tabindexes[index];\r\n            // Jump over hidden elements\r\n            if (!focused.isVisibleDeep()) {\r\n                this._focusNext(ev.target, this._isShift ? -1 : 1);\r\n                return;\r\n            }\r\n            // Size and position\r\n            this._positionFocusElement(focused);\r\n            //this._decorateFocusElement(focused);\r\n            this._focusedSprite = focused;\r\n            if (focused.events.isEnabled(\"focus\")) {\r\n                focused.events.dispatch(\"focus\", {\r\n                    type: \"focus\",\r\n                    originalEvent: ev,\r\n                    target: focused\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_focusNext\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (el, direction) {\r\n            var focusableElements = Array.from(document.querySelectorAll([\r\n                'a[href]',\r\n                'area[href]',\r\n                'button:not([disabled])',\r\n                'details',\r\n                'input:not([disabled])',\r\n                'iframe:not([disabled])',\r\n                'select:not([disabled])',\r\n                'textarea:not([disabled])',\r\n                '[contentEditable=\"\"]',\r\n                '[contentEditable=\"true\"]',\r\n                '[contentEditable=\"TRUE\"]',\r\n                '[tabindex]:not([tabindex^=\"-\"])',\r\n                //':not([disabled])'\r\n            ].join(',')));\r\n            var index = focusableElements.indexOf(el) + direction;\r\n            if (index < 0) {\r\n                index = focusableElements.length - 1;\r\n            }\r\n            else if (index >= focusableElements.length) {\r\n                index = 0;\r\n            }\r\n            focusableElements[index].focus();\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_handleBlur\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (ev, _index) {\r\n            var focused = this._focusedSprite;\r\n            if (focused && focused.events.isEnabled(\"blur\")) {\r\n                focused.events.dispatch(\"blur\", {\r\n                    type: \"blur\",\r\n                    originalEvent: ev,\r\n                    target: focused\r\n                });\r\n            }\r\n            this._focusedSprite = undefined;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Root.prototype, \"updateTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var text = $utils.stripTags(target._getText());\r\n            var tooltipElement = target.getPrivate(\"tooltipElement\");\r\n            if (target.get(\"role\") == \"tooltip\" && text != \"\") {\r\n                if (!tooltipElement) {\r\n                    tooltipElement = this._makeTooltipElement(target);\r\n                }\r\n                if (tooltipElement.innerHTML != text) {\r\n                    tooltipElement.innerHTML = text;\r\n                }\r\n            }\r\n            else if (tooltipElement) {\r\n                tooltipElement.remove();\r\n                target.removePrivate(\"tooltipElement\");\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_makeTooltipElement\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var container = this._tooltipElementContainer;\r\n            var tooltipElement = document.createElement(\"div\");\r\n            tooltipElement.style.position = \"absolute\";\r\n            tooltipElement.style.opacity = \"0.0000001\";\r\n            $utils.setInteractive(tooltipElement, false);\r\n            this._decorateFocusElement(target, tooltipElement);\r\n            container.append(tooltipElement);\r\n            target.setPrivate(\"tooltipElement\", tooltipElement);\r\n            return tooltipElement;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_invalidateAccessibility\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            this._focusElementDirty = true;\r\n            var focusElement = target.getPrivate(\"focusElement\");\r\n            if (target.get(\"focusable\")) {\r\n                if (focusElement) {\r\n                    this._decorateFocusElement(target);\r\n                    this._positionFocusElement(target);\r\n                }\r\n                // else {\r\n                // \tthis._renderer._makeFocusElement(0, this);\r\n                // }\r\n            }\r\n            else if (focusElement) {\r\n                this._removeFocusElement(target);\r\n            }\r\n            //this.updateCurrentFocus();\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if `target` is currently focused.\r\n     *\r\n     * @param   target  Target\r\n     * @return          Focused?\r\n     */\r\n    Object.defineProperty(Root.prototype, \"focused\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            return this._focusedSprite === target;\r\n        }\r\n    });\r\n    /**\r\n     * Converts document coordinates to coordinates withing root element.\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    Object.defineProperty(Root.prototype, \"documentPointToRoot\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var bbox = this.dom.getBoundingClientRect();\r\n            return {\r\n                x: point.x - bbox.left,\r\n                y: point.y - bbox.top\r\n            };\r\n        }\r\n    });\r\n    /**\r\n     * Converts root coordinates to document\r\n     *\r\n     * @param   point  Document point\r\n     * @return         Root point\r\n     */\r\n    Object.defineProperty(Root.prototype, \"rootPointToDocument\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var bbox = this.dom.getBoundingClientRect();\r\n            return {\r\n                x: point.x + bbox.left,\r\n                y: point.y + bbox.top\r\n            };\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Root.prototype, \"addDisposer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (disposer) {\r\n            this._disposers.push(disposer);\r\n            return disposer;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_updateComputedStyles\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var styles = window.getComputedStyle(this.dom);\r\n            var fontHash = \"\";\r\n            $object.each(styles, function (key, val) {\r\n                if ($type.isString(key) && key.match(/^font/)) {\r\n                    fontHash += val;\r\n                }\r\n            });\r\n            var changed = fontHash != this._fontHash;\r\n            if (changed) {\r\n                this._fontHash = fontHash;\r\n            }\r\n            return changed;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_checkComputedStyles\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._updateComputedStyles()) {\r\n                this._invalidateLabelBounds(this.container);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_invalidateLabelBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (target) {\r\n            var _this = this;\r\n            if (target instanceof Container) {\r\n                target.children.each(function (child) {\r\n                    _this._invalidateLabelBounds(child);\r\n                });\r\n            }\r\n            else if (target instanceof Text) {\r\n                target.markDirtyBounds();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * To all the clever heads out there. Yes, we did not make any attempts to\r\n     * scramble this.\r\n     *\r\n     * This is a part of a tool meant for our users to manage their commercial\r\n     * licenses for removal of amCharts branding from charts.\r\n     *\r\n     * The only legit way to do so is to purchase a commercial license for amCharts:\r\n     * https://www.amcharts.com/online-store/\r\n     *\r\n     * Removing or altering this code, or disabling amCharts branding in any other\r\n     * way is against the license and thus illegal.\r\n     */\r\n    Object.defineProperty(Root.prototype, \"_hasLicense\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            for (var i = 0; i < registry.licenses.length; i++) {\r\n                if (registry.licenses[i].match(/^AM5C.{5,}/i)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"_licenseApplied\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this._logo) {\r\n                this._logo.set(\"forceHidden\", true);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Root.prototype, \"debugGhostView\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this._renderer.debugGhostView;\r\n        },\r\n        /**\r\n         * @ignore\r\n         */\r\n        set: function (value) {\r\n            this._renderer.debugGhostView = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Root.prototype, \"tapToActivate\", {\r\n        /**\r\n         * @return Needs a tap to activate touch functions\r\n         */\r\n        get: function () {\r\n            return this._renderer.tapToActivate;\r\n        },\r\n        /**\r\n         * Set this to `true` if you need chart to require first a tap onto it before\r\n         * touch gesture related functionality like zoom/pan is turned on.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n         * @default false\r\n         * @since 5.2.9\r\n         * @param  value  Needs a tap to activate touch functions\r\n         */\r\n        set: function (value) {\r\n            this._renderer.tapToActivate = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Root.prototype, \"tapToActivateTimeout\", {\r\n        /**\r\n         * @return Timeout\r\n         */\r\n        get: function () {\r\n            return this._renderer.tapToActivateTimeout;\r\n        },\r\n        /**\r\n         * If `tapToActivate` is set to `true`, this setting will determine number\r\n         * of milliseconds the chart will stay \"active\", before releasing the\r\n         * controls back to the page.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/getting-started/root-element/#Touch_related_options} for more info\r\n         * @default 3000\r\n         * @since 5.2.9\r\n         * @param  value  Timeout\r\n         */\r\n        set: function (value) {\r\n            this._renderer.tapToActivateTimeout = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Root;\r\n}());\r\nexport { Root };\r\n//# sourceMappingURL=Root.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"../../core/util/Entity\";\r\n/**\r\n * A universal placeholder for bullet elements.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\r\n */\r\nvar Bullet = /** @class */ (function (_super) {\r\n    __extends(Bullet, _super);\r\n    function Bullet() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // used by MapPolygons where one data item can have multiple bullets of the same kind\r\n        Object.defineProperty(_this, \"_index\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * Target series object if it's a bullet for series.\r\n         */\r\n        Object.defineProperty(_this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Bullet.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // Applying themes because bullet will not have parent\r\n            _super.prototype._afterNewApplyThemes.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Bullet.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"sprite\")) {\r\n                var sprite = this.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setAll({ position: \"absolute\", role: \"figure\" });\r\n                    this._disposers.push(sprite);\r\n                }\r\n            }\r\n            if (this.isDirty(\"locationX\") || this.isDirty(\"locationY\")) {\r\n                if (this.series) {\r\n                    this.series._positionBullet(this);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Bullet, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Bullet\"\r\n    });\r\n    Object.defineProperty(Bullet, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([Bullet.className])\r\n    });\r\n    return Bullet;\r\n}(Entity));\r\nexport { Bullet };\r\n//# sourceMappingURL=Bullet.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"./Graphics\";\r\n/**\r\n * Draws a circle.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar Circle = /** @class */ (function (_super) {\r\n    __extends(Circle, _super);\r\n    function Circle() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Circle.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"radius\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Circle.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear) {\r\n                this._display.drawCircle(0, 0, this.get(\"radius\", 10));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Circle, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Circle\"\r\n    });\r\n    Object.defineProperty(Circle, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([Circle.className])\r\n    });\r\n    return Circle;\r\n}(Graphics));\r\nexport { Circle };\r\n//# sourceMappingURL=Circle.js.map","import { __extends } from \"tslib\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $math from \"../util/Math\";\r\nimport * as $utils from \"../util/Utils\";\r\nimport { Rectangle } from \"./Rectangle\";\r\n/**\r\n * Draws a rectangle with rounded corners.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar RoundedRectangle = /** @class */ (function (_super) {\r\n    __extends(RoundedRectangle, _super);\r\n    function RoundedRectangle() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(RoundedRectangle.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"cornerRadiusTL\") || this.isDirty(\"cornerRadiusTR\") || this.isDirty(\"cornerRadiusBR\") || this.isDirty(\"cornerRadiusBL\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(RoundedRectangle.prototype, \"_draw\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var width = this.width();\r\n            var height = this.height();\r\n            var w = width;\r\n            var h = height;\r\n            var wSign = w / Math.abs(width);\r\n            var hSign = h / Math.abs(height);\r\n            if ($type.isNumber(w) && $type.isNumber(h)) {\r\n                var minSide = Math.min(w, h) / 2;\r\n                var crtl = $utils.relativeToValue(this.get(\"cornerRadiusTL\", 8), minSide);\r\n                var crtr = $utils.relativeToValue(this.get(\"cornerRadiusTR\", 8), minSide);\r\n                var crbr = $utils.relativeToValue(this.get(\"cornerRadiusBR\", 8), minSide);\r\n                var crbl = $utils.relativeToValue(this.get(\"cornerRadiusBL\", 8), minSide);\r\n                var maxcr = Math.min(Math.abs(w / 2), Math.abs(h / 2));\r\n                crtl = $math.fitToRange(crtl, 0, maxcr);\r\n                crtr = $math.fitToRange(crtr, 0, maxcr);\r\n                crbr = $math.fitToRange(crbr, 0, maxcr);\r\n                crbl = $math.fitToRange(crbl, 0, maxcr);\r\n                this._display.moveTo(crtl * wSign, 0);\r\n                this._display.lineTo(w - crtr * wSign, 0);\r\n                if (crtr > 0) {\r\n                    this._display.arcTo(w, 0, w, crtr * hSign, crtr);\r\n                }\r\n                this._display.lineTo(w, h - crbr * hSign);\r\n                if (crbr > 0) {\r\n                    this._display.arcTo(w, h, w - crbr * wSign, h, crbr);\r\n                }\r\n                this._display.lineTo(crbl * wSign, h);\r\n                if (crbl > 0) {\r\n                    this._display.arcTo(0, h, 0, h - crbl * hSign, crbl);\r\n                }\r\n                this._display.lineTo(0, crtl * hSign);\r\n                if (crtl > 0) {\r\n                    this._display.arcTo(0, 0, crtl * wSign, 0, crtl);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(RoundedRectangle, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"RoundedRectangle\"\r\n    });\r\n    Object.defineProperty(RoundedRectangle, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Rectangle.classNames.concat([RoundedRectangle.className])\r\n    });\r\n    return RoundedRectangle;\r\n}(Rectangle));\r\nexport { RoundedRectangle };\r\n//# sourceMappingURL=RoundedRectangle.js.map","import { __extends } from \"tslib\";\r\nimport { RoundedRectangle } from \"../render/RoundedRectangle\";\r\nimport { Container } from \"./Container\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Draws an interactive button.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/buttons/} for more info\r\n * @important\r\n */\r\nvar Button = /** @class */ (function (_super) {\r\n    __extends(Button, _super);\r\n    function Button() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Button.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"button\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            if (!this._settings.background) {\r\n                this.set(\"background\", RoundedRectangle.new(this._root, {\r\n                    themeTags: $utils.mergeTags(this._settings.themeTags, [\"background\"])\r\n                }));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Button.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this.isDirty(\"icon\")) {\r\n                var previous = this._prevSettings.icon;\r\n                var icon = this.get(\"icon\");\r\n                if (icon !== previous) {\r\n                    this._disposeProperty(\"icon\");\r\n                    if (previous) {\r\n                        previous.dispose();\r\n                    }\r\n                    if (icon) {\r\n                        this.children.push(icon);\r\n                    }\r\n                    this._prevSettings.icon = icon;\r\n                }\r\n            }\r\n            if (this.isDirty(\"label\")) {\r\n                var previous = this._prevSettings.label;\r\n                var label = this.get(\"label\");\r\n                if (label !== previous) {\r\n                    this._disposeProperty(\"label\");\r\n                    if (previous) {\r\n                        previous.dispose();\r\n                    }\r\n                    if (label) {\r\n                        this.children.push(label);\r\n                    }\r\n                    this._prevSettings.label = label;\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Button, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Button\"\r\n    });\r\n    Object.defineProperty(Button, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Button.className])\r\n    });\r\n    return Button;\r\n}(Container));\r\nexport { Button };\r\n//# sourceMappingURL=Button.js.map","import { __extends } from \"tslib\";\r\nimport { RoundedRectangle } from \"../render/RoundedRectangle\";\r\nimport { Container } from \"./Container\";\r\nimport { Graphics } from \"./Graphics\";\r\nimport { Button } from \"./Button\";\r\nimport * as $type from \"../util/Type\";\r\nimport * as $utils from \"../util/Utils\";\r\n/**\r\n * A control that allows zooming chart's axes, or other uses requiring range\r\n * selection.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/} for more info\r\n */\r\nvar Scrollbar = /** @class */ (function (_super) {\r\n    __extends(Scrollbar, _super);\r\n    function Scrollbar() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A thumb elment - a draggable square between the grips, used for panning\r\n         * the selection.\r\n         */\r\n        Object.defineProperty(_this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._makeThumb()\r\n        });\r\n        /**\r\n         * Start grip button.\r\n         */\r\n        Object.defineProperty(_this, \"startGrip\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._makeButton()\r\n        });\r\n        /**\r\n         * End grip button.\r\n         */\r\n        Object.defineProperty(_this, \"endGrip\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._makeButton()\r\n        });\r\n        Object.defineProperty(_this, \"_thumbBusy\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_startDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_endDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_thumbDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_gripDown\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Scrollbar.prototype, \"_addOrientationClass\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", this._settings.orientation]);\r\n            if (!this._settings.background) {\r\n                this._settings.background = RoundedRectangle.new(this._root, {\r\n                    themeTags: $utils.mergeTags(this._settings.themeTags, [\"main\", \"background\"])\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"_makeButton\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.children.push(Button.new(this._root, {\r\n                themeTags: [\"resize\", \"button\", this.get(\"orientation\")], icon: Graphics.new(this._root, {\r\n                    themeTags: [\"icon\"]\r\n                })\r\n            }));\r\n        }\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"_makeThumb\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.children.push(RoundedRectangle.new(this._root, {\r\n                themeTags: [\"thumb\", this.get(\"orientation\")]\r\n            }));\r\n        }\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"_handleAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (animation) {\r\n            var _this = this;\r\n            if (animation) {\r\n                this._disposers.push(animation.events.on(\"stopped\", function () {\r\n                    _this.setPrivateRaw(\"isBusy\", false);\r\n                    _this._thumbBusy = false;\r\n                }));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._addOrientationClass();\r\n            _super.prototype._afterNew.call(this);\r\n            var startGrip = this.startGrip;\r\n            var endGrip = this.endGrip;\r\n            var thumb = this.thumb;\r\n            var background = this.get(\"background\");\r\n            if (background) {\r\n                this._disposers.push(background.events.on(\"click\", function (event) {\r\n                    _this.setPrivateRaw(\"isBusy\", true);\r\n                    var point = _this._display.toLocal(event.point);\r\n                    var w = _this.width();\r\n                    var h = _this.height();\r\n                    var orientation = _this.get(\"orientation\");\r\n                    var newMiddle;\r\n                    if (orientation == \"vertical\") {\r\n                        newMiddle = (point.y - thumb.height() / 2) / h;\r\n                    }\r\n                    else {\r\n                        newMiddle = (point.x - thumb.width() / 2) / w;\r\n                    }\r\n                    var newCoordinate;\r\n                    var key;\r\n                    if (orientation == \"vertical\") {\r\n                        newCoordinate = newMiddle * h;\r\n                        key = \"y\";\r\n                    }\r\n                    else {\r\n                        newCoordinate = newMiddle * w;\r\n                        key = \"x\";\r\n                    }\r\n                    var duration = _this.get(\"animationDuration\", 0);\r\n                    if (duration > 0) {\r\n                        _this._thumbBusy = true;\r\n                        _this._handleAnimation(_this.thumb.animate({ key: key, to: newCoordinate, duration: duration, easing: _this.get(\"animationEasing\") }));\r\n                    }\r\n                    else {\r\n                        _this.thumb.set(key, newCoordinate);\r\n                        _this._root.events.on(\"frameended\", function () {\r\n                            _this.setPrivateRaw(\"isBusy\", false);\r\n                        });\r\n                    }\r\n                }));\r\n            }\r\n            this._disposers.push(thumb.events.on(\"dblclick\", function (event) {\r\n                if (!$utils.isLocalEvent(event.originalEvent, _this)) {\r\n                    return;\r\n                }\r\n                var duration = _this.get(\"animationDuration\", 0);\r\n                var easing = _this.get(\"animationEasing\");\r\n                _this.animate({ key: \"start\", to: 0, duration: duration, easing: easing });\r\n                _this.animate({ key: \"end\", to: 1, duration: duration, easing: easing });\r\n            }));\r\n            this._disposers.push(startGrip.events.on(\"pointerdown\", function () {\r\n                _this.setPrivateRaw(\"isBusy\", true);\r\n                _this._startDown = true;\r\n                _this._gripDown = \"start\";\r\n            }));\r\n            this._disposers.push(endGrip.events.on(\"pointerdown\", function () {\r\n                _this.setPrivateRaw(\"isBusy\", true);\r\n                _this._endDown = true;\r\n                _this._gripDown = \"end\";\r\n            }));\r\n            this._disposers.push(thumb.events.on(\"pointerdown\", function () {\r\n                _this.setPrivateRaw(\"isBusy\", true);\r\n                _this._thumbDown = true;\r\n                _this._gripDown = undefined;\r\n            }));\r\n            this._disposers.push(startGrip.events.on(\"globalpointerup\", function () {\r\n                if (_this._startDown) {\r\n                    _this.setPrivateRaw(\"isBusy\", false);\r\n                }\r\n                _this._startDown = false;\r\n            }));\r\n            this._disposers.push(endGrip.events.on(\"globalpointerup\", function () {\r\n                if (_this._endDown) {\r\n                    _this.setPrivateRaw(\"isBusy\", false);\r\n                }\r\n                _this._endDown = false;\r\n            }));\r\n            this._disposers.push(thumb.events.on(\"globalpointerup\", function () {\r\n                if (_this._thumbDown) {\r\n                    _this.setPrivateRaw(\"isBusy\", false);\r\n                }\r\n                _this._thumbDown = false;\r\n            }));\r\n            this._disposers.push(startGrip.on(\"x\", function () {\r\n                _this._updateThumb();\r\n            }));\r\n            this._disposers.push(endGrip.on(\"x\", function () {\r\n                _this._updateThumb();\r\n            }));\r\n            this._disposers.push(startGrip.on(\"y\", function () {\r\n                _this._updateThumb();\r\n            }));\r\n            this._disposers.push(endGrip.on(\"y\", function () {\r\n                _this._updateThumb();\r\n            }));\r\n            this._disposers.push(thumb.events.on(\"positionchanged\", function () {\r\n                _this._updateGripsByThumb();\r\n            }));\r\n            if (this.get(\"orientation\") == \"vertical\") {\r\n                startGrip.set(\"x\", 0);\r\n                endGrip.set(\"x\", 0);\r\n                this._disposers.push(thumb.adapters.add(\"y\", function (value) {\r\n                    return Math.max(Math.min(Number(value), _this.height() - thumb.height()), 0);\r\n                }));\r\n                this._disposers.push(thumb.adapters.add(\"x\", function (_value) {\r\n                    return _this.width() / 2;\r\n                }));\r\n                this._disposers.push(startGrip.adapters.add(\"x\", function (_value) {\r\n                    return _this.width() / 2;\r\n                }));\r\n                this._disposers.push(endGrip.adapters.add(\"x\", function (_value) {\r\n                    return _this.width() / 2;\r\n                }));\r\n                this._disposers.push(startGrip.adapters.add(\"y\", function (value) {\r\n                    return Math.max(Math.min(Number(value), _this.height()), 0);\r\n                }));\r\n                this._disposers.push(endGrip.adapters.add(\"y\", function (value) {\r\n                    return Math.max(Math.min(Number(value), _this.height()), 0);\r\n                }));\r\n            }\r\n            else {\r\n                startGrip.set(\"y\", 0);\r\n                endGrip.set(\"y\", 0);\r\n                this._disposers.push(thumb.adapters.add(\"x\", function (value) {\r\n                    return Math.max(Math.min(Number(value), _this.width() - thumb.width()), 0);\r\n                }));\r\n                this._disposers.push(thumb.adapters.add(\"y\", function (_value) {\r\n                    return _this.height() / 2;\r\n                }));\r\n                this._disposers.push(startGrip.adapters.add(\"y\", function (_value) {\r\n                    return _this.height() / 2;\r\n                }));\r\n                this._disposers.push(endGrip.adapters.add(\"y\", function (_value) {\r\n                    return _this.height() / 2;\r\n                }));\r\n                this._disposers.push(startGrip.adapters.add(\"x\", function (value) {\r\n                    return Math.max(Math.min(Number(value), _this.width()), 0);\r\n                }));\r\n                this._disposers.push(endGrip.adapters.add(\"x\", function (value) {\r\n                    return Math.max(Math.min(Number(value), _this.width()), 0);\r\n                }));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateChildren.call(this);\r\n            if (this.isDirty(\"end\") || this.isDirty(\"start\") || this._sizeDirty) {\r\n                this.updateGrips();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this.isDirty(\"start\") || this.isDirty(\"end\")) {\r\n                var eventType = \"rangechanged\";\r\n                if (this.events.isEnabled(eventType)) {\r\n                    this.events.dispatch(eventType, { type: eventType, target: this, start: this.get(\"start\", 0), end: this.get(\"end\", 1), grip: this._gripDown });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Scrollbar.prototype, \"updateGrips\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var startGrip = this.startGrip;\r\n            var endGrip = this.endGrip;\r\n            var orientation = this.get(\"orientation\");\r\n            var height = this.height();\r\n            var width = this.width();\r\n            if (orientation == \"vertical\") {\r\n                startGrip.set(\"y\", height * this.get(\"start\", 0));\r\n                endGrip.set(\"y\", height * this.get(\"end\", 1));\r\n            }\r\n            else {\r\n                startGrip.set(\"x\", width * this.get(\"start\", 0));\r\n                endGrip.set(\"x\", width * this.get(\"end\", 1));\r\n            }\r\n            var valueFunction = this.getPrivate(\"positionTextFunction\");\r\n            var from = Math.round(this.get(\"start\", 0) * 100);\r\n            var to = Math.round(this.get(\"end\", 0) * 100);\r\n            var fromValue;\r\n            var toValue;\r\n            if (valueFunction) {\r\n                fromValue = valueFunction.call(this, this.get(\"start\", 0));\r\n                toValue = valueFunction.call(this, this.get(\"end\", 0));\r\n            }\r\n            else {\r\n                fromValue = from + \"%\";\r\n                toValue = to + \"%\";\r\n            }\r\n            startGrip.set(\"ariaLabel\", this._t(\"From %1\", undefined, fromValue));\r\n            startGrip.set(\"ariaValueNow\", \"\" + from);\r\n            startGrip.set(\"ariaValueText\", from + \"%\");\r\n            startGrip.set(\"ariaValueMin\", \"0\");\r\n            startGrip.set(\"ariaValueMax\", \"100\");\r\n            endGrip.set(\"ariaLabel\", this._t(\"To %1\", undefined, toValue));\r\n            endGrip.set(\"ariaValueNow\", \"\" + to);\r\n            endGrip.set(\"ariaValueText\", to + \"%\");\r\n            endGrip.set(\"ariaValueMin\", \"0\");\r\n            endGrip.set(\"ariaValueMax\", \"100\");\r\n        }\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"_updateThumb\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var thumb = this.thumb;\r\n            var startGrip = this.startGrip;\r\n            var endGrip = this.endGrip;\r\n            var height = this.height();\r\n            var width = this.width();\r\n            var x0 = startGrip.x();\r\n            var x1 = endGrip.x();\r\n            var y0 = startGrip.y();\r\n            var y1 = endGrip.y();\r\n            var start = 0;\r\n            var end = 1;\r\n            if (this.get(\"orientation\") == \"vertical\") {\r\n                if ($type.isNumber(y0) && $type.isNumber(y1)) {\r\n                    if (!this._thumbBusy && !thumb.isDragging()) {\r\n                        thumb.set(\"height\", y1 - y0);\r\n                        thumb.set(\"y\", y0);\r\n                    }\r\n                    start = y0 / height;\r\n                    end = y1 / height;\r\n                }\r\n            }\r\n            else {\r\n                if ($type.isNumber(x0) && $type.isNumber(x1)) {\r\n                    if (!this._thumbBusy && !thumb.isDragging()) {\r\n                        thumb.set(\"width\", x1 - x0);\r\n                        thumb.set(\"x\", x0);\r\n                    }\r\n                    start = x0 / width;\r\n                    end = x1 / width;\r\n                }\r\n            }\r\n            if (this.getPrivate(\"isBusy\") && (this.get(\"start\") != start || this.get(\"end\") != end)) {\r\n                this.set(\"start\", start);\r\n                this.set(\"end\", end);\r\n            }\r\n            var valueFunction = this.getPrivate(\"positionTextFunction\");\r\n            var from = Math.round(this.get(\"start\", 0) * 100);\r\n            var to = Math.round(this.get(\"end\", 0) * 100);\r\n            var fromValue;\r\n            var toValue;\r\n            if (valueFunction) {\r\n                fromValue = valueFunction.call(this, this.get(\"start\", 0));\r\n                toValue = valueFunction.call(this, this.get(\"end\", 0));\r\n            }\r\n            else {\r\n                fromValue = from + \"%\";\r\n                toValue = to + \"%\";\r\n            }\r\n            thumb.set(\"ariaLabel\", this._t(\"From %1 to %2\", undefined, fromValue, toValue));\r\n            thumb.set(\"ariaValueNow\", \"\" + from);\r\n            thumb.set(\"ariaValueText\", from + \"%\");\r\n        }\r\n    });\r\n    Object.defineProperty(Scrollbar.prototype, \"_updateGripsByThumb\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var thumb = this.thumb;\r\n            var startGrip = this.startGrip;\r\n            var endGrip = this.endGrip;\r\n            if (this.get(\"orientation\") == \"vertical\") {\r\n                var thumbSize = thumb.height();\r\n                startGrip.set(\"y\", thumb.y());\r\n                endGrip.set(\"y\", thumb.y() + thumbSize);\r\n            }\r\n            else {\r\n                var thumbSize = thumb.width();\r\n                startGrip.set(\"x\", thumb.x());\r\n                endGrip.set(\"x\", thumb.x() + thumbSize);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Scrollbar, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Scrollbar\"\r\n    });\r\n    Object.defineProperty(Scrollbar, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Scrollbar.className])\r\n    });\r\n    return Scrollbar;\r\n}(Container));\r\nexport { Scrollbar };\r\n//# sourceMappingURL=Scrollbar.js.map","import { __extends } from \"tslib\";\r\nimport { Entity } from \"./Entity\";\r\nimport { Color } from \"./Color\";\r\n/**\r\n * An object which holds list of colors and can generate new ones.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Color_sets} for more info\r\n */\r\nvar ColorSet = /** @class */ (function (_super) {\r\n    __extends(ColorSet, _super);\r\n    function ColorSet() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    //protected _currentPass: number = 0;\r\n    Object.defineProperty(ColorSet.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // Applying themes because color set will not have parent\r\n            _super.prototype._afterNewApplyThemes.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ColorSet.prototype, \"generateColors\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivate(\"currentPass\", this.getPrivate(\"currentPass\", 0) + 1);\r\n            var pass = this.getPrivate(\"currentPass\");\r\n            var colors = this.get(\"colors\", [this.get(\"baseColor\", Color.fromHex(0xff0000))]);\r\n            if (!this.getPrivate(\"numColors\")) {\r\n                this.setPrivate(\"numColors\", colors.length);\r\n            }\r\n            //const len = colors.length;\r\n            var len = this.getPrivate(\"numColors\");\r\n            //const start = len - this.getPrivate(\"numColors\")!;\r\n            var start = 0;\r\n            var passOptions = this.get(\"passOptions\");\r\n            var reuse = this.get(\"reuse\");\r\n            for (var i = start; i < len; i++) {\r\n                if (reuse) {\r\n                    colors.push(colors[i]);\r\n                }\r\n                else {\r\n                    var hsl = colors[i].toHSL();\r\n                    var h = hsl.h + (passOptions.hue || 0) * pass;\r\n                    while (h > 1)\r\n                        h -= 1;\r\n                    var s = hsl.s + (passOptions.saturation || 0) * pass;\r\n                    //if (s > 1) s -= Math.floor(s);\r\n                    if (s > 1)\r\n                        s = 1;\r\n                    if (s < 0)\r\n                        s = 0;\r\n                    var l = hsl.l + (passOptions.lightness || 0) * pass;\r\n                    //if (l > 1) l -= Math.floor(l);\r\n                    while (l > 1)\r\n                        l -= 1;\r\n                    colors.push(Color.fromHSL(h, s, l));\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns a [[Color]] at specific index.\r\n     *\r\n     * If there's no color at this index, a new color is generated.\r\n     *\r\n     * @param   index  Index\r\n     * @return         Color\r\n     */\r\n    Object.defineProperty(ColorSet.prototype, \"getIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index) {\r\n            var colors = this.get(\"colors\", []);\r\n            var saturation = this.get(\"saturation\");\r\n            if (index >= colors.length) {\r\n                this.generateColors();\r\n                return this.getIndex(index);\r\n            }\r\n            return saturation != null ? Color.saturate(colors[index], saturation) : colors[index];\r\n        }\r\n    });\r\n    /**\r\n     * Returns next [[Color]] in the list.\r\n     *\r\n     * If the list is out of colors, new ones are generated dynamically.\r\n     */\r\n    Object.defineProperty(ColorSet.prototype, \"next\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var currentStep = this.getPrivate(\"currentStep\", this.get(\"startIndex\", 0));\r\n            this.setPrivate(\"currentStep\", currentStep + this.get(\"step\", 1));\r\n            return this.getIndex(currentStep);\r\n        }\r\n    });\r\n    /**\r\n     * Resets counter to the start of the list, so the next call for `next()` will\r\n     * return the first color.\r\n     */\r\n    Object.defineProperty(ColorSet.prototype, \"reset\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivate(\"currentStep\", this.get(\"startIndex\", 0));\r\n        }\r\n    });\r\n    Object.defineProperty(ColorSet, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"ColorSet\"\r\n    });\r\n    Object.defineProperty(ColorSet, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Entity.classNames.concat([ColorSet.className])\r\n    });\r\n    return ColorSet;\r\n}(Entity));\r\nexport { ColorSet };\r\n//# sourceMappingURL=ColorSet.js.map","import { __assign } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $type from \"./Type\";\r\nimport * as $utils from \"./Utils\";\r\n/**\r\n * Returns a `Promise` which can be used to execute code after number of\r\n * milliseconds.\r\n *\r\n * @param   ms  Sleep duration in ms\r\n * @return      Promise\r\n */\r\nexport function sleep(ms) {\r\n    return new Promise(function (resolve, _reject) {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n/**\r\n * Maps time period names to their numeric representations in milliseconds.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var timeUnitDurations = {\r\n    millisecond: 1,\r\n    second: 1000,\r\n    minute: 60000,\r\n    hour: 3600000,\r\n    day: 86400000,\r\n    week: 604800000,\r\n    month: 365.242 / 12 * 86400000,\r\n    year: 31536000000\r\n};\r\n/**\r\n * Returns the next time unit that goes after source `unit`.\r\n *\r\n * E.g. \"hour\" is the next unit after \"minute\", etc.\r\n *\r\n * @ignore Exclude from docs\r\n * @param unit  Source time unit\r\n * @return Next time unit\r\n */\r\nexport function getNextUnit(unit) {\r\n    switch (unit) {\r\n        case \"year\":\r\n            return;\r\n        case \"month\":\r\n            return \"year\";\r\n        case \"week\":\r\n            return \"month\";\r\n        case \"day\":\r\n            return \"month\"; // not a mistake\r\n        case \"hour\":\r\n            return \"day\";\r\n        case \"minute\":\r\n            return \"hour\";\r\n        case \"second\":\r\n            return \"minute\";\r\n        case \"millisecond\":\r\n            return \"second\";\r\n    }\r\n}\r\n/**\r\n * Returns number of milliseconds in the `count` of time `unit`.\r\n *\r\n * Available units: \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\",\r\n * \"month\", and \"year\".\r\n *\r\n * @param unit   Time unit\r\n * @param count  Number of units\r\n * @return Milliseconds\r\n */\r\nexport function getDuration(unit, count) {\r\n    if (count == null) {\r\n        count = 1;\r\n    }\r\n    return timeUnitDurations[unit] * count;\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getIntervalDuration(interval) {\r\n    if (interval) {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    return 0;\r\n}\r\nexport function getDateIntervalDuration(interval, date, firstDateOfWeek, utc, timezone) {\r\n    var unit = interval.timeUnit;\r\n    var count = interval.count;\r\n    if (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\r\n        return timeUnitDurations[interval.timeUnit] * interval.count;\r\n    }\r\n    else {\r\n        var firstTime = round(new Date(date.getTime()), unit, count, firstDateOfWeek, utc, undefined, timezone).getTime();\r\n        var lastTime = add(new Date(firstTime), unit, count, utc).getTime();\r\n        return lastTime - firstTime;\r\n    }\r\n}\r\n/**\r\n * Returns current `Date` object.\r\n *\r\n * @return Current date\r\n */\r\nexport function now() {\r\n    return new Date();\r\n}\r\n/**\r\n * Returns current timestamp.\r\n *\r\n * @return Current timestamp\r\n */\r\nexport function getTime() {\r\n    return now().getTime();\r\n}\r\n/**\r\n * Returns a copy of the `Date` object.\r\n *\r\n * @param date  Source date\r\n * @return Copy\r\n */\r\nexport function copy(date) {\r\n    return new Date(date.getTime()); // todo: check if this is ok. new Date(date) used to strip milliseconds on FF in v3\r\n}\r\n/**\r\n * Checks if the `unit` part of two `Date` objects do not match. Two dates\r\n * represent a \"range\" of time, rather the same time date.\r\n *\r\n * @param timeOne  timestamp\r\n * @param timeTwo  timestamp\r\n * @param unit     Time unit to check\r\n * @return Range?\r\n */\r\nexport function checkChange(timeOne, timeTwo, unit, utc, timezone) {\r\n    // quick\r\n    if ((timeTwo - timeOne) > getDuration(unit, 1.2)) {\r\n        return true;\r\n    }\r\n    var dateOne = new Date(timeOne);\r\n    var dateTwo = new Date(timeTwo);\r\n    if (timezone) {\r\n        dateOne = timezone.convertLocal(dateOne);\r\n        dateTwo = timezone.convertLocal(dateTwo);\r\n    }\r\n    var timeZoneOffset1 = 0;\r\n    var timeZoneOffset2 = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset1 = dateOne.getTimezoneOffset();\r\n        dateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);\r\n        timeZoneOffset2 = dateTwo.getTimezoneOffset();\r\n        dateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);\r\n    }\r\n    var changed = false;\r\n    switch (unit) {\r\n        case \"year\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"month\":\r\n            if (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"day\":\r\n            if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\r\n                changed = true;\r\n            }\r\n            else if (dateOne.getUTCDate() != dateTwo.getUTCDate()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"hour\":\r\n            if (dateOne.getUTCHours() != dateTwo.getUTCHours()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"minute\":\r\n            if (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"second\":\r\n            if (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n        case \"millisecond\":\r\n            if (dateOne.getTime() != dateTwo.getTime()) {\r\n                changed = true;\r\n            }\r\n            break;\r\n    }\r\n    if (changed) {\r\n        return changed;\r\n    }\r\n    var nextUnit = getNextUnit(unit);\r\n    if (nextUnit) {\r\n        return checkChange(timeOne, timeTwo, nextUnit, utc, timezone);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Adds `count` of time `unit` to the source date. Returns a modified `Date` object.\r\n *\r\n * @param date   Source date\r\n * @param unit   Time unit\r\n * @param count  Number of units to add\r\n * @return Modified date\r\n */\r\nexport function add(date, unit, count, utc) {\r\n    var timeZoneOffset = 0;\r\n    if (!utc && unit != \"millisecond\") {\r\n        timeZoneOffset = date.getTimezoneOffset();\r\n        date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n    }\r\n    switch (unit) {\r\n        case \"day\":\r\n            var day = date.getUTCDate();\r\n            date.setUTCDate(day + count);\r\n            break;\r\n        case \"second\":\r\n            var seconds = date.getUTCSeconds();\r\n            date.setUTCSeconds(seconds + count);\r\n            break;\r\n        case \"millisecond\":\r\n            var milliseconds = date.getUTCMilliseconds();\r\n            date.setUTCMilliseconds(milliseconds + count);\r\n            break;\r\n        case \"hour\":\r\n            var hours = date.getUTCHours();\r\n            date.setUTCHours(hours + count);\r\n            break;\r\n        case \"minute\":\r\n            var minutes = date.getUTCMinutes();\r\n            date.setUTCMinutes(minutes + count);\r\n            break;\r\n        case \"year\":\r\n            var year = date.getUTCFullYear();\r\n            date.setUTCFullYear(year + count);\r\n            break;\r\n        case \"month\":\r\n            var month = date.getUTCMonth();\r\n            date.setUTCMonth(month + count);\r\n            break;\r\n        case \"week\":\r\n            var wday = date.getUTCDate();\r\n            date.setUTCDate(wday + count * 7);\r\n            break;\r\n    }\r\n    if (!utc && unit != \"millisecond\") {\r\n        date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n        if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n            var newTimeZoneOffset = date.getTimezoneOffset();\r\n            if (newTimeZoneOffset != timeZoneOffset) {\r\n                var diff = newTimeZoneOffset - timeZoneOffset;\r\n                date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                // solves issues if newe time falls back to old time zone\r\n                if (date.getTimezoneOffset() != newTimeZoneOffset) {\r\n                    date.setUTCMinutes(date.getUTCMinutes() - diff);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return date;\r\n}\r\n/**\r\n * \"Rounds\" the date to specific time unit.\r\n *\r\n * @param date             Source date\r\n * @param unit             Time unit\r\n * @param count            Number of units to round to\r\n * @param firstDateOfWeek  First day of week\r\n * @param utc              Use UTC timezone\r\n * @param firstDate        First date to round to\r\n * @param roundMinutes     Minutes to round to (some timezones use non-whole hour)\r\n * @param timezone         Use specific named timezone when rounding\r\n * @return New date\r\n */\r\nexport function round(date, unit, count, firstDateOfWeek, utc, firstDate, timezone) {\r\n    if (!timezone || utc) {\r\n        var timeZoneOffset = 0;\r\n        if (!utc && unit != \"millisecond\") {\r\n            timeZoneOffset = date.getTimezoneOffset();\r\n            date.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\r\n        }\r\n        switch (unit) {\r\n            case \"day\":\r\n                var day = date.getUTCDate();\r\n                if (count > 1) {\r\n                    //\tday = Math.floor(day / count) * count;\r\n                    if (firstDate) {\r\n                        firstDate = round(firstDate, \"day\", 1);\r\n                        var difference = date.getTime() - firstDate.getTime();\r\n                        var unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                        var duration = getDuration(\"day\", unitCount * count);\r\n                        date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    }\r\n                }\r\n                else {\r\n                    date.setUTCDate(day);\r\n                }\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"second\":\r\n                var seconds = date.getUTCSeconds();\r\n                if (count > 1) {\r\n                    seconds = Math.floor(seconds / count) * count;\r\n                }\r\n                date.setUTCSeconds(seconds, 0);\r\n                break;\r\n            case \"millisecond\":\r\n                if (count == 1) {\r\n                    return date; // much better for perf!\r\n                }\r\n                var milliseconds = date.getUTCMilliseconds();\r\n                milliseconds = Math.floor(milliseconds / count) * count;\r\n                date.setUTCMilliseconds(milliseconds);\r\n                break;\r\n            case \"hour\":\r\n                var hours = date.getUTCHours();\r\n                if (count > 1) {\r\n                    hours = Math.floor(hours / count) * count;\r\n                }\r\n                date.setUTCHours(hours, 0, 0, 0);\r\n                break;\r\n            case \"minute\":\r\n                var minutes = date.getUTCMinutes();\r\n                milliseconds = date.getUTCMilliseconds();\r\n                if (count > 1) {\r\n                    minutes = Math.floor(minutes / count) * count;\r\n                }\r\n                date.setUTCMinutes(minutes, 0, 0);\r\n                break;\r\n            case \"month\":\r\n                var month = date.getUTCMonth();\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                date.setUTCMonth(month, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"year\":\r\n                var year = date.getUTCFullYear();\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                date.setUTCFullYear(year, 0, 1);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n            case \"week\":\r\n                var wday = date.getUTCDate();\r\n                var weekDay = date.getUTCDay();\r\n                if (!$type.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekDay >= firstDateOfWeek) {\r\n                    wday = wday - weekDay + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    wday = wday - (7 + weekDay) + firstDateOfWeek;\r\n                }\r\n                date.setUTCDate(wday);\r\n                date.setUTCHours(0, 0, 0, 0);\r\n                break;\r\n        }\r\n        if (!utc && unit != \"millisecond\") {\r\n            date.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\r\n            if (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\r\n                var newTimeZoneOffset = date.getTimezoneOffset();\r\n                if (newTimeZoneOffset != timeZoneOffset) {\r\n                    var diff = newTimeZoneOffset - timeZoneOffset;\r\n                    date.setUTCMinutes(date.getUTCMinutes() + diff);\r\n                }\r\n            }\r\n        }\r\n        return date;\r\n    }\r\n    else {\r\n        var tzoffset = timezone.offsetUTC(date);\r\n        var timeZoneOffset = date.getTimezoneOffset();\r\n        var parsedDate = timezone.parseDate(date);\r\n        var year = parsedDate.year;\r\n        var month = parsedDate.month;\r\n        var day = parsedDate.day;\r\n        var hour = parsedDate.hour;\r\n        var minute = parsedDate.minute;\r\n        var second = parsedDate.second;\r\n        var millisecond = parsedDate.millisecond;\r\n        var weekday = parsedDate.weekday;\r\n        switch (unit) {\r\n            case \"day\":\r\n                if (firstDate) {\r\n                    firstDate = round(firstDate, \"day\", 1);\r\n                    var difference = date.getTime() - firstDate.getTime();\r\n                    var unitCount = Math.floor(difference / getDuration(\"day\") / count);\r\n                    var duration = getDuration(\"day\", unitCount * count);\r\n                    date.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\r\n                    parsedDate = timezone.parseDate(date);\r\n                    year = parsedDate.year;\r\n                    month = parsedDate.month;\r\n                    day = parsedDate.day;\r\n                }\r\n                hour = 0;\r\n                minute = 0;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"second\":\r\n                if (count > 1) {\r\n                    second = Math.floor(second / count) * count;\r\n                }\r\n                millisecond = 0;\r\n                break;\r\n            case \"millisecond\":\r\n                if (count > 1) {\r\n                    millisecond = Math.floor(millisecond / count) * count;\r\n                }\r\n                break;\r\n            case \"hour\":\r\n                if (count > 1) {\r\n                    hour = Math.floor(hour / count) * count;\r\n                }\r\n                minute = 0;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"minute\":\r\n                if (count > 1) {\r\n                    minute = Math.floor(minute / count) * count;\r\n                }\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"month\":\r\n                if (count > 1) {\r\n                    month = Math.floor(month / count) * count;\r\n                }\r\n                day = 1;\r\n                hour = 0;\r\n                minute = 0;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"year\":\r\n                if (count > 1) {\r\n                    year = Math.floor(year / count) * count;\r\n                }\r\n                month = 0;\r\n                day = 1;\r\n                hour = 0;\r\n                minute = 0;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n            case \"week\":\r\n                if (!$type.isNumber(firstDateOfWeek)) {\r\n                    firstDateOfWeek = 1;\r\n                }\r\n                if (weekday >= firstDateOfWeek) {\r\n                    day = day - weekday + firstDateOfWeek;\r\n                }\r\n                else {\r\n                    day = day - (7 + weekday) + firstDateOfWeek;\r\n                }\r\n                hour = 0;\r\n                minute = 0;\r\n                second = 0;\r\n                millisecond = 0;\r\n                break;\r\n        }\r\n        minute += tzoffset - timeZoneOffset;\r\n        date = new Date(year, month, day, hour, minute, second, millisecond);\r\n        var newOffset = date.getTimezoneOffset();\r\n        if (newOffset != timeZoneOffset) {\r\n            date.setTime(date.getTime() + (timeZoneOffset - newOffset) * 60000);\r\n        }\r\n        return date;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function chooseInterval(index, duration, gridCount, intervals) {\r\n    var gridInterval = intervals[index];\r\n    var intervalDuration = getIntervalDuration(gridInterval);\r\n    var lastIndex = intervals.length - 1;\r\n    if (index >= lastIndex) {\r\n        return __assign({}, intervals[lastIndex]);\r\n    }\r\n    var count = Math.ceil(duration / intervalDuration);\r\n    if (duration < intervalDuration && index > 0) {\r\n        return __assign({}, intervals[index - 1]);\r\n    }\r\n    if (count <= gridCount) {\r\n        return __assign({}, intervals[index]);\r\n    }\r\n    else {\r\n        if (index + 1 < intervals.length) {\r\n            return chooseInterval(index + 1, duration, gridCount, intervals);\r\n        }\r\n        else {\r\n            return __assign({}, intervals[index]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function getUnitValue(date, unit) {\r\n    switch (unit) {\r\n        case \"day\":\r\n            return date.getDate();\r\n        case \"second\":\r\n            return date.getSeconds();\r\n        case \"millisecond\":\r\n            return date.getMilliseconds();\r\n        case \"hour\":\r\n            return date.getHours();\r\n        case \"minute\":\r\n            return date.getMinutes();\r\n        case \"month\":\r\n            return date.getMonth();\r\n        case \"year\":\r\n            return date.getFullYear();\r\n        case \"week\":\r\n            return $utils.getWeek(date);\r\n    }\r\n}\r\n//# sourceMappingURL=Time.js.map","import { __extends } from \"tslib\";\r\nimport { Theme } from \"../../core/Theme\";\r\nimport { percent, p50, p100 } from \"../../core/util/Percent\";\r\nimport { ColorSet } from \"../../core/util/ColorSet\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\nimport * as $time from \"../../core/util/Time\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport * as $array from \"../../core/util/Array\";\r\n/**\r\n * @ignore\r\n */\r\nvar XYChartDefaultTheme = /** @class */ (function (_super) {\r\n    __extends(XYChartDefaultTheme, _super);\r\n    function XYChartDefaultTheme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(XYChartDefaultTheme.prototype, \"setupDefaultRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype.setupDefaultRules.call(this);\r\n            var ic = this._root.interfaceColors;\r\n            var language = this._root.language;\r\n            var r = this.rule.bind(this);\r\n            /**\r\n             * ========================================================================\r\n             * charts/xy\r\n             * ========================================================================\r\n             */\r\n            r(\"XYChart\").setAll({\r\n                colors: ColorSet.new(this._root, {}),\r\n                paddingLeft: 20,\r\n                paddingRight: 20,\r\n                paddingTop: 16,\r\n                paddingBottom: 16,\r\n                panX: false,\r\n                panY: false,\r\n                wheelStep: 0.25,\r\n                arrangeTooltips: true,\r\n                pinchZoomX: false,\r\n                pinchZoomY: false\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/xy: XYChartScrollbar\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"XYChart\", [\"scrollbar\", \"chart\"]).setAll({\r\n                paddingBottom: 0,\r\n                paddingLeft: 0,\r\n                paddingTop: 0,\r\n                paddingRight: 0,\r\n                colors: ColorSet.new(this._root, {\r\n                    saturation: 0\r\n                })\r\n            });\r\n            {\r\n                var rule = r(\"Graphics\", [\"scrollbar\", \"overlay\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 0.5\r\n                });\r\n                setColor(rule, \"fill\", ic, \"background\");\r\n            }\r\n            // Class: RoundedRectangle\r\n            r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).setAll({\r\n                cornerRadiusTR: 0,\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusBL: 0,\r\n                fillOpacity: 0,\r\n                focusable: true\r\n            });\r\n            r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"thumb\"]).states.create(\"hover\", { fillOpacity: 0.4 });\r\n            r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\"]).setAll({\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusTR: 0,\r\n                cornerRadiusBR: 0\r\n            });\r\n            r(\"RoundedRectangle\", [\"xy\", \"scrollbar\", \"chart\", \"background\", \"resize\", \"button\"]).setAll({\r\n                cornerRadiusBL: 40,\r\n                cornerRadiusBR: 40,\r\n                cornerRadiusTL: 40,\r\n                cornerRadiusTR: 40\r\n            });\r\n            r(\"AxisRendererX\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n                strokeOpacity: 0,\r\n                inside: true\r\n            });\r\n            r(\"AxisRendererY\", [\"xy\", \"chart\", \"scrollbar\"]).setAll({\r\n                strokeOpacity: 0,\r\n                inside: true,\r\n                minGridDistance: 5\r\n            });\r\n            r(\"AxisLabel\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n                opacity: 0.5,\r\n                centerY: p100,\r\n                minPosition: 0.01,\r\n                maxPosition: 0.99,\r\n                fontSize: \"0.8em\"\r\n            });\r\n            r(\"AxisLabel\", [\"category\"]).setAll({\r\n                text: \"{category}\",\r\n                populateText: true\r\n            });\r\n            r(\"AxisLabel\", [\"x\"]).setAll({\r\n                centerY: 0\r\n            });\r\n            r(\"AxisLabel\", [\"x\", \"inside\"]).setAll({\r\n                centerY: p100\r\n            });\r\n            r(\"AxisLabel\", [\"x\", \"inside\", \"opposite\"]).setAll({\r\n                centerY: 0\r\n            });\r\n            r(\"AxisLabel\", [\"x\", \"opposite\"]).setAll({\r\n                centerY: p100\r\n            });\r\n            r(\"AxisLabel\", [\"y\"]).setAll({\r\n                centerX: p100\r\n            });\r\n            r(\"AxisLabel\", [\"y\", \"inside\"]).setAll({\r\n                centerX: 0\r\n            });\r\n            r(\"AxisLabel\", [\"y\", \"inside\", \"opposite\"]).setAll({\r\n                centerX: p100\r\n            });\r\n            r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n                centerX: 0\r\n            });\r\n            r(\"AxisLabel\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n                visible: false\r\n            });\r\n            // Class: Grid\r\n            r(\"Grid\", [\"xy\", \"scrollbar\", \"y\"]).setAll({\r\n                visible: false\r\n            });\r\n            // Class: Grid\r\n            r(\"Grid\", [\"xy\", \"scrollbar\", \"x\"]).setAll({\r\n                opacity: 0.5\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/xy: Cursor\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"XYCursor\").setAll({\r\n                behavior: \"none\",\r\n                layer: 30,\r\n                exportable: false,\r\n                snapToSeriesBy: \"xy\"\r\n            });\r\n            {\r\n                var rule = r(\"Grid\", [\"cursor\", \"x\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.8,\r\n                    strokeDasharray: [2, 2]\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n            }\r\n            {\r\n                var rule = r(\"Grid\", [\"cursor\", \"y\"]);\r\n                rule.setAll({\r\n                    strokeOpacity: 0.8,\r\n                    strokeDasharray: [2, 2]\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"alternativeBackground\");\r\n            }\r\n            {\r\n                var rule = r(\"Graphics\", [\"cursor\", \"selection\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 0.15,\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            }\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/xy: Axes\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"Axis\").setAll({\r\n                start: 0,\r\n                end: 1,\r\n                minZoomCount: 1,\r\n                maxZoomCount: Infinity,\r\n                maxZoomFactor: 1000,\r\n                maxDeviation: 0.1,\r\n                snapTooltip: true,\r\n                tooltipLocation: 0.5,\r\n                panX: true,\r\n                panY: true,\r\n                zoomX: true,\r\n                zoomY: true,\r\n                fixAxisSize: true\r\n            });\r\n            r(\"AxisLabel\").setAll({\r\n                location: 0.5,\r\n                multiLocation: 0,\r\n                centerX: p50,\r\n                centerY: p50,\r\n                paddingTop: 3,\r\n                paddingBottom: 3,\r\n                paddingLeft: 5,\r\n                paddingRight: 5\r\n            });\r\n            // The following is deprecated following text measuring updates in 5.0.5\r\n            // r(\"AxisLabel\", [\"y\"]).setAll({\r\n            // \ttextAlign: \"right\"\r\n            // });\r\n            // r(\"AxisLabel\", [\"y\", \"opposite\"]).setAll({\r\n            // \ttextAlign: \"left\"\r\n            // });\r\n            r(\"Container\", [\"axis\", \"header\"]).setAll({\r\n                layer: 30\r\n            });\r\n            {\r\n                var rule = r(\"AxisRenderer\");\r\n                rule.setAll({\r\n                    strokeOpacity: 0\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"grid\");\r\n            }\r\n            r(\"AxisRendererX\").setAll({\r\n                minGridDistance: 120,\r\n                opposite: false,\r\n                inversed: false,\r\n                cellStartLocation: 0,\r\n                cellEndLocation: 1,\r\n                width: p100\r\n            });\r\n            r(\"AxisRendererY\").setAll({\r\n                minGridDistance: 40,\r\n                opposite: false,\r\n                inversed: false,\r\n                cellStartLocation: 0,\r\n                cellEndLocation: 1,\r\n                height: p100\r\n            });\r\n            {\r\n                var rule = r(\"Rectangle\", [\"axis\", \"thumb\"]);\r\n                rule.setAll({\r\n                    fillOpacity: 0\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n                rule.states.create(\"hover\", { fillOpacity: 0.1 });\r\n            }\r\n            r(\"Rectangle\", [\"axis\", \"thumb\", \"x\"]).setAll({\r\n                cursorOverStyle: \"ew-resize\"\r\n            });\r\n            r(\"Rectangle\", [\"axis\", \"thumb\", \"y\"]).setAll({\r\n                cursorOverStyle: \"ns-resize\"\r\n            });\r\n            {\r\n                var rule = r(\"Grid\");\r\n                rule.setAll({\r\n                    location: 0,\r\n                    strokeOpacity: 0.15,\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"grid\");\r\n            }\r\n            r(\"Grid\", [\"base\"]).setAll({\r\n                strokeOpacity: 0.3\r\n            });\r\n            {\r\n                var rule = r(\"Graphics\", [\"axis\", \"fill\"]);\r\n                rule.setAll({\r\n                    visible: false,\r\n                    isMeasured: false,\r\n                    position: \"absolute\",\r\n                    fillOpacity: 0.05,\r\n                });\r\n                setColor(rule, \"fill\", ic, \"alternativeBackground\");\r\n            }\r\n            r(\"Graphics\", [\"axis\", \"fill\", \"range\"]).setAll({\r\n                isMeasured: true\r\n            });\r\n            // hides all elements of series axis range\r\n            r(\"Graphics\", [\"series\", \"fill\", \"range\"]).setAll({\r\n                visible: false,\r\n                isMeasured: true\r\n            });\r\n            r(\"Grid\", [\"series\", \"range\"]).setAll({\r\n                visible: false\r\n            });\r\n            r(\"AxisTick\", [\"series\", \"range\"]).setAll({\r\n                visible: false\r\n            });\r\n            r(\"AxisLabel\", [\"series\", \"range\"]).setAll({\r\n                visible: false\r\n            });\r\n            {\r\n                var rule = r(\"AxisTick\");\r\n                rule.setAll({\r\n                    location: 0.5,\r\n                    multiLocation: 0,\r\n                    strokeOpacity: 1,\r\n                    isMeasured: false,\r\n                    position: \"absolute\",\r\n                    visible: false\r\n                });\r\n                setColor(rule, \"stroke\", ic, \"grid\");\r\n            }\r\n            r(\"CategoryAxis\").setAll({\r\n                startLocation: 0,\r\n                endLocation: 1,\r\n                fillRule: function (dataItem, index) {\r\n                    var axisFill = dataItem.get(\"axisFill\");\r\n                    if (axisFill) {\r\n                        if (!$type.isNumber(index) || index % 2 == 0) {\r\n                            axisFill.setPrivate(\"visible\", true);\r\n                        }\r\n                        else {\r\n                            axisFill.setPrivate(\"visible\", false);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            var gridIntervals = [\r\n                { timeUnit: \"millisecond\", count: 1 },\r\n                { timeUnit: \"millisecond\", count: 5 },\r\n                { timeUnit: \"millisecond\", count: 10 },\r\n                { timeUnit: \"millisecond\", count: 50 },\r\n                { timeUnit: \"millisecond\", count: 100 },\r\n                { timeUnit: \"millisecond\", count: 500 },\r\n                { timeUnit: \"second\", count: 1 },\r\n                { timeUnit: \"second\", count: 5 },\r\n                { timeUnit: \"second\", count: 10 },\r\n                { timeUnit: \"second\", count: 30 },\r\n                { timeUnit: \"minute\", count: 1 },\r\n                { timeUnit: \"minute\", count: 5 },\r\n                { timeUnit: \"minute\", count: 10 },\r\n                { timeUnit: \"minute\", count: 15 },\r\n                { timeUnit: \"minute\", count: 30 },\r\n                { timeUnit: \"hour\", count: 1 },\r\n                { timeUnit: \"hour\", count: 3 },\r\n                { timeUnit: \"hour\", count: 6 },\r\n                { timeUnit: \"hour\", count: 12 },\r\n                { timeUnit: \"day\", count: 1 },\r\n                { timeUnit: \"day\", count: 2 },\r\n                { timeUnit: \"day\", count: 3 },\r\n                { timeUnit: \"day\", count: 4 },\r\n                { timeUnit: \"day\", count: 5 },\r\n                { timeUnit: \"week\", count: 1 },\r\n                { timeUnit: \"month\", count: 1 },\r\n                { timeUnit: \"month\", count: 2 },\r\n                { timeUnit: \"month\", count: 3 },\r\n                { timeUnit: \"month\", count: 6 },\r\n                { timeUnit: \"year\", count: 1 },\r\n                { timeUnit: \"year\", count: 2 },\r\n                { timeUnit: \"year\", count: 5 },\r\n                { timeUnit: \"year\", count: 10 },\r\n                { timeUnit: \"year\", count: 50 },\r\n                { timeUnit: \"year\", count: 100 },\r\n                { timeUnit: \"year\", count: 200 },\r\n                { timeUnit: \"year\", count: 500 },\r\n                { timeUnit: \"year\", count: 1000 },\r\n                { timeUnit: \"year\", count: 2000 },\r\n                { timeUnit: \"year\", count: 5000 },\r\n                { timeUnit: \"year\", count: 10000 },\r\n                { timeUnit: \"year\", count: 100000 }\r\n            ];\r\n            var dateFormats = {\r\n                \"millisecond\": language.translate(\"_date_millisecond\"),\r\n                \"second\": language.translate(\"_date_second\"),\r\n                \"minute\": language.translate(\"_date_minute\"),\r\n                \"hour\": language.translate(\"_date_hour\"),\r\n                \"day\": language.translate(\"_date_day\"),\r\n                \"week\": language.translate(\"_date_day\"),\r\n                \"month\": language.translate(\"_date_month\"),\r\n                \"year\": language.translate(\"_date_year\")\r\n            };\r\n            var periodChangeDateFormats = {\r\n                \"millisecond\": language.translate(\"_date_millisecond\"),\r\n                \"second\": language.translate(\"_date_second\"),\r\n                \"minute\": language.translate(\"_date_minute\"),\r\n                \"hour\": language.translate(\"_date_day\"),\r\n                \"day\": language.translate(\"_date_day\"),\r\n                \"week\": language.translate(\"_date_day\"),\r\n                \"month\": language.translate(\"_date_month\") + \" \" + language.translate(\"_date_year\"),\r\n                \"year\": language.translate(\"_date_year\")\r\n            };\r\n            var tooltipDateFormats = {\r\n                \"millisecond\": language.translate(\"_date_millisecond_full\"),\r\n                \"second\": language.translate(\"_date_second_full\"),\r\n                \"minute\": language.translate(\"_date_minute_full\"),\r\n                \"hour\": language.translate(\"_date_hour_full\"),\r\n                \"day\": language.translate(\"_date_day_full\"),\r\n                \"week\": language.translate(\"_date_week_full\"),\r\n                \"month\": language.translate(\"_date_month_full\"),\r\n                \"year\": language.translate(\"_date_year\")\r\n            };\r\n            r(\"CategoryDateAxis\").setAll({\r\n                markUnitChange: true,\r\n                gridIntervals: $array.copy(gridIntervals),\r\n                dateFormats: $object.copy(dateFormats),\r\n                periodChangeDateFormats: $object.copy(periodChangeDateFormats)\r\n            });\r\n            r(\"DateAxis\").setAll({\r\n                strictMinMax: true,\r\n                startLocation: 0,\r\n                endLocation: 1,\r\n                markUnitChange: true,\r\n                groupData: false,\r\n                groupCount: 500,\r\n                gridIntervals: $array.copy(gridIntervals),\r\n                dateFormats: $object.copy(dateFormats),\r\n                periodChangeDateFormats: $object.copy(periodChangeDateFormats),\r\n                tooltipDateFormats: tooltipDateFormats,\r\n                groupIntervals: [\r\n                    { timeUnit: \"millisecond\", count: 1 },\r\n                    { timeUnit: \"millisecond\", count: 10 },\r\n                    { timeUnit: \"millisecond\", count: 100 },\r\n                    { timeUnit: \"second\", count: 1 },\r\n                    { timeUnit: \"second\", count: 10 },\r\n                    { timeUnit: \"minute\", count: 1 },\r\n                    { timeUnit: \"minute\", count: 10 },\r\n                    { timeUnit: \"hour\", count: 1 },\r\n                    { timeUnit: \"day\", count: 1 },\r\n                    { timeUnit: \"week\", count: 1 },\r\n                    { timeUnit: \"month\", count: 1 },\r\n                    { timeUnit: \"year\", count: 1 }\r\n                ],\r\n                fillRule: function (dataItem) {\r\n                    var axisFill = dataItem.get(\"axisFill\");\r\n                    if (axisFill) {\r\n                        var axis = dataItem.component;\r\n                        var value = dataItem.get(\"value\");\r\n                        var endValue = dataItem.get(\"endValue\");\r\n                        var intervalDuration = axis.intervalDuration();\r\n                        var baseInterval = axis.getPrivate(\"baseInterval\");\r\n                        var min = axis.getPrivate(\"min\", 0);\r\n                        min = $time.round(new Date(min), baseInterval.timeUnit, baseInterval.count, _this._root.locale.firstDayOfWeek, _this._root.utc, undefined, _this._root.timezone).getTime();\r\n                        if (value != null && endValue != null) {\r\n                            var val = Math.round((value - min) / intervalDuration) / 2;\r\n                            if (val == Math.round(val)) {\r\n                                axisFill.setPrivate(\"visible\", true);\r\n                            }\r\n                            else {\r\n                                axisFill.setPrivate(\"visible\", false);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            r(\"GaplessDateAxis\").setAll({\r\n                fillRule: function (dataItem) {\r\n                    var axisFill = dataItem.get(\"axisFill\");\r\n                    if (axisFill) {\r\n                        var index = dataItem.get(\"index\");\r\n                        var visible = false;\r\n                        if (!$type.isNumber(index) || index % 2 == 0) {\r\n                            visible = true;\r\n                        }\r\n                        axisFill.setPrivate(\"visible\", visible);\r\n                    }\r\n                }\r\n            });\r\n            r(\"ValueAxis\").setAll({\r\n                baseValue: 0,\r\n                logarithmic: false,\r\n                strictMinMax: false,\r\n                fillRule: function (dataItem) {\r\n                    var axisFill = dataItem.get(\"axisFill\");\r\n                    if (axisFill) {\r\n                        var axis = dataItem.component;\r\n                        var value = dataItem.get(\"value\");\r\n                        var step = axis.getPrivate(\"step\");\r\n                        if ($type.isNumber(value) && $type.isNumber(step)) {\r\n                            if ($math.round(value / step / 2, 5) == Math.round(value / step / 2)) {\r\n                                axisFill.setPrivate(\"visible\", false);\r\n                            }\r\n                            else {\r\n                                axisFill.setPrivate(\"visible\", true);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            r(\"DurationAxis\").setAll({\r\n                baseUnit: \"second\"\r\n            });\r\n            /**\r\n             * ------------------------------------------------------------------------\r\n             * charts/xy: Series\r\n             * ------------------------------------------------------------------------\r\n             */\r\n            r(\"XYSeries\").setAll({\r\n                maskBullets: true,\r\n                stackToNegative: true,\r\n                locationX: 0.5,\r\n                locationY: 0.5,\r\n                snapTooltip: false,\r\n                openValueXGrouped: \"open\",\r\n                openValueYGrouped: \"open\",\r\n                valueXGrouped: \"close\",\r\n                valueYGrouped: \"close\",\r\n                seriesTooltipTarget: \"series\"\r\n            });\r\n            r(\"BaseColumnSeries\").setAll({\r\n                adjustBulletPosition: true\r\n            });\r\n            r(\"ColumnSeries\").setAll({\r\n                clustered: true\r\n            });\r\n            r(\"RoundedRectangle\", [\"series\", \"column\"]).setAll({\r\n                position: \"absolute\",\r\n                isMeasured: false,\r\n                width: percent(70),\r\n                height: percent(70),\r\n                strokeWidth: 1,\r\n                strokeOpacity: 1,\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTR: 0,\r\n                fillOpacity: 1,\r\n                role: \"figure\"\r\n            });\r\n            r(\"LineSeries\").setAll({\r\n                connect: true,\r\n                autoGapCount: 1.1,\r\n                stackToNegative: false\r\n            });\r\n            r(\"Graphics\", [\"series\", \"stroke\"]).setAll({\r\n                position: \"absolute\",\r\n                strokeWidth: 1,\r\n                strokeOpacity: 1,\r\n                isMeasured: false\r\n            });\r\n            r(\"Graphics\", [\"series\", \"fill\"]).setAll({\r\n                visible: false,\r\n                fillOpacity: 0,\r\n                position: \"absolute\",\r\n                strokeWidth: 0,\r\n                strokeOpacity: 0,\r\n                isMeasured: false\r\n            });\r\n            r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).setAll({\r\n                draw: function (display, sprite) {\r\n                    var parent = sprite.parent;\r\n                    if (parent) {\r\n                        var h = parent.height();\r\n                        var w = parent.width();\r\n                        display.moveTo(0, h / 2);\r\n                        display.lineTo(w, h / 2);\r\n                    }\r\n                }\r\n            });\r\n            {\r\n                var rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"]).states.create(\"disabled\", {});\r\n                setColor(rule, \"stroke\", ic, \"disabled\");\r\n            }\r\n            r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).setAll({\r\n                draw: function (display, sprite) {\r\n                    var parent = sprite.parent;\r\n                    if (parent) {\r\n                        var h = parent.height();\r\n                        var w = parent.width();\r\n                        display.moveTo(0, 0);\r\n                        display.lineTo(w, 0);\r\n                        display.lineTo(w, h);\r\n                        display.lineTo(0, h);\r\n                        display.lineTo(0, 0);\r\n                    }\r\n                }\r\n            });\r\n            {\r\n                var rule = r(\"Graphics\", [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]).states.create(\"disabled\", {});\r\n                setColor(rule, \"stroke\", ic, \"disabled\");\r\n            }\r\n            r(\"SmoothedXYLineSeries\").setAll({\r\n                tension: 0.5\r\n            });\r\n            r(\"SmoothedXLineSeries\").setAll({\r\n                tension: 0.5\r\n            });\r\n            r(\"SmoothedYLineSeries\").setAll({\r\n                tension: 0.5\r\n            });\r\n            r(\"Candlestick\").setAll({\r\n                position: \"absolute\",\r\n                isMeasured: false,\r\n                width: percent(50),\r\n                height: percent(50),\r\n                strokeWidth: 1,\r\n                strokeOpacity: 1,\r\n                cornerRadiusBL: 0,\r\n                cornerRadiusTL: 0,\r\n                cornerRadiusBR: 0,\r\n                cornerRadiusTR: 0,\r\n                fillOpacity: 1,\r\n                role: \"figure\"\r\n            });\r\n            r(\"OHLC\").setAll({\r\n                width: percent(80),\r\n                height: percent(80)\r\n            });\r\n            r(\"CandlestickSeries\").setAll({\r\n                lowValueXGrouped: \"low\",\r\n                lowValueYGrouped: \"low\",\r\n                highValueXGrouped: \"high\",\r\n                highValueYGrouped: \"high\",\r\n                openValueXGrouped: \"open\",\r\n                openValueYGrouped: \"open\",\r\n                valueXGrouped: \"close\",\r\n                valueYGrouped: \"close\"\r\n            });\r\n            // These rules can be used for regular columns, too\r\n            {\r\n                var rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"riseFromOpen\", {});\r\n                setColor(rule, \"fill\", ic, \"positive\");\r\n                setColor(rule, \"stroke\", ic, \"positive\");\r\n            }\r\n            {\r\n                var rule = r(\"Rectangle\", [\"column\", \"autocolor\"]).states.create(\"dropFromOpen\", {});\r\n                setColor(rule, \"fill\", ic, \"negative\");\r\n                setColor(rule, \"stroke\", ic, \"negative\");\r\n            }\r\n            r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"riseFromPrevious\", { fillOpacity: 1 });\r\n            r(\"Rectangle\", [\"column\", \"autocolor\", \"pro\"]).states.create(\"dropFromPrevious\", { fillOpacity: 0 });\r\n        }\r\n    });\r\n    return XYChartDefaultTheme;\r\n}(Theme));\r\nexport { XYChartDefaultTheme };\r\n//# sourceMappingURL=XYChartDefaultTheme.js.map","import { __extends } from \"tslib\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\n/**\r\n * A base class for all charts.\r\n */\r\nvar Chart = /** @class */ (function (_super) {\r\n    __extends(Chart, _super);\r\n    function Chart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A [[Container]] chart places its elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"chartContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, { width: p100, height: p100, interactiveChildren: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] chart places its bullets in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { interactiveChildren: false, isMeasured: false, position: \"absolute\", width: p100, height: p100 })\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Chart, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Chart\"\r\n    });\r\n    Object.defineProperty(Chart, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Chart.className])\r\n    });\r\n    return Chart;\r\n}(Container));\r\nexport { Chart };\r\n//# sourceMappingURL=Chart.js.map","import { __extends } from \"tslib\";\r\nimport { Chart } from \"./Chart\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { ListAutoDispose } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\n/**\r\n * A base class for all series-based charts.\r\n */\r\nvar SerialChart = /** @class */ (function (_super) {\r\n    __extends(SerialChart, _super);\r\n    function SerialChart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A [[Container]] where chart will store all series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"seriesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { width: p100, height: p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A list of chart's series.\r\n         */\r\n        Object.defineProperty(_this, \"series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SerialChart.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterNew.call(this);\r\n            this._disposers.push(this.series);\r\n            var children = this.seriesContainer.children;\r\n            this._disposers.push(this.series.events.onAll(function (change) {\r\n                if (change.type === \"clear\") {\r\n                    $array.each(change.oldValues, function (series) {\r\n                        _this._removeSeries(series);\r\n                    });\r\n                    var colors = _this.get(\"colors\");\r\n                    if (colors) {\r\n                        colors.reset();\r\n                    }\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    children.moveValue(change.newValue);\r\n                    _this._processSeries(change.newValue);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    children.setIndex(change.index, change.newValue);\r\n                    _this._processSeries(change.newValue);\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    children.insertIndex(change.index, change.newValue);\r\n                    _this._processSeries(change.newValue);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    _this._removeSeries(change.oldValue);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    children.moveValue(change.value, change.newIndex);\r\n                    _this._processSeries(change.value);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IListEvent type\");\r\n                }\r\n            }));\r\n        }\r\n    });\r\n    Object.defineProperty(SerialChart.prototype, \"_processSeries\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            series.chart = this;\r\n            series._placeBulletsContainer(this);\r\n        }\r\n    });\r\n    Object.defineProperty(SerialChart.prototype, \"_removeSeries\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            if (!series.isDisposed()) {\r\n                this.seriesContainer.children.removeValue(series);\r\n                series._removeBulletsContainer();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(SerialChart, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"SerialChart\"\r\n    });\r\n    Object.defineProperty(SerialChart, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Chart.classNames.concat([SerialChart.className])\r\n    });\r\n    return SerialChart;\r\n}(Chart));\r\nexport { SerialChart };\r\n//# sourceMappingURL=SerialChart.js.map","import { __extends, __read } from \"tslib\";\r\nimport { XYChartDefaultTheme } from \"./XYChartDefaultTheme\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Rectangle } from \"../../core/render/Rectangle\";\r\nimport { SerialChart } from \"../../core/render/SerialChart\";\r\nimport { ListAutoDispose } from \"../../core/util/List\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { Button } from \"../../core/render/Button\";\r\nimport { Graphics } from \"../../core/render/Graphics\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $order from \"../../core/util/Order\";\r\nimport * as $object from \"../../core/util/Object\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\n/**\r\n * Creates an XY chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/} for more info\r\n * @important\r\n */\r\nvar XYChart = /** @class */ (function (_super) {\r\n    __extends(XYChart, _super);\r\n    function XYChart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A list of horizontal axes.\r\n         */\r\n        Object.defineProperty(_this, \"xAxes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n        /**\r\n         * A list of vertical axes.\r\n         */\r\n        Object.defineProperty(_this, \"yAxes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListAutoDispose()\r\n        });\r\n        /**\r\n         * A [[Container]] located on top of the chart, used to store top horizontal\r\n         * axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"topAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.chartContainer.children.push(Container.new(_this._root, { width: p100, layout: _this._root.verticalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle the chart, used to store vertical axes\r\n         * and plot area container.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"yAxesAndPlotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.chartContainer.children.push(Container.new(_this._root, { width: p100, height: p100, layout: _this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located on bottom of the chart, used to store bottom\r\n         * horizontal axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"bottomAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.chartContainer.children.push(Container.new(_this._root, { width: p100, layout: _this._root.verticalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located on left of the chart, used to store left-hand\r\n         * vertical axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"leftAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.yAxesAndPlotContainer.children.push(Container.new(_this._root, { height: p100, layout: _this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle of the chart, used to store plotContainer and topPlotContainer\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"plotsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.yAxesAndPlotContainer.children.push(Container.new(_this._root, { width: p100, height: p100, maskContent: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] located in the middle of the chart, used to store actual\r\n         * plots (series).\r\n         *\r\n         * NOTE: `plotContainer` will automatically have its `background` preset. If\r\n         * you need to modify background or outline for chart's plot area, you can\r\n         * use `plotContainer.get(\"background\")` for that.*\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"plotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.plotsContainer.children.push(Container.new(_this._root, { width: p100, height: p100 }))\r\n        });\r\n        /**\r\n         * A [[Container]] used for any elements that need to be displayed over\r\n         * regular `plotContainer`.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"topPlotContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.plotsContainer.children.push(Container.new(_this._root, { width: p100, height: p100 }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis grid elements are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"gridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.plotContainer.children.push(Container.new(_this._root, { width: p100, height: p100, isMeasured: false }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis background grid elements are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"topGridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { width: p100, height: p100, isMeasured: false })\r\n        });\r\n        /**\r\n         * A [[Container]] located on right of the chart, used to store right-hand\r\n         * vertical axes.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/xy-chart-containers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"rightAxesContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.yAxesAndPlotContainer.children.push(Container.new(_this._root, { height: p100, layout: _this._root.horizontalLayout }))\r\n        });\r\n        /**\r\n         * A [[Container]] axis headers are stored in.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"axisHeadersContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.plotContainer.children.push(Container.new(_this._root, {}))\r\n        });\r\n        /**\r\n         * A button that is shown when chart is not fully zoomed out.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/zoom-and-pan/#Zoom_out_button} for more info\r\n         * @default Button.new()\r\n         */\r\n        Object.defineProperty(_this, \"zoomOutButton\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.topPlotContainer.children.push(Button.new(_this._root, {\r\n                themeTags: [\"zoom\"],\r\n                icon: Graphics.new(_this._root, {\r\n                    themeTags: [\"button\", \"icon\"]\r\n                })\r\n            }))\r\n        });\r\n        Object.defineProperty(_this, \"_movePoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { x: 0, y: 0 }\r\n        });\r\n        Object.defineProperty(_this, \"_wheelDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_otherCharts\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_movePoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_downStartX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downEndX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downStartY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downEndY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(XYChart.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._defaultThemes.push(XYChartDefaultTheme.new(this._root));\r\n            _super.prototype._afterNew.call(this);\r\n            this._disposers.push(this.xAxes);\r\n            this._disposers.push(this.yAxes);\r\n            var root = this._root;\r\n            var verticalLayout = this._root.verticalLayout;\r\n            var zoomOutButton = this.zoomOutButton;\r\n            zoomOutButton.events.on(\"click\", function () {\r\n                _this.zoomOut();\r\n            });\r\n            zoomOutButton.set(\"opacity\", 0);\r\n            zoomOutButton.states.lookup(\"default\").set(\"opacity\", 1);\r\n            this.chartContainer.set(\"layout\", verticalLayout);\r\n            var plotContainer = this.plotContainer;\r\n            plotContainer.children.push(this.seriesContainer);\r\n            this._disposers.push(this._processAxis(this.xAxes, this.bottomAxesContainer));\r\n            this._disposers.push(this._processAxis(this.yAxes, this.leftAxesContainer));\r\n            plotContainer.children.push(this.topGridContainer);\r\n            plotContainer.children.push(this.bulletsContainer);\r\n            // Setting trasnparent background so that full body of the plot container\r\n            // is interactive\r\n            plotContainer.set(\"interactive\", true);\r\n            plotContainer.set(\"interactiveChildren\", false);\r\n            plotContainer.set(\"background\", Rectangle.new(root, {\r\n                themeTags: [\"xy\", \"background\"],\r\n                fill: Color.fromHex(0x000000),\r\n                fillOpacity: 0\r\n            }));\r\n            this._disposers.push(plotContainer.events.on(\"pointerdown\", function (event) {\r\n                _this._handlePlotDown(event.originalEvent);\r\n            }));\r\n            this._disposers.push(plotContainer.events.on(\"globalpointerup\", function (event) {\r\n                _this._handlePlotUp(event.originalEvent);\r\n            }));\r\n            this._disposers.push(plotContainer.events.on(\"globalpointermove\", function (event) {\r\n                _this._handlePlotMove(event.originalEvent);\r\n            }));\r\n            this._maskGrid();\r\n            this._setUpTouch();\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"pinchZoomX\") || this.isDirty(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) {\r\n                this._setUpTouch();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_setUpTouch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.plotContainer._display.cancelTouch) {\r\n                this.plotContainer._display.cancelTouch = (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\") || this.get(\"panX\") || this.get(\"panY\")) ? true : false;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_maskGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.gridContainer.set(\"maskContent\", true);\r\n            this.topGridContainer.set(\"maskContent\", true);\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_removeSeries\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            var xAxis = series.get(\"xAxis\");\r\n            if (xAxis) {\r\n                $array.remove(xAxis.series, series);\r\n            }\r\n            var yAxis = series.get(\"yAxis\");\r\n            if (yAxis) {\r\n                $array.remove(yAxis.series, series);\r\n            }\r\n            var cursor = this.get(\"cursor\");\r\n            if (cursor) {\r\n                var snapToSeries = cursor.get(\"snapToSeries\");\r\n                if (snapToSeries) {\r\n                    $array.remove(snapToSeries, series);\r\n                }\r\n            }\r\n            _super.prototype._removeSeries.call(this, series);\r\n        }\r\n    });\r\n    /**\r\n     * This method is invoked when mouse wheel is used over chart's plot\r\n     * container, and handles zooming/pan.\r\n     *\r\n     * You can invoke this method manually, if you need to mimic chart's wheel\r\n     * behavior over other elements of the chart.\r\n     */\r\n    Object.defineProperty(XYChart.prototype, \"handleWheel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var _this = this;\r\n            var wheelX = this.get(\"wheelX\");\r\n            var wheelY = this.get(\"wheelY\");\r\n            var plotContainer = this.plotContainer;\r\n            var wheelEvent = event.originalEvent;\r\n            // Ignore wheel event if it is happening on a non-chart element, e.g. if\r\n            // some page element is over the chart.\r\n            if ($utils.isLocalEvent(wheelEvent, this)) {\r\n                wheelEvent.preventDefault();\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            var plotPoint = plotContainer.toLocal(this._root.documentPointToRoot({ x: wheelEvent.clientX, y: wheelEvent.clientY }));\r\n            var wheelStep = this.get(\"wheelStep\", 0.2);\r\n            var shiftY = wheelEvent.deltaY / 100;\r\n            var shiftX = wheelEvent.deltaX / 100;\r\n            if ((wheelX === \"zoomX\" || wheelX === \"zoomXY\") && shiftX != 0) {\r\n                this.xAxes.each(function (axis) {\r\n                    if (axis.get(\"zoomX\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var position = axis.fixPosition(plotPoint.x / plotContainer.width());\r\n                        var newStart = start - wheelStep * (end - start) * shiftX * position;\r\n                        var newEnd = end + wheelStep * (end - start) * shiftX * (1 - position);\r\n                        if (1 / (newEnd - newStart) < axis.get(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelY === \"zoomX\" || wheelY === \"zoomXY\") && shiftY != 0) {\r\n                this.xAxes.each(function (axis) {\r\n                    if (axis.get(\"zoomX\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var position = axis.fixPosition(plotPoint.x / plotContainer.width());\r\n                        var newStart = start - wheelStep * (end - start) * shiftY * position;\r\n                        var newEnd = end + wheelStep * (end - start) * shiftY * (1 - position);\r\n                        if (1 / (newEnd - newStart) < axis.getPrivate(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelX === \"zoomY\" || wheelX === \"zoomXY\") && shiftX != 0) {\r\n                this.yAxes.each(function (axis) {\r\n                    if (axis.get(\"zoomY\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var position = axis.fixPosition(plotPoint.y / plotContainer.height());\r\n                        var newStart = start - wheelStep * (end - start) * shiftX * position;\r\n                        var newEnd = end + wheelStep * (end - start) * shiftX * (1 - position);\r\n                        if (1 / (newEnd - newStart) < axis.get(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelY === \"zoomY\" || wheelY === \"zoomXY\") && shiftY != 0) {\r\n                this.yAxes.each(function (axis) {\r\n                    if (axis.get(\"zoomY\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var position = axis.fixPosition(plotPoint.y / plotContainer.height());\r\n                        var newStart = start - wheelStep * (end - start) * shiftY * position;\r\n                        var newEnd = end + wheelStep * (end - start) * shiftY * (1 - position);\r\n                        if (1 / (newEnd - newStart) < axis.get(\"maxZoomFactor\", Infinity) / axis.get(\"minZoomCount\", 1)) {\r\n                            _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelX === \"panX\" || wheelX === \"panXY\") && shiftX != 0) {\r\n                this.xAxes.each(function (axis) {\r\n                    if (axis.get(\"panX\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\r\n                        var newStart = start + delta;\r\n                        var newEnd = end + delta;\r\n                        var se = _this._fixWheel(newStart, newEnd);\r\n                        newStart = se[0];\r\n                        newEnd = se[1];\r\n                        _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelY === \"panX\" || wheelY === \"panXY\") && shiftY != 0) {\r\n                this.xAxes.each(function (axis) {\r\n                    if (axis.get(\"panX\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\r\n                        var newStart = start + delta;\r\n                        var newEnd = end + delta;\r\n                        var se = _this._fixWheel(newStart, newEnd);\r\n                        newStart = se[0];\r\n                        newEnd = se[1];\r\n                        _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelX === \"panY\" || wheelX === \"panXY\") && shiftX != 0) {\r\n                this.yAxes.each(function (axis) {\r\n                    if (axis.get(\"panY\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftX;\r\n                        var newStart = start + delta;\r\n                        var newEnd = end + delta;\r\n                        var se = _this._fixWheel(newStart, newEnd);\r\n                        newStart = se[0];\r\n                        newEnd = se[1];\r\n                        _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                });\r\n            }\r\n            if ((wheelY === \"panY\" || wheelY === \"panXY\") && shiftY != 0) {\r\n                this.yAxes.each(function (axis) {\r\n                    if (axis.get(\"panY\")) {\r\n                        var start = axis.get(\"start\");\r\n                        var end = axis.get(\"end\");\r\n                        var delta = _this._getWheelSign(axis) * wheelStep * (end - start) * shiftY;\r\n                        var newStart = start - delta;\r\n                        var newEnd = end - delta;\r\n                        var se = _this._fixWheel(newStart, newEnd);\r\n                        newStart = se[0];\r\n                        newEnd = se[1];\r\n                        _this._handleWheelAnimation(axis.zoom(newStart, newEnd));\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleSetWheel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var wheelX = this.get(\"wheelX\");\r\n            var wheelY = this.get(\"wheelY\");\r\n            var plotContainer = this.plotContainer;\r\n            if (wheelX !== \"none\" || wheelY !== \"none\") {\r\n                this._wheelDp = plotContainer.events.on(\"wheel\", function (event) {\r\n                    _this.handleWheel(event);\r\n                });\r\n                this._disposers.push(this._wheelDp);\r\n            }\r\n            else {\r\n                if (this._wheelDp) {\r\n                    this._wheelDp.dispose();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_getWheelSign\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axis) {\r\n            var sign = 1;\r\n            if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                sign = -1;\r\n            }\r\n            return sign;\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_fixWheel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (start, end) {\r\n            var diff = end - start;\r\n            if (start < 0) {\r\n                start = 0;\r\n                end = start + diff;\r\n            }\r\n            if (end > 1) {\r\n                end = 1;\r\n                start = end - diff;\r\n            }\r\n            return [start, end];\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handlePlotDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var plotContainer = this.plotContainer;\r\n            var local = plotContainer.toLocal(this._root.documentPointToRoot({ x: event.clientX, y: event.clientY }));\r\n            if (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\r\n                var touchEvent = event;\r\n                var pointerId = touchEvent.pointerId;\r\n                if (pointerId) {\r\n                    if ($object.keys(plotContainer._downPoints).length > 0) {\r\n                        var xAxis = this.xAxes.getIndex(0);\r\n                        var yAxis = this.yAxes.getIndex(0);\r\n                        if (xAxis) {\r\n                            this._downStartX = xAxis.get(\"start\", 0);\r\n                            this._downEndX = xAxis.get(\"end\", 1);\r\n                        }\r\n                        if (yAxis) {\r\n                            this._downStartY = yAxis.get(\"start\", 0);\r\n                            this._downEndY = yAxis.get(\"end\", 1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (this.get(\"panX\") || this.get(\"panY\")) {\r\n                if (local.x >= 0 && local.y >= 0 && local.x <= plotContainer.width() && local.y <= this.height()) {\r\n                    //this._downPoint = local;\r\n                    this._downPoint = { x: event.clientX, y: event.clientY };\r\n                    var panX = this.get(\"panX\");\r\n                    var panY = this.get(\"panY\");\r\n                    if (panX) {\r\n                        this.xAxes.each(function (axis) {\r\n                            axis._panStart = axis.get(\"start\");\r\n                            axis._panEnd = axis.get(\"end\");\r\n                        });\r\n                    }\r\n                    if (panY) {\r\n                        this.yAxes.each(function (axis) {\r\n                            axis._panStart = axis.get(\"start\");\r\n                            axis._panEnd = axis.get(\"end\");\r\n                        });\r\n                    }\r\n                    var eventType = \"panstarted\";\r\n                    if (this.events.isEnabled(eventType)) {\r\n                        this.events.dispatch(eventType, { type: eventType, target: this });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleWheelAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (animation) {\r\n            var _this = this;\r\n            if (animation) {\r\n                animation.events.on(\"stopped\", function () {\r\n                    _this._dispatchWheelAnimation();\r\n                });\r\n            }\r\n            else {\r\n                this._dispatchWheelAnimation();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_dispatchWheelAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var eventType = \"wheelended\";\r\n            if (this.events.isEnabled(eventType)) {\r\n                this.events.dispatch(eventType, { type: eventType, target: this });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handlePlotUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_event) {\r\n            if (this._downPoint) {\r\n                if (this.get(\"panX\") || this.get(\"panY\")) {\r\n                    var eventType = \"panended\";\r\n                    if (this.events.isEnabled(eventType)) {\r\n                        this.events.dispatch(eventType, { type: eventType, target: this });\r\n                    }\r\n                }\r\n            }\r\n            // TODO: handle multitouch\r\n            this._downPoint = undefined;\r\n            this.xAxes.each(function (xAxis) {\r\n                xAxis._isPanning = false;\r\n            });\r\n            this.yAxes.each(function (yAxis) {\r\n                yAxis._isPanning = false;\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handlePlotMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var plotContainer = this.plotContainer;\r\n            if (this.get(\"pinchZoomX\") || this.get(\"pinchZoomY\")) {\r\n                var touchEvent = event;\r\n                var pointerId = touchEvent.pointerId;\r\n                if (pointerId) {\r\n                    this._movePoints[pointerId] = this._root.documentPointToRoot({ x: event.clientX, y: event.clientY });\r\n                    if ($object.keys(plotContainer._downPoints).length > 1) {\r\n                        this._handlePinch();\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            var downPoint = this._downPoint;\r\n            if (downPoint) {\r\n                downPoint = plotContainer.toLocal(this._root.documentPointToRoot(downPoint));\r\n                var local_1 = plotContainer.toLocal(this._root.documentPointToRoot({ x: event.clientX, y: event.clientY }));\r\n                var panX = this.get(\"panX\");\r\n                var panY = this.get(\"panY\");\r\n                if (panX) {\r\n                    var scrollbarX = this.get(\"scrollbarX\");\r\n                    if (scrollbarX) {\r\n                        scrollbarX.events.disableType(\"rangechanged\");\r\n                    }\r\n                    this.xAxes.each(function (axis) {\r\n                        if (axis.get(\"panX\")) {\r\n                            axis._isPanning = true;\r\n                            //const maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                            var panStart = axis._panStart;\r\n                            var panEnd = axis._panEnd;\r\n                            var difference = (panEnd - panStart);\r\n                            var deltaX = difference * (downPoint.x - local_1.x) / plotContainer.width();\r\n                            if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                                deltaX *= -1;\r\n                            }\r\n                            var start = panStart + deltaX;\r\n                            var end = panEnd + deltaX;\r\n                            if (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\r\n                                axis.set(\"start\", start);\r\n                                axis.set(\"end\", end);\r\n                            }\r\n                        }\r\n                    });\r\n                    if (scrollbarX) {\r\n                        scrollbarX.events.enableType(\"rangechanged\");\r\n                    }\r\n                }\r\n                if (panY) {\r\n                    var scrollbarY = this.get(\"scrollbarY\");\r\n                    if (scrollbarY) {\r\n                        scrollbarY.events.disableType(\"rangechanged\");\r\n                    }\r\n                    this.yAxes.each(function (axis) {\r\n                        if (axis.get(\"panY\")) {\r\n                            axis._isPanning = true;\r\n                            //const maxDeviation = axis.get(\"maxDeviation\", 0);\r\n                            var panStart = axis._panStart;\r\n                            var panEnd = axis._panEnd;\r\n                            var difference = (panEnd - panStart);\r\n                            var deltaY = difference * (downPoint.y - local_1.y) / plotContainer.height();\r\n                            if (axis.get(\"renderer\").get(\"inversed\")) {\r\n                                deltaY *= -1;\r\n                            }\r\n                            var start = panStart - deltaY;\r\n                            var end = panEnd - deltaY;\r\n                            if (end - start < 1 + axis.get(\"maxDeviation\", 1) * 2) {\r\n                                axis.set(\"start\", start);\r\n                                axis.set(\"end\", end);\r\n                            }\r\n                        }\r\n                    });\r\n                    if (scrollbarY) {\r\n                        scrollbarY.events.enableType(\"rangechanged\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handlePinch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _a, _b, _c, _d;\r\n            var _this = this;\r\n            var plotContainer = this.plotContainer;\r\n            var i = 0;\r\n            var downPoints = [];\r\n            var movePoints = [];\r\n            $object.each(plotContainer._downPoints, function (k, point) {\r\n                downPoints[i] = point;\r\n                var movePoint = _this._movePoints[k];\r\n                if (movePoint) {\r\n                    movePoints[i] = movePoint;\r\n                }\r\n                i++;\r\n            });\r\n            if (downPoints.length > 1 && movePoints.length > 1) {\r\n                var w = plotContainer.width();\r\n                var h = plotContainer.height();\r\n                var downPoint0 = downPoints[0];\r\n                var downPoint1 = downPoints[1];\r\n                var movePoint0 = movePoints[0];\r\n                var movePoint1 = movePoints[1];\r\n                if (downPoint0 && downPoint1 && movePoint0 && movePoint1) {\r\n                    movePoint0 = plotContainer.toLocal(movePoint0);\r\n                    movePoint1 = plotContainer.toLocal(movePoint1);\r\n                    downPoint0 = plotContainer.toLocal(downPoint0);\r\n                    downPoint1 = plotContainer.toLocal(downPoint1);\r\n                    if (this.get(\"pinchZoomX\")) {\r\n                        var downStartX = this._downStartX;\r\n                        var downEndX = this._downEndX;\r\n                        if (downStartX != null && downEndX != null) {\r\n                            if (downPoint0.x > downPoint1.x) {\r\n                                _a = __read([downPoint1, downPoint0], 2), downPoint0 = _a[0], downPoint1 = _a[1];\r\n                                _b = __read([movePoint1, movePoint0], 2), movePoint0 = _b[0], movePoint1 = _b[1];\r\n                            }\r\n                            var downPos0 = downStartX + (downPoint0.x / w) * (downEndX - downStartX);\r\n                            var downPos1 = downStartX + (downPoint1.x / w) * (downEndX - downStartX);\r\n                            var movePos0 = downStartX + (movePoint0.x / w) * (downEndX - downStartX);\r\n                            var movePos1 = downStartX + (movePoint1.x / w) * (downEndX - downStartX);\r\n                            var initialDistance = Math.max(0.001, downPos1 - downPos0);\r\n                            var currentDistance = Math.max(0.001, movePos1 - movePos0);\r\n                            var d = initialDistance / currentDistance;\r\n                            var s_1 = downStartX * d + downPos0 - movePos0 * d;\r\n                            var e_1 = downEndX * d + downPos1 - movePos1 * d;\r\n                            this.xAxes.each(function (xAxis) {\r\n                                var sa = xAxis.fixPosition(s_1);\r\n                                var ea = xAxis.fixPosition(e_1);\r\n                                xAxis.zoom(sa, ea, 0);\r\n                            });\r\n                        }\r\n                    }\r\n                    if (this.get(\"pinchZoomY\")) {\r\n                        var downStartY = this._downStartY;\r\n                        var downEndY = this._downEndY;\r\n                        if (downStartY != null && downEndY != null) {\r\n                            if (downPoint0.y < downPoint1.y) {\r\n                                _c = __read([downPoint1, downPoint0], 2), downPoint0 = _c[0], downPoint1 = _c[1];\r\n                                _d = __read([movePoint1, movePoint0], 2), movePoint0 = _d[0], movePoint1 = _d[1];\r\n                            }\r\n                            var downPos0 = downStartY + (1 - downPoint0.y / h) * (downEndY - downStartY);\r\n                            var downPos1 = downStartY + (1 - downPoint1.y / h) * (downEndY - downStartY);\r\n                            var movePos0 = downStartY + (1 - movePoint0.y / h) * (downEndY - downStartY);\r\n                            var movePos1 = downStartY + (1 - movePoint1.y / h) * (downEndY - downStartY);\r\n                            var initialDistance = Math.max(0.001, downPos1 - downPos0);\r\n                            var currentDistance = Math.max(0.001, movePos1 - movePos0);\r\n                            var d = initialDistance / currentDistance;\r\n                            var s_2 = downStartY * d + downPos0 - movePos0 * d;\r\n                            var e_2 = downEndY * d + downPos1 - movePos1 * d;\r\n                            this.yAxes.each(function (yAxis) {\r\n                                var sa = yAxis.fixPosition(s_2);\r\n                                var ea = yAxis.fixPosition(e_2);\r\n                                yAxis.zoom(sa, ea, 0);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleCursorPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var cursor = this.get(\"cursor\");\r\n            if (cursor) {\r\n                var cursorPoint_1 = cursor.getPrivate(\"point\");\r\n                var snapToSeries = cursor.get(\"snapToSeries\");\r\n                if (snapToSeries && cursorPoint_1) {\r\n                    var snapToSeriesBy_1 = cursor.get(\"snapToSeriesBy\");\r\n                    var dataItems_1 = [];\r\n                    $array.each(snapToSeries, function (series) {\r\n                        if (!series.isHidden() && !series.isHiding()) {\r\n                            if (snapToSeriesBy_1 != \"x!\" && snapToSeriesBy_1 != \"y!\") {\r\n                                var startIndex = series.startIndex();\r\n                                var endIndex = series.endIndex();\r\n                                for (var i = startIndex; i < endIndex; i++) {\r\n                                    var dataItem = series.dataItems[i];\r\n                                    if (dataItem && !dataItem.isHidden()) {\r\n                                        dataItems_1.push(dataItem);\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                var tooltipDataItem = series.get(\"tooltipDataItem\");\r\n                                if (tooltipDataItem) {\r\n                                    dataItems_1.push(tooltipDataItem);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                    var minDistance_1 = Infinity;\r\n                    var closestItem_1;\r\n                    $array.each(dataItems_1, function (dataItem) {\r\n                        var point = dataItem.get(\"point\");\r\n                        if (point) {\r\n                            var distance = 0;\r\n                            if (snapToSeriesBy_1 == \"x\" || snapToSeriesBy_1 == \"x!\") {\r\n                                distance = Math.abs(cursorPoint_1.x - point.x);\r\n                            }\r\n                            else if (snapToSeriesBy_1 == \"y\" || snapToSeriesBy_1 == \"y!\") {\r\n                                distance = Math.abs(cursorPoint_1.y - point.y);\r\n                            }\r\n                            else {\r\n                                distance = Math.hypot(cursorPoint_1.x - point.x, cursorPoint_1.y - point.y);\r\n                            }\r\n                            if (distance < minDistance_1) {\r\n                                minDistance_1 = distance;\r\n                                closestItem_1 = dataItem;\r\n                            }\r\n                        }\r\n                    });\r\n                    $array.each(snapToSeries, function (series) {\r\n                        var tooltip = series.get(\"tooltip\");\r\n                        if (tooltip) {\r\n                            tooltip._setDataItem(undefined);\r\n                        }\r\n                    });\r\n                    if (closestItem_1) {\r\n                        var series = closestItem_1.component;\r\n                        series.showDataItemTooltip(closestItem_1);\r\n                        var point = closestItem_1.get(\"point\");\r\n                        if (point) {\r\n                            cursor.handleMove(series.toGlobal(point), true);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_updateCursor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var cursor = this.get(\"cursor\");\r\n            if (cursor) {\r\n                cursor.handleMove();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_addCursor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (cursor) {\r\n            this.plotContainer.children.push(cursor);\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            this.series.each(function (series) {\r\n                _this._colorize(series);\r\n            });\r\n            if (this.isDirty(\"wheelX\") || this.isDirty(\"wheelY\")) {\r\n                this._handleSetWheel();\r\n            }\r\n            if (this.isDirty(\"cursor\")) {\r\n                var previous = this._prevSettings.cursor;\r\n                var cursor = this.get(\"cursor\");\r\n                if (cursor !== previous) {\r\n                    this._disposeProperty(\"cursor\");\r\n                    if (previous) {\r\n                        previous.dispose();\r\n                    }\r\n                    if (cursor) {\r\n                        cursor._setChart(this);\r\n                        this._addCursor(cursor);\r\n                        this._pushPropertyDisposer(\"cursor\", cursor.events.on(\"selectended\", function () {\r\n                            _this._handleCursorSelectEnd();\r\n                        }));\r\n                    }\r\n                    //this.setRaw(\"cursor\", cursor) // to reset previous value\r\n                    this._prevSettings.cursor = cursor;\r\n                }\r\n            }\r\n            if (this.isDirty(\"scrollbarX\")) {\r\n                var previous = this._prevSettings.scrollbarX;\r\n                var scrollbarX = this.get(\"scrollbarX\");\r\n                if (scrollbarX !== previous) {\r\n                    this._disposeProperty(\"scrollbarX\");\r\n                    if (previous) {\r\n                        previous.dispose();\r\n                    }\r\n                    if (scrollbarX) {\r\n                        if (!scrollbarX.parent) {\r\n                            this.topAxesContainer.children.push(scrollbarX);\r\n                        }\r\n                        this._pushPropertyDisposer(\"scrollbarX\", scrollbarX.events.on(\"rangechanged\", function (e) {\r\n                            _this._handleScrollbar(_this.xAxes, e.start, e.end, e.grip);\r\n                        }));\r\n                        // Used to populate `ariaLabel` with meaningful values\r\n                        scrollbarX.setPrivate(\"positionTextFunction\", function (position) {\r\n                            var axis = _this.xAxes.getIndex(0);\r\n                            return axis ? axis.getTooltipText(position) || \"\" : \"\";\r\n                        });\r\n                    }\r\n                    this._prevSettings.scrollbarX = scrollbarX;\r\n                }\r\n            }\r\n            if (this.isDirty(\"scrollbarY\")) {\r\n                var previous = this._prevSettings.scrollbarY;\r\n                var scrollbarY = this.get(\"scrollbarY\");\r\n                if (scrollbarY !== previous) {\r\n                    this._disposeProperty(\"scrollbarY\");\r\n                    if (previous) {\r\n                        previous.dispose();\r\n                    }\r\n                    if (scrollbarY) {\r\n                        if (!scrollbarY.parent) {\r\n                            this.rightAxesContainer.children.push(scrollbarY);\r\n                        }\r\n                        this._pushPropertyDisposer(\"scrollbarY\", scrollbarY.events.on(\"rangechanged\", function (e) {\r\n                            _this._handleScrollbar(_this.yAxes, e.start, e.end, e.grip);\r\n                        }));\r\n                        // Used to populate `ariaLabel` with meaningful values\r\n                        scrollbarY.setPrivate(\"positionTextFunction\", function (position) {\r\n                            var axis = _this.yAxes.getIndex(0);\r\n                            return axis ? axis.getTooltipText(position) || \"\" : \"\";\r\n                        });\r\n                    }\r\n                    this._prevSettings.scrollbarY = scrollbarY;\r\n                }\r\n            }\r\n            this._handleZoomOut();\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_processSeries\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            _super.prototype._processSeries.call(this, series);\r\n            this._colorize(series);\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_colorize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            var colorSet = this.get(\"colors\");\r\n            if (colorSet) {\r\n                if (series.get(\"fill\") == null) {\r\n                    var color = colorSet.next();\r\n                    series._setSoft(\"stroke\", color);\r\n                    series._setSoft(\"fill\", color);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleCursorSelectEnd\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var cursor = this.get(\"cursor\");\r\n            var behavior = cursor.get(\"behavior\");\r\n            var downPositionX = cursor.getPrivate(\"downPositionX\", 0);\r\n            var downPositionY = cursor.getPrivate(\"downPositionY\", 0);\r\n            var positionX = cursor.getPrivate(\"positionX\", 0.5);\r\n            var positionY = cursor.getPrivate(\"positionY\", 0.5);\r\n            this.xAxes.each(function (axis) {\r\n                if (behavior === \"zoomX\" || behavior === \"zoomXY\") {\r\n                    var position0 = axis.toAxisPosition(downPositionX);\r\n                    var position1 = axis.toAxisPosition(positionX);\r\n                    axis.zoom(position0, position1);\r\n                }\r\n                axis.setPrivate(\"updateScrollbar\", true);\r\n            });\r\n            this.yAxes.each(function (axis) {\r\n                if (behavior === \"zoomY\" || behavior === \"zoomXY\") {\r\n                    var position0 = axis.toAxisPosition(downPositionY);\r\n                    var position1 = axis.toAxisPosition(positionY);\r\n                    axis.zoom(position0, position1);\r\n                }\r\n                axis.setPrivate(\"updateScrollbar\", true);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleScrollbar\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axes, start, end, priority) {\r\n            axes.each(function (axis) {\r\n                var axisStart = axis.fixPosition(start);\r\n                var axisEnd = axis.fixPosition(end);\r\n                var zoomAnimation = axis.zoom(axisStart, axisEnd, undefined, priority);\r\n                var updateScrollbar = \"updateScrollbar\";\r\n                axis.setPrivateRaw(updateScrollbar, false);\r\n                if (zoomAnimation) {\r\n                    zoomAnimation.events.on(\"stopped\", function () {\r\n                        axis.setPrivateRaw(updateScrollbar, true);\r\n                    });\r\n                }\r\n                else {\r\n                    axis.setPrivateRaw(updateScrollbar, true);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axes, container) {\r\n            var _this = this;\r\n            return axes.events.onAll(function (change) {\r\n                if (change.type === \"clear\") {\r\n                    $array.each(change.oldValues, function (axis) {\r\n                        _this._removeAxis(axis);\r\n                    });\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    container.children.push(change.newValue);\r\n                    change.newValue.processChart(_this);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    container.children.setIndex(change.index, change.newValue);\r\n                    change.newValue.processChart(_this);\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    container.children.insertIndex(change.index, change.newValue);\r\n                    change.newValue.processChart(_this);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    _this._removeAxis(change.oldValue);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    container.children.moveValue(change.value, change.newIndex);\r\n                    change.value.processChart(_this);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IListEvent type\");\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_removeAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axis) {\r\n            if (!axis.isDisposed()) {\r\n                var axisParent = axis.parent;\r\n                if (axisParent) {\r\n                    axisParent.children.removeValue(axis);\r\n                }\r\n                var gridContainer = axis.gridContainer;\r\n                var gridParent = gridContainer.parent;\r\n                if (gridParent) {\r\n                    gridParent.children.removeValue(gridContainer);\r\n                }\r\n                var topGridContainer = axis.topGridContainer;\r\n                var topGridParent = topGridContainer.parent;\r\n                if (topGridParent) {\r\n                    topGridParent.children.removeValue(topGridContainer);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_updateChartLayout\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var left = this.leftAxesContainer.width();\r\n            var right = this.rightAxesContainer.width();\r\n            var bottomAxesContainer = this.bottomAxesContainer;\r\n            bottomAxesContainer.set(\"paddingLeft\", left);\r\n            bottomAxesContainer.set(\"paddingRight\", right);\r\n            var topAxesContainer = this.topAxesContainer;\r\n            topAxesContainer.set(\"paddingLeft\", left);\r\n            topAxesContainer.set(\"paddingRight\", right);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYChart.prototype, \"processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_axis) { }\r\n    });\r\n    ;\r\n    Object.defineProperty(XYChart.prototype, \"_handleAxisSelection\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axis, force) {\r\n            var _a;\r\n            var start = axis.fixPosition(axis.get(\"start\", 0));\r\n            var end = axis.fixPosition(axis.get(\"end\", 1));\r\n            if (start > end) {\r\n                _a = __read([end, start], 2), start = _a[0], end = _a[1];\r\n            }\r\n            if (this.xAxes.indexOf(axis) != -1) {\r\n                if (force || axis.getPrivate(\"updateScrollbar\")) {\r\n                    var scrollbarX = this.get(\"scrollbarX\");\r\n                    if (scrollbarX && (!scrollbarX.getPrivate(\"isBusy\") || force)) {\r\n                        scrollbarX.setRaw(\"start\", start);\r\n                        scrollbarX.setRaw(\"end\", end);\r\n                        scrollbarX.updateGrips();\r\n                    }\r\n                }\r\n            }\r\n            else if (this.yAxes.indexOf(axis) != -1) {\r\n                if (force || axis.getPrivate(\"updateScrollbar\")) {\r\n                    var scrollbarY = this.get(\"scrollbarY\");\r\n                    if (scrollbarY && (!scrollbarY.getPrivate(\"isBusy\") || force)) {\r\n                        scrollbarY.setRaw(\"start\", start);\r\n                        scrollbarY.setRaw(\"end\", end);\r\n                        scrollbarY.updateGrips();\r\n                    }\r\n                }\r\n            }\r\n            this._handleZoomOut();\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_handleZoomOut\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var zoomOutButton = this.zoomOutButton;\r\n            if (zoomOutButton && zoomOutButton.parent) {\r\n                var visible_1 = false;\r\n                this.xAxes.each(function (axis) {\r\n                    if (axis.get(\"start\") != 0 || axis.get(\"end\") != 1) {\r\n                        visible_1 = true;\r\n                    }\r\n                });\r\n                this.yAxes.each(function (axis) {\r\n                    if (axis.get(\"start\") != 0 || axis.get(\"end\") != 1) {\r\n                        visible_1 = true;\r\n                    }\r\n                });\r\n                if (visible_1) {\r\n                    if (zoomOutButton.isHidden()) {\r\n                        zoomOutButton.show();\r\n                    }\r\n                }\r\n                else {\r\n                    zoomOutButton.hide();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Checks if point is within plot area.\r\n     *\r\n     * @param   point  Reference point\r\n     * @return         Is within plot area?\r\n     */\r\n    Object.defineProperty(XYChart.prototype, \"inPlot\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var plotContainer = this.plotContainer;\r\n            var otherCharts = this.getPrivate(\"otherCharts\", this._otherCharts);\r\n            var global = plotContainer.toGlobal(point);\r\n            if (point.x >= -0.1 && point.y >= -0.1 && point.x <= plotContainer.width() + 0.1 && point.y <= plotContainer.height() + 0.1) {\r\n                return true;\r\n            }\r\n            if (otherCharts) {\r\n                for (var i = otherCharts.length - 1; i >= 0; i--) {\r\n                    var chart = otherCharts[i];\r\n                    if (chart != this) {\r\n                        var chartPlotContainer = chart.plotContainer;\r\n                        var documentPoint = this._root.rootPointToDocument(global);\r\n                        var chartRoot = chart._root.documentPointToRoot(documentPoint);\r\n                        var local = chartPlotContainer.toLocal(chartRoot);\r\n                        if (local.x >= -0.1 && local.y >= -0.1 && local.x <= chartPlotContainer.width() + 0.1 && local.y <= chartPlotContainer.height() + 0.1) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYChart.prototype, \"arrangeTooltips\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var plotContainer = this.plotContainer;\r\n            var w = plotContainer.width();\r\n            var h = plotContainer.height();\r\n            var plotT = plotContainer._display.toGlobal({ x: 0, y: 0 });\r\n            var plotB = plotContainer._display.toGlobal({ x: w, y: h });\r\n            var tooltips = [];\r\n            var sum = 0;\r\n            var minDistance = Infinity;\r\n            var movePoint = this._movePoint;\r\n            var maxTooltipDistance = this.get(\"maxTooltipDistance\");\r\n            var maxTooltipDistanceBy = this.get(\"maxTooltipDistanceBy\", \"xy\");\r\n            var closest;\r\n            var closestPoint;\r\n            if ($type.isNumber(maxTooltipDistance)) {\r\n                this.series.each(function (series) {\r\n                    var tooltip = series.get(\"tooltip\");\r\n                    if (tooltip) {\r\n                        var point = tooltip.get(\"pointTo\");\r\n                        if (point) {\r\n                            var distance = Math.hypot(movePoint.x - point.x, movePoint.y - point.y);\r\n                            if (maxTooltipDistanceBy == \"x\") {\r\n                                distance = Math.abs(movePoint.x - point.x);\r\n                            }\r\n                            else if (maxTooltipDistanceBy == \"y\") {\r\n                                distance = Math.abs(movePoint.y - point.y);\r\n                            }\r\n                            if (distance < minDistance) {\r\n                                minDistance = distance;\r\n                                closest = series;\r\n                                closestPoint = point;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            var tooltipSeries = [];\r\n            this.series.each(function (series) {\r\n                var tooltip = series.get(\"tooltip\");\r\n                if (tooltip) {\r\n                    var hidden = false;\r\n                    var point = tooltip.get(\"pointTo\");\r\n                    if (point) {\r\n                        if (maxTooltipDistance >= 0) {\r\n                            var point_1 = tooltip.get(\"pointTo\");\r\n                            if (point_1) {\r\n                                if (series != closest) {\r\n                                    var distance = Math.hypot(closestPoint.x - point_1.x, closestPoint.y - point_1.y);\r\n                                    if (maxTooltipDistanceBy == \"x\") {\r\n                                        distance = Math.abs(closestPoint.x - point_1.x);\r\n                                    }\r\n                                    else if (maxTooltipDistanceBy == \"y\") {\r\n                                        distance = Math.abs(closestPoint.y - point_1.y);\r\n                                    }\r\n                                    if (distance > maxTooltipDistance) {\r\n                                        hidden = true;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        else if (maxTooltipDistance == -1) {\r\n                            if (series != closest) {\r\n                                hidden = true;\r\n                            }\r\n                        }\r\n                        if (!_this.inPlot(_this._tooltipToLocal(point)) || !tooltip.dataItem) {\r\n                            hidden = true;\r\n                        }\r\n                        else {\r\n                            if (!hidden) {\r\n                                sum += point.y;\r\n                            }\r\n                        }\r\n                        if (hidden || series.isHidden() || series.isHiding()) {\r\n                            tooltip.hide(0);\r\n                        }\r\n                        else {\r\n                            tooltip.show();\r\n                            tooltips.push(tooltip);\r\n                            tooltipSeries.push(series);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.setPrivate(\"tooltipSeries\", tooltipSeries);\r\n            if (this.get(\"arrangeTooltips\")) {\r\n                var tooltipContainer_1 = this._root.tooltipContainer;\r\n                var count = tooltips.length;\r\n                var average = sum / count;\r\n                if (average > h / 2 + plotT.y) {\r\n                    tooltips.sort(function (a, b) { return $order.compareNumber(b.get(\"pointTo\").y, a.get(\"pointTo\").y); });\r\n                    var prevY_1 = plotB.y;\r\n                    $array.each(tooltips, function (tooltip) {\r\n                        var height = tooltip.height();\r\n                        var centerY = tooltip.get(\"centerY\");\r\n                        if (centerY instanceof Percent) {\r\n                            height *= centerY.value;\r\n                        }\r\n                        height += tooltip.get(\"marginBottom\", 0);\r\n                        tooltip.set(\"bounds\", { left: plotT.x, top: plotT.y, right: plotB.x, bottom: prevY_1 });\r\n                        prevY_1 = Math.min(prevY_1 - height, tooltip._fy - height);\r\n                        tooltipContainer_1.children.moveValue(tooltip, 0);\r\n                    });\r\n                }\r\n                else {\r\n                    tooltips.reverse();\r\n                    tooltips.sort(function (a, b) { return $order.compareNumber(a.get(\"pointTo\").y, b.get(\"pointTo\").y); });\r\n                    var prevY_2 = 0;\r\n                    $array.each(tooltips, function (tooltip) {\r\n                        var height = tooltip.height();\r\n                        var centerY = tooltip.get(\"centerY\");\r\n                        if (centerY instanceof Percent) {\r\n                            height *= centerY.value;\r\n                        }\r\n                        height += tooltip.get(\"marginBottom\", 0);\r\n                        tooltip.set(\"bounds\", { left: plotT.x, top: prevY_2, right: plotB.x, bottom: Math.max(plotT.y + h, prevY_2 + height) });\r\n                        tooltipContainer_1.children.moveValue(tooltip, 0);\r\n                        prevY_2 = Math.max(prevY_2 + height, tooltip._fy + height);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"_tooltipToLocal\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return this.plotContainer.toLocal(point);\r\n        }\r\n    });\r\n    /**\r\n     * Fully zooms out the chart.\r\n     */\r\n    Object.defineProperty(XYChart.prototype, \"zoomOut\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.xAxes.each(function (axis) {\r\n                axis.setPrivate(\"updateScrollbar\", true);\r\n                axis.zoom(0, 1);\r\n            });\r\n            this.yAxes.each(function (axis) {\r\n                axis.setPrivate(\"updateScrollbar\", true);\r\n                axis.zoom(0, 1);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYChart, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"XYChart\"\r\n    });\r\n    Object.defineProperty(XYChart, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: SerialChart.classNames.concat([XYChart.className])\r\n    });\r\n    return XYChart;\r\n}(SerialChart));\r\nexport { XYChart };\r\n//# sourceMappingURL=XYChart.js.map","import { __extends } from \"tslib\";\r\nimport { List } from \"./List\";\r\n/**\r\n * A [[List]] that holds components data.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n */\r\nvar ListData = /** @class */ (function (_super) {\r\n    __extends(ListData, _super);\r\n    function ListData() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * An optional processor for data.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\r\n         */\r\n        Object.defineProperty(_this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ListData.prototype, \"incrementRef\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ListData.prototype, \"decrementRef\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    Object.defineProperty(ListData.prototype, \"_onPush\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (newValue) {\r\n            if (this.processor) {\r\n                this.processor.processRow(newValue);\r\n                //console.log(newValue)\r\n            }\r\n            _super.prototype._onPush.call(this, newValue);\r\n        }\r\n    });\r\n    Object.defineProperty(ListData.prototype, \"_onInsertIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, newValue) {\r\n            if (this.processor) {\r\n                this.processor.processRow(newValue);\r\n            }\r\n            _super.prototype._onInsertIndex.call(this, index, newValue);\r\n        }\r\n    });\r\n    Object.defineProperty(ListData.prototype, \"_onSetIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (index, oldValue, newValue) {\r\n            if (this.processor) {\r\n                this.processor.processRow(newValue);\r\n            }\r\n            _super.prototype._onSetIndex.call(this, index, oldValue, newValue);\r\n        }\r\n    });\r\n    return ListData;\r\n}(List));\r\nexport { ListData };\r\n/**\r\n * @deprecated\r\n * @todo remove\r\n */\r\nvar JsonData = /** @class */ (function () {\r\n    function JsonData(value) {\r\n        Object.defineProperty(this, \"processor\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(this, \"_value\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        this._value = value;\r\n    }\r\n    Object.defineProperty(JsonData.prototype, \"incrementRef\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    Object.defineProperty(JsonData.prototype, \"decrementRef\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    return JsonData;\r\n}());\r\nexport { JsonData };\r\n//# sourceMappingURL=Data.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { Settings } from \"../util/Entity\";\r\nimport { Container } from \"./Container\";\r\nimport { ListData } from \"../util/Data\";\r\nimport * as $array from \"../util/Array\";\r\nimport * as $object from \"../util/Object\";\r\n/**\r\n * A base element that holds data bit (data item) for any [[Component]].\r\n */\r\nvar DataItem = /** @class */ (function (_super) {\r\n    __extends(DataItem, _super);\r\n    function DataItem(component, dataContext, settings) {\r\n        var _this = _super.call(this, settings) || this;\r\n        /**\r\n         * A data item's owener [[Component]].\r\n         */\r\n        Object.defineProperty(_this, \"component\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A reference to actual item in source data this item is based on.\r\n         */\r\n        Object.defineProperty(_this, \"dataContext\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * @todo requires description\r\n         */\r\n        Object.defineProperty(_this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"open\" values.\r\n         */\r\n        Object.defineProperty(_this, \"open\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A set of \"close\" values.\r\n         */\r\n        Object.defineProperty(_this, \"close\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        _this.dataContext = dataContext;\r\n        _this.component = component;\r\n        _this._settings.visible = true;\r\n        _this._checkDirty();\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DataItem.prototype, \"markDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.component.markDirtyValues(this);\r\n        }\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"_startAnimation\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.component._root._addAnimation(this);\r\n        }\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"_animationTime\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.component._root.animationTime;\r\n        }\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.component) {\r\n                this.component.disposeDataItem(this);\r\n            }\r\n            _super.prototype._dispose.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * Shows a data item that's currently hidden.\r\n     */\r\n    Object.defineProperty(DataItem.prototype, \"show\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            this.setRaw(\"visible\", true);\r\n            if (this.component) {\r\n                this.component.showDataItem(this, duration);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Hides a data item that's currently visible.\r\n     */\r\n    Object.defineProperty(DataItem.prototype, \"hide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            this.setRaw(\"visible\", false);\r\n            if (this.component) {\r\n                this.component.hideDataItem(this, duration);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(DataItem.prototype, \"isHidden\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return !this.get(\"visible\");\r\n        }\r\n    });\r\n    return DataItem;\r\n}(Settings));\r\nexport { DataItem };\r\n/**\r\n * A base class for elements that make use of data.\r\n */\r\nvar Component = /** @class */ (function (_super) {\r\n    __extends(Component, _super);\r\n    function Component() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_data\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListData()\r\n        });\r\n        Object.defineProperty(_this, \"_dataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_mainDataItems\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this._dataItems\r\n        });\r\n        Object.defineProperty(_this, \"valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\"id\"]\r\n        });\r\n        Object.defineProperty(_this, \"_valueFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_valueFieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_fields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_fieldsF\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_valuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_dataChanged\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_dataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * Indicates if the component has already been initialized.\r\n         */\r\n        Object.defineProperty(_this, \"inited\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Component.prototype, \"data\", {\r\n        /**\r\n         * @return  Data\r\n         */\r\n        get: function () {\r\n            return this._data;\r\n        },\r\n        /**\r\n         * Component's data.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\r\n         */\r\n        set: function (data) {\r\n            data.incrementRef();\r\n            this._data.decrementRef();\r\n            this._data = data;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            this._data.decrementRef();\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_onDataClear\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterNew.call(this);\r\n            this._data.incrementRef();\r\n            this._updateFields();\r\n            this._disposers.push(this.data.events.onAll(function (change) {\r\n                var dataItems = _this._mainDataItems;\r\n                _this.markDirtyValues();\r\n                _this._markDirtyGroup();\r\n                _this._dataChanged = true;\r\n                if (change.type === \"clear\") {\r\n                    $array.each(dataItems, function (dataItem) {\r\n                        dataItem.dispose();\r\n                    });\r\n                    dataItems.length = 0;\r\n                    _this._onDataClear();\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    var dataItem = new DataItem(_this, change.newValue, _this._makeDataItem(change.newValue));\r\n                    dataItems.push(dataItem);\r\n                    _this.processDataItem(dataItem);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    var dataItem_1 = dataItems[change.index];\r\n                    var properties_1 = _this._makeDataItem(change.newValue);\r\n                    $object.keys(properties_1).forEach(function (key) {\r\n                        dataItem_1.animate({\r\n                            key: key,\r\n                            to: properties_1[key],\r\n                            duration: _this.get(\"interpolationDuration\", 0),\r\n                            easing: _this.get(\"interpolationEasing\"),\r\n                        });\r\n                    });\r\n                    dataItem_1.dataContext = change.newValue;\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    var dataItem = new DataItem(_this, change.newValue, _this._makeDataItem(change.newValue));\r\n                    dataItems.splice(change.index, 0, dataItem);\r\n                    _this.processDataItem(dataItem);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    var dataItem = dataItems[change.index];\r\n                    dataItem.dispose();\r\n                    dataItems.splice(change.index, 1);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    var dataItem = dataItems[change.oldIndex];\r\n                    dataItems.splice(change.oldIndex, 1);\r\n                    dataItems.splice(change.newIndex, 0, dataItem);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IStreamEvent type\");\r\n                }\r\n                _this._afterDataChange();\r\n            }));\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_updateFields\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this.valueFields) {\r\n                this._valueFields = [];\r\n                this._valueFieldsF = {};\r\n                $array.each(this.valueFields, function (key) {\r\n                    var field = _this.get((key + \"Field\"));\r\n                    if (field) {\r\n                        _this._valueFields.push(key);\r\n                        _this._valueFieldsF[key] = { fieldKey: key + \"Field\", workingKey: key + \"Working\" };\r\n                    }\r\n                });\r\n            }\r\n            if (this.fields) {\r\n                this._fields = [];\r\n                this._fieldsF = {};\r\n                $array.each(this.fields, function (key) {\r\n                    var field = _this.get((key + \"Field\"));\r\n                    if (field) {\r\n                        _this._fields.push(key);\r\n                        _this._fieldsF[key] = key + \"Field\";\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"dataItems\", {\r\n        /**\r\n         * A list of component's data items.\r\n         *\r\n         * @return  Data items\r\n         */\r\n        get: function () {\r\n            return this._dataItems;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Component.prototype, \"processDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) { }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_makeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (data) {\r\n            var _this = this;\r\n            //const output: this[\"_dataItemSettings\"] = {};\r\n            var output = {}; // temporary to solve error\r\n            if (this._valueFields) {\r\n                $array.each(this._valueFields, function (key) {\r\n                    var field = _this.get((_this._valueFieldsF[key].fieldKey));\r\n                    output[key] = data[field];\r\n                    output[_this._valueFieldsF[key].workingKey] = output[key];\r\n                });\r\n            }\r\n            if (this._fields) {\r\n                $array.each(this._fields, function (key) {\r\n                    var field = _this.get((_this._fieldsF[key]));\r\n                    output[key] = data[field];\r\n                });\r\n            }\r\n            return output;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Component.prototype, \"makeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (data) {\r\n            var dataItem = new DataItem(this, undefined, data);\r\n            this.processDataItem(dataItem);\r\n            return dataItem;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Component.prototype, \"pushDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (data) {\r\n            var dataItem = this.makeDataItem(data);\r\n            this._mainDataItems.push(dataItem);\r\n            return dataItem;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Component.prototype, \"disposeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) { }\r\n    });\r\n    /**\r\n     * Shows component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    Object.defineProperty(Component.prototype, \"showDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, _duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    dataItem.set(\"visible\", true);\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides component's data item.\r\n     *\r\n     * @param   dataItem   Data item\r\n     * @param   _duration  Animation duration in milliseconds\r\n     * @return             Promise\r\n     */\r\n    Object.defineProperty(Component.prototype, \"hideDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, _duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    dataItem.set(\"visible\", false);\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._valuesDirty = false;\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_afterDataChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterChanged.call(this);\r\n            if (this._dataChanged) {\r\n                var type = \"datavalidated\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this });\r\n                }\r\n                this._dataChanged = false;\r\n            }\r\n            this.inited = true;\r\n        }\r\n    });\r\n    /**\r\n     * Forces a repaint of the element which relies on data.\r\n     *\r\n     * @since 5.0.21\r\n     */\r\n    Object.defineProperty(Component.prototype, \"markDirtyValues\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n            this.markDirty();\r\n            this._valuesDirty = true;\r\n        }\r\n    });\r\n    Object.defineProperty(Component.prototype, \"_markDirtyGroup\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._dataGrouped = false;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Component.prototype, \"markDirtySize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._sizeDirty = true;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(Component, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Component\"\r\n    });\r\n    Object.defineProperty(Component, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([Component.className])\r\n    });\r\n    return Component;\r\n}(Container));\r\nexport { Component };\r\n//# sourceMappingURL=Component.js.map","import { __extends, __read } from \"tslib\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { Component } from \"../../../core/render/Component\";\r\nimport { Container } from \"../../../core/render/Container\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport { List } from \"../../../core/util/List\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * A base class for all axes.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Adding_axes} for more info\r\n */\r\nvar Axis = /** @class */ (function (_super) {\r\n    __extends(Axis, _super);\r\n    function Axis() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_series\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_isPanning\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis label elements.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"labelsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, {}))\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis grid and fill elements.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"gridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { width: p100, height: p100 })\r\n        });\r\n        /**\r\n         * A [[Container]] that holds axis grid elements which goes above the series.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"topGridContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { width: p100, height: p100 })\r\n        });\r\n        /**\r\n         * A [[Container]] that holds all the axis bullet elements.\r\n         *\r\n         * @default new Container\r\n         */\r\n        Object.defineProperty(_this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, { isMeasured: false, width: p100, height: p100, position: \"absolute\" }))\r\n        });\r\n        /**\r\n         * A referenece to the the chart the axis belongs to.\r\n         */\r\n        Object.defineProperty(_this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_rangesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_panStart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_panEnd\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_sAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_eAnimation\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_skipSync\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A list of axis ranges.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n         * @default new List()\r\n         */\r\n        Object.defineProperty(_this, \"axisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        Object.defineProperty(_this, \"_seriesAxisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        /**\r\n         * A control label that is invisible but is used to keep width the width of\r\n         * the axis constant.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/#Ghost_label} for more info\r\n         */\r\n        Object.defineProperty(_this, \"ghostLabel\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_cursorPosition\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: -1\r\n        });\r\n        Object.defineProperty(_this, \"_snapToSeries\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_seriesValuesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A container above the axis that can be used to add additional stuff into\r\n         * it. For example a legend, label, or an icon.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-headers/} for more info\r\n         * @default new Container\r\n         */\r\n        Object.defineProperty(_this, \"axisHeader\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, {\r\n                themeTags: [\"axis\", \"header\"],\r\n                position: \"absolute\",\r\n                background: Rectangle.new(_this._root, {\r\n                    themeTags: [\"header\", \"background\"],\r\n                    fill: _this._root.interfaceColors.get(\"background\")\r\n                })\r\n            }))\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Axis.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            // these could be in other parents, so disposing just in case\r\n            this.gridContainer.dispose();\r\n            this.topGridContainer.dispose();\r\n            this.bulletsContainer.dispose();\r\n            this.labelsContainer.dispose();\r\n            this.axisHeader.dispose();\r\n            _super.prototype._dispose.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterNew.call(this);\r\n            this.setPrivate(\"updateScrollbar\", true);\r\n            this._disposers.push(this.axisRanges.events.onAll(function (change) {\r\n                if (change.type === \"clear\") {\r\n                    $array.each(change.oldValues, function (dataItem) {\r\n                        _this.disposeDataItem(dataItem);\r\n                    });\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    _this._processAxisRange(change.newValue, [\"range\"]);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    _this._processAxisRange(change.newValue, [\"range\"]);\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    _this._processAxisRange(change.newValue, [\"range\"]);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    _this.disposeDataItem(change.oldValue);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    _this._processAxisRange(change.value, [\"range\"]);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IStreamEvent type\");\r\n                }\r\n            }));\r\n            var renderer = this.get(\"renderer\");\r\n            if (renderer) {\r\n                renderer.axis = this;\r\n                renderer.processAxis();\r\n            }\r\n            this.children.push(renderer);\r\n            this.ghostLabel = renderer.makeLabel(new DataItem(this, undefined, {}), []);\r\n            this.ghostLabel.set(\"opacity\", 0);\r\n        }\r\n    });\r\n    /**\r\n     * Zooms the axis to relative locations.\r\n     *\r\n     * Both `start` and `end` are relative: 0 means start of the axis, 1 - end.\r\n     *\r\n     * @param   start     Relative start\r\n     * @param   end       Relative end\r\n     * @param   duration  Duration of the zoom animation in milliseconds\r\n     * @return            Zoom animation\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"zoom\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (start, end, duration, priority) {\r\n            var _a;\r\n            var _this = this;\r\n            if (this.get(\"start\") !== start || this.get(\"end\") != end) {\r\n                var sAnimation = this._sAnimation;\r\n                var eAnimation = this._eAnimation;\r\n                var maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\r\n                if (start < -maxDeviation) {\r\n                    start = -maxDeviation;\r\n                }\r\n                if (end > 1 + maxDeviation) {\r\n                    end = 1 + maxDeviation;\r\n                }\r\n                if (start > end) {\r\n                    _a = __read([end, start], 2), start = _a[0], end = _a[1];\r\n                }\r\n                if (!$type.isNumber(duration)) {\r\n                    duration = this.get(\"interpolationDuration\", 0);\r\n                }\r\n                if (!priority) {\r\n                    priority = \"end\";\r\n                }\r\n                var maxZoomFactor = this.getPrivate(\"maxZoomFactor\", this.get(\"maxZoomFactor\", 100));\r\n                var maxZoomFactorReal = maxZoomFactor;\r\n                if (end === 1 && start !== 0) {\r\n                    if (start < this.get(\"start\")) {\r\n                        priority = \"start\";\r\n                    }\r\n                    else {\r\n                        priority = \"end\";\r\n                    }\r\n                }\r\n                if (start === 0 && end !== 1) {\r\n                    if (end > this.get(\"end\")) {\r\n                        priority = \"end\";\r\n                    }\r\n                    else {\r\n                        priority = \"start\";\r\n                    }\r\n                }\r\n                var minZoomCount = this.get(\"minZoomCount\");\r\n                var maxZoomCount = this.get(\"maxZoomCount\");\r\n                if ($type.isNumber(minZoomCount)) {\r\n                    maxZoomFactor = maxZoomFactorReal / minZoomCount;\r\n                }\r\n                var minZoomFactor = 1;\r\n                if ($type.isNumber(maxZoomCount)) {\r\n                    minZoomFactor = maxZoomFactorReal / maxZoomCount;\r\n                }\r\n                // most likely we are dragging left scrollbar grip here, so we tend to modify end\r\n                if (priority === \"start\") {\r\n                    if (maxZoomCount > 0) {\r\n                        // add to the end\r\n                        if (1 / (end - start) < minZoomFactor) {\r\n                            end = start + 1 / minZoomFactor;\r\n                        }\r\n                    }\r\n                    // add to the end\r\n                    if (1 / (end - start) > maxZoomFactor) {\r\n                        end = start + 1 / maxZoomFactor;\r\n                    }\r\n                    //unless end is > 0\r\n                    if (end > 1 && end - start < 1 / maxZoomFactor) {\r\n                        //end = 1;\r\n                        start = end - 1 / maxZoomFactor;\r\n                    }\r\n                }\r\n                // most likely we are dragging right, so we modify left\r\n                else {\r\n                    if (maxZoomCount > 0) {\r\n                        // add to the end\r\n                        if (1 / (end - start) < minZoomFactor) {\r\n                            start = end - 1 / minZoomFactor;\r\n                        }\r\n                    }\r\n                    // remove from start\r\n                    if (1 / (end - start) > maxZoomFactor) {\r\n                        start = end - 1 / maxZoomFactor;\r\n                    }\r\n                    if (start < 0 && end - start < 1 / maxZoomFactor) {\r\n                        //start = 0;\r\n                        end = start + 1 / maxZoomFactor;\r\n                    }\r\n                }\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    end = start + 1 / maxZoomFactor;\r\n                }\r\n                if (1 / (end - start) > maxZoomFactor) {\r\n                    start = end - 1 / maxZoomFactor;\r\n                }\r\n                if (maxZoomCount != null && minZoomCount != null && (start == this.get(\"start\") && end == this.get(\"end\"))) {\r\n                    var chart = this.chart;\r\n                    if (chart) {\r\n                        chart._handleAxisSelection(this, true);\r\n                    }\r\n                }\r\n                if (((sAnimation && sAnimation.playing && sAnimation.to == start) || this.get(\"start\") == start) && ((eAnimation && eAnimation.playing && eAnimation.to == end) || this.get(\"end\") == end)) {\r\n                    return;\r\n                }\r\n                if (duration > 0) {\r\n                    var easing = this.get(\"interpolationEasing\");\r\n                    var sAnimation_1, eAnimation_1;\r\n                    if (this.get(\"start\") != start) {\r\n                        sAnimation_1 = this.animate({ key: \"start\", to: start, duration: duration, easing: easing });\r\n                    }\r\n                    if (this.get(\"end\") != end) {\r\n                        eAnimation_1 = this.animate({ key: \"end\", to: end, duration: duration, easing: easing });\r\n                    }\r\n                    this._sAnimation = sAnimation_1;\r\n                    this._eAnimation = eAnimation_1;\r\n                    if (sAnimation_1) {\r\n                        return sAnimation_1;\r\n                    }\r\n                    else if (eAnimation_1) {\r\n                        return eAnimation_1;\r\n                    }\r\n                }\r\n                else {\r\n                    this.set(\"start\", start);\r\n                    this.set(\"end\", end);\r\n                    // otherwise bullets and line out of sync, as series is not redrawn\r\n                    this._root.events.once(\"frameended\", function () {\r\n                        _this._markDirtyKey(\"start\");\r\n                        _this._root._markDirty();\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                if (this._sAnimation) {\r\n                    this._sAnimation.stop();\r\n                }\r\n                if (this._eAnimation) {\r\n                    this._eAnimation.stop();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"series\", {\r\n        /**\r\n         * A list of series using this axis.\r\n         *\r\n         * @return Series\r\n         */\r\n        get: function () {\r\n            return this._series;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_processAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, themeTags) {\r\n            dataItem.setRaw(\"isRange\", true);\r\n            this._createAssets(dataItem, themeTags);\r\n            this._rangesDirty = true;\r\n            this._prepareDataItem(dataItem);\r\n            var above = dataItem.get(\"above\");\r\n            var container = this.topGridContainer;\r\n            var grid = dataItem.get(\"grid\");\r\n            if (above && grid) {\r\n                container.children.moveValue(grid);\r\n            }\r\n            var fill = dataItem.get(\"axisFill\");\r\n            if (above && fill) {\r\n                container.children.moveValue(fill);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_prepareDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem, _index) { }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"markDirtyExtremes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"markDirtySelectionExtremes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_calculateTotals\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_updateAxisRanges\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this.axisRanges.each(function (axisRange) {\r\n                _this._prepareDataItem(axisRange);\r\n            });\r\n            $array.each(this._seriesAxisRanges, function (axisRange) {\r\n                _this._prepareDataItem(axisRange);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this.get(\"fixAxisSize\")) {\r\n                this.ghostLabel.set(\"visible\", true);\r\n            }\r\n            else {\r\n                this.ghostLabel.set(\"visible\", false);\r\n            }\r\n            if (this.isDirty(\"start\") || this.isDirty(\"end\")) {\r\n                this.chart._updateCursor();\r\n                var start = this.get(\"start\", 0);\r\n                var end = this.get(\"end\", 1);\r\n                var maxDeviation = this.get(\"maxDeviation\", 0.5) * Math.min(1, (end - start));\r\n                if (start < -maxDeviation) {\r\n                    var delta = start + maxDeviation;\r\n                    start = -maxDeviation;\r\n                    this.setRaw(\"start\", start);\r\n                    if (this.isDirty(\"end\")) {\r\n                        this.setRaw(\"end\", end - delta);\r\n                    }\r\n                }\r\n                if (end > 1 + maxDeviation) {\r\n                    var delta = end - 1 - maxDeviation;\r\n                    end = 1 + maxDeviation;\r\n                    this.setRaw(\"end\", end);\r\n                    if (this.isDirty(\"start\")) {\r\n                        this.setRaw(\"start\", start - delta);\r\n                    }\r\n                }\r\n            }\r\n            var renderer = this.get(\"renderer\");\r\n            renderer._start = this.get(\"start\");\r\n            renderer._end = this.get(\"end\");\r\n            renderer._inversed = renderer.get(\"inversed\", false);\r\n            renderer._axisLength = renderer.axisLength() / (renderer._end - renderer._start);\r\n            renderer._updateLC();\r\n            if (this.isDirty(\"tooltip\")) {\r\n                var tooltip = this.get(\"tooltip\");\r\n                if (tooltip) {\r\n                    var rendererTags = renderer.get(\"themeTags\");\r\n                    tooltip.addTag(\"axis\");\r\n                    tooltip.addTag(this.className.toLowerCase());\r\n                    tooltip._applyThemes();\r\n                    if (rendererTags) {\r\n                        tooltip.set(\"themeTags\", $utils.mergeTags(tooltip.get(\"themeTags\"), rendererTags));\r\n                        tooltip.label._applyThemes();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_updateTooltipBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                this.get(\"renderer\").updateTooltipBounds(tooltip);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_updateBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateBounds.call(this);\r\n            this._updateTooltipBounds();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"processChart\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (chart) {\r\n            var _this = this;\r\n            this.chart = chart;\r\n            var renderer = this.get(\"renderer\");\r\n            renderer.chart = chart;\r\n            chart.gridContainer.children.push(this.gridContainer);\r\n            chart.topGridContainer.children.push(this.topGridContainer);\r\n            chart.axisHeadersContainer.children.push(this.axisHeader);\r\n            this.on(\"start\", function () {\r\n                chart._handleAxisSelection(_this);\r\n            });\r\n            this.on(\"end\", function () {\r\n                chart._handleAxisSelection(_this);\r\n            });\r\n            chart.plotContainer.onPrivate(\"width\", function () {\r\n                _this.markDirtySize();\r\n            });\r\n            chart.plotContainer.onPrivate(\"height\", function () {\r\n                _this.markDirtySize();\r\n            });\r\n            chart.processAxis(this);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"hideDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            this._toggleDataItem(dataItem, false);\r\n            return _super.prototype.hideDataItem.call(this, dataItem);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"showDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            this._toggleDataItem(dataItem, true);\r\n            return _super.prototype.showDataItem.call(this, dataItem);\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_toggleDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, visible) {\r\n            var label = dataItem.get(\"label\");\r\n            if (label) {\r\n                label.setPrivate(\"visible\", visible);\r\n            }\r\n            var grid = dataItem.get(\"grid\");\r\n            if (grid) {\r\n                grid.setPrivate(\"visible\", visible);\r\n            }\r\n            var tick = dataItem.get(\"tick\");\r\n            if (tick) {\r\n                tick.setPrivate(\"visible\", visible);\r\n            }\r\n            var axisFill = dataItem.get(\"axisFill\");\r\n            if (axisFill) {\r\n                axisFill.setPrivate(\"visible\", visible);\r\n            }\r\n            var bullet = dataItem.get(\"bullet\");\r\n            if (bullet) {\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite.setPrivate(\"visible\", visible);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_createAssets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, tags) {\r\n            var renderer = this.get(\"renderer\");\r\n            if (!dataItem.get(\"label\")) {\r\n                renderer.makeLabel(dataItem, tags);\r\n            }\r\n            if (!dataItem.get(\"grid\")) {\r\n                renderer.makeGrid(dataItem, tags);\r\n            }\r\n            if (!dataItem.get(\"tick\")) {\r\n                renderer.makeTick(dataItem, tags);\r\n            }\r\n            if (!dataItem.get(\"axisFill\")) {\r\n                renderer.makeAxisFill(dataItem, tags);\r\n            }\r\n            this._processBullet(dataItem);\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_processBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var bullet = dataItem.get(\"bullet\");\r\n            var axisBullet = this.get(\"bullet\");\r\n            if (!bullet && axisBullet && !dataItem.get(\"isRange\")) {\r\n                bullet = axisBullet(this._root, this, dataItem);\r\n            }\r\n            if (bullet) {\r\n                bullet.axis = this;\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite._setDataItem(dataItem);\r\n                    dataItem.setRaw(\"bullet\", bullet);\r\n                    if (!sprite.parent) {\r\n                        this.bulletsContainer.children.push(sprite);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterChanged.call(this);\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                chart._updateChartLayout();\r\n                chart.axisHeadersContainer.markDirtySize();\r\n            }\r\n            this.get(\"renderer\")._updatePositions();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"disposeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            _super.prototype.disposeDataItem.call(this, dataItem);\r\n            var renderer = this.get(\"renderer\");\r\n            var label = dataItem.get(\"label\");\r\n            if (label) {\r\n                renderer.labels.removeValue(label);\r\n                label.dispose();\r\n            }\r\n            var tick = dataItem.get(\"tick\");\r\n            if (tick) {\r\n                renderer.ticks.removeValue(tick);\r\n                tick.dispose();\r\n            }\r\n            var grid = dataItem.get(\"grid\");\r\n            if (grid) {\r\n                renderer.grid.removeValue(grid);\r\n                grid.dispose();\r\n            }\r\n            var axisFill = dataItem.get(\"axisFill\");\r\n            if (axisFill) {\r\n                renderer.axisFills.removeValue(axisFill);\r\n                axisFill.dispose();\r\n            }\r\n            var bullet = dataItem.get(\"bullet\");\r\n            if (bullet) {\r\n                bullet.dispose();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_updateGhost\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var ghostLabel = this.ghostLabel;\r\n            if (!ghostLabel.isHidden()) {\r\n                var bounds = ghostLabel.localBounds();\r\n                var gWidth_1 = bounds.right - bounds.left;\r\n                $array.each(this.dataItems, function (dataItem) {\r\n                    var label = dataItem.get(\"label\");\r\n                    if (label && !label.isHidden()) {\r\n                        var bounds_1 = label.localBounds();\r\n                        var w = bounds_1.right - bounds_1.left;\r\n                        if (w > gWidth_1) {\r\n                            ghostLabel.set(\"text\", label.text._getText());\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            var start = this.get(\"start\", 0);\r\n            var end = this.get(\"end\", 1);\r\n            this.get(\"renderer\").updateLabel(ghostLabel, start + (end - start) * 0.5);\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_handleCursorPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position, snapToSeries) {\r\n            var renderer = this.get(\"renderer\");\r\n            position = renderer.toAxisPosition(position);\r\n            this._cursorPosition = position;\r\n            this._snapToSeries = snapToSeries;\r\n            this.updateTooltip();\r\n        }\r\n    });\r\n    /**\r\n     * Can be called when axis zoom changes and you need to update tooltip\r\n     * position.\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"updateTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var snapToSeries = this._snapToSeries;\r\n            var position = this._cursorPosition;\r\n            var tooltip = this.get(\"tooltip\");\r\n            var renderer = this.get(\"renderer\");\r\n            if ($type.isNumber(position)) {\r\n                $array.each(this.series, function (series) {\r\n                    if (series.get(\"baseAxis\") === _this) {\r\n                        var dataItem = _this.getSeriesItem(series, position);\r\n                        series.setRaw(\"tooltipDataItem\", dataItem);\r\n                        if (snapToSeries && snapToSeries.indexOf(series) != -1) {\r\n                            series.updateLegendMarker(dataItem);\r\n                            series.updateLegendValue(dataItem);\r\n                        }\r\n                        else {\r\n                            series.showDataItemTooltip(dataItem);\r\n                        }\r\n                    }\r\n                });\r\n                if (tooltip) {\r\n                    renderer.updateTooltipBounds(tooltip);\r\n                    if (this.get(\"snapTooltip\")) {\r\n                        position = this.roundAxisPosition(position, this.get(\"tooltipLocation\", 0.5));\r\n                    }\r\n                    if (!$type.isNaN(position)) {\r\n                        this.setPrivateRaw(\"tooltipPosition\", position);\r\n                        this._updateTooltipText(tooltip, position);\r\n                        renderer.positionTooltip(tooltip, position);\r\n                        if (position < this.get(\"start\") || position > this.get(\"end\")) {\r\n                            tooltip.hide(0);\r\n                        }\r\n                        else {\r\n                            tooltip.show(0);\r\n                        }\r\n                    }\r\n                    else {\r\n                        tooltip.hide(0);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_updateTooltipText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, position) {\r\n            tooltip.label.set(\"text\", this.getTooltipText(position));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"roundAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position, _location) {\r\n            return position;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"handleCursorShow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.show();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"handleCursorHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var tooltip = this.get(\"tooltip\");\r\n            if (tooltip) {\r\n                tooltip.hide();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"processSeriesDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem, _fields) {\r\n        }\r\n    });\r\n    Object.defineProperty(Axis.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._sizeDirty = false;\r\n            this._rangesDirty = false;\r\n        }\r\n    });\r\n    /**\r\n     * Converts pixel coordinate to a relative position on axis.\r\n     *\r\n     * @param   coordinate  Coordinate\r\n     * @return              Relative position\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"coordinateToPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (coordinate) {\r\n            var renderer = this.get(\"renderer\");\r\n            return renderer.toAxisPosition(coordinate / renderer.axisLength());\r\n        }\r\n    });\r\n    /**\r\n     * Converts relative position of the plot area to relative position of the\r\n     * axis with zoom taken into account.\r\n     *\r\n     * @param position Position\r\n     * @return Relative position\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"toAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            return this.get(\"renderer\").toAxisPosition(position);\r\n        }\r\n    });\r\n    /**\r\n     * Adjusts position with inversed taken into account.\r\n     *\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"fixPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            return this.get(\"renderer\").fixPosition(position);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"shouldGap\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem, _nextItem, _autoGapCount, _fieldName) {\r\n            return false;\r\n        }\r\n    });\r\n    /**\r\n     * Creates and returns an axis range object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n     * @param   axisDataItem  Axis data item\r\n     * @return                Axis range\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"createAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisDataItem) {\r\n            return this.axisRanges.push(axisDataItem);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Axis.prototype, \"_groupSeriesData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_series) { }\r\n    });\r\n    Object.defineProperty(Axis, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Axis\"\r\n    });\r\n    Object.defineProperty(Axis, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Component.classNames.concat([Axis.className])\r\n    });\r\n    return Axis;\r\n}(Component));\r\nexport { Axis };\r\n//# sourceMappingURL=Axis.js.map","import { __extends, __read } from \"tslib\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { Axis } from \"./Axis\";\r\nimport { MultiDisposer } from \"../../../core/util/Disposer\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $math from \"../../../core/util/Math\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Creates a value axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/value-axis/} for more info\r\n * @important\r\n */\r\nvar ValueAxis = /** @class */ (function (_super) {\r\n    __extends(ValueAxis, _super);\r\n    function ValueAxis() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_dirtyExtremes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_dirtySelectionExtremes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_deltaMinMax\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_minReal\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_maxReal\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_baseValue\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_syncDp\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_minLogAdjusted\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"markDirtyExtremes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._dirtyExtremes = true;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"markDirtySelectionExtremes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._dirtySelectionExtremes = true;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n            this.setPrivateRaw(\"name\", \"value\");\r\n            this.addTag(\"value\");\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this.isDirty(\"syncWithAxis\")) {\r\n                var previousValue = this._prevSettings.syncWithAxis;\r\n                if (previousValue) {\r\n                    if (this._syncDp) {\r\n                        this._syncDp.dispose();\r\n                    }\r\n                }\r\n                var syncWithAxis = this.get(\"syncWithAxis\");\r\n                if (syncWithAxis) {\r\n                    this._syncDp = new MultiDisposer([\r\n                        syncWithAxis.onPrivate(\"selectionMinFinal\", function () {\r\n                            _this._dirtySelectionExtremes = true;\r\n                        }),\r\n                        syncWithAxis.onPrivate(\"selectionMaxFinal\", function () {\r\n                            _this._dirtySelectionExtremes = true;\r\n                        })\r\n                    ]);\r\n                }\r\n            }\r\n            //if (this._dirtyExtremes || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"maxPrecision\")) {\r\n            if (this._sizeDirty || this._dirtyExtremes || this._valuesDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"min\") || this.isDirty(\"max\") || this.isDirty(\"extraMin\") || this.isDirty(\"extraMax\") || this.isDirty(\"logarithmic\") || this.isDirty(\"treatZeroAs\") || this.isDirty(\"baseValue\") || this.isDirty(\"strictMinMax\") || this.isDirty(\"strictMinMaxSelection\") || this.isDirty(\"maxPrecision\") || this.isDirty(\"numberFormat\")) {\r\n                this._getMinMax();\r\n                this.ghostLabel.set(\"text\", \"\");\r\n                this._dirtyExtremes = false;\r\n            }\r\n            if (this._dirtySelectionExtremes && !this._isPanning) {\r\n                this._getSelectionMinMax();\r\n                this._dirtySelectionExtremes = false;\r\n            }\r\n            this._groupData();\r\n            if (this._sizeDirty || this._valuesDirty || this.isDirty(\"start\") || this.isDirty(\"end\") || this.isPrivateDirty(\"min\") || this.isPrivateDirty(\"selectionMax\") || this.isPrivateDirty(\"selectionMin\") || this.isPrivateDirty(\"max\") || this.isPrivateDirty(\"step\") || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\") || this.isDirty(\"logarithmic\")) {\r\n                this._handleRangeChange();\r\n                this._prepareAxisItems();\r\n                this._updateAxisRanges();\r\n            }\r\n            this._baseValue = this.baseValue();\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_groupData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_formatText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var numberFormat = this.get(\"numberFormat\");\r\n            var formatter = this.getNumberFormatter();\r\n            var text = \"\";\r\n            if (numberFormat) {\r\n                text = formatter.format(value, numberFormat);\r\n            }\r\n            else {\r\n                text = formatter.format(value, undefined, this.getPrivate(\"stepDecimalPlaces\"));\r\n            }\r\n            return text;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_prepareAxisItems\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var min = this.getPrivate(\"min\");\r\n            var max = this.getPrivate(\"max\");\r\n            if ($type.isNumber(min) && $type.isNumber(max)) {\r\n                var logarithmic = this.get(\"logarithmic\");\r\n                var step = this.getPrivate(\"step\");\r\n                var selectionMin = this.getPrivate(\"selectionMin\");\r\n                var selectionMax = this.getPrivate(\"selectionMax\") + step;\r\n                var value = selectionMin - step;\r\n                var i = 0;\r\n                var differencePower = 1;\r\n                var minLog = min;\r\n                if (logarithmic) {\r\n                    value = this._minLogAdjusted;\r\n                    if (value < selectionMin) {\r\n                        while (value < selectionMin) {\r\n                            value += step;\r\n                        }\r\n                    }\r\n                    minLog = value;\r\n                    if (minLog <= 0) {\r\n                        minLog = 1;\r\n                        if (step < 1) {\r\n                            minLog = step;\r\n                        }\r\n                    }\r\n                    differencePower = Math.log(selectionMax - step) * Math.LOG10E - Math.log(minLog) * Math.LOG10E;\r\n                    if (differencePower > 2) {\r\n                        value = Math.pow(10, Math.log(minLog) * Math.LOG10E - 5);\r\n                    }\r\n                }\r\n                while (value < selectionMax) {\r\n                    var dataItem = void 0;\r\n                    if (this.dataItems.length < i + 1) {\r\n                        dataItem = new DataItem(this, undefined, {});\r\n                        this._dataItems.push(dataItem);\r\n                        this.processDataItem(dataItem);\r\n                    }\r\n                    else {\r\n                        dataItem = this.dataItems[i];\r\n                    }\r\n                    this._createAssets(dataItem, []);\r\n                    if (dataItem.isHidden()) {\r\n                        dataItem.show();\r\n                    }\r\n                    dataItem.setRaw(\"value\", value);\r\n                    var label = dataItem.get(\"label\");\r\n                    if (label) {\r\n                        label.set(\"text\", this._formatText(value));\r\n                    }\r\n                    this._prepareDataItem(dataItem);\r\n                    if (!logarithmic) {\r\n                        value += step;\r\n                    }\r\n                    else {\r\n                        if (differencePower > 2) {\r\n                            value = Math.pow(10, Math.log(minLog) * Math.LOG10E + i - 5);\r\n                        }\r\n                        else {\r\n                            value += step;\r\n                        }\r\n                    }\r\n                    var stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n                    if (stepPower < 1) {\r\n                        // exponent is less then 1 too. Count decimals of exponent\r\n                        var decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 2;\r\n                        // round value to avoid floating point issues\r\n                        value = $math.round(value, decCount);\r\n                    }\r\n                    i++;\r\n                }\r\n                for (var j = i; j < this.dataItems.length; j++) {\r\n                    this.dataItems[j].hide();\r\n                }\r\n                $array.each(this.series, function (series) {\r\n                    if (series.inited) {\r\n                        series._markDirtyAxes();\r\n                    }\r\n                });\r\n                this._updateGhost();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_prepareDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, count) {\r\n            var renderer = this.get(\"renderer\");\r\n            var value = dataItem.get(\"value\");\r\n            var endValue = dataItem.get(\"endValue\");\r\n            var position = this.valueToPosition(value);\r\n            var endPosition = position;\r\n            var fillEndPosition = this.valueToPosition(value + this.getPrivate(\"step\"));\r\n            if ($type.isNumber(endValue)) {\r\n                endPosition = this.valueToPosition(endValue);\r\n                fillEndPosition = endPosition;\r\n            }\r\n            renderer.updateLabel(dataItem.get(\"label\"), position, endPosition, count);\r\n            var grid = dataItem.get(\"grid\");\r\n            renderer.updateGrid(grid, position, endPosition);\r\n            if (grid) {\r\n                if (value == this.get(\"baseValue\", 0)) {\r\n                    grid.addTag(\"base\");\r\n                    grid._applyThemes();\r\n                }\r\n                else if (grid.hasTag(\"base\")) {\r\n                    grid.removeTag(\"base\");\r\n                    grid._applyThemes();\r\n                }\r\n            }\r\n            renderer.updateTick(dataItem.get(\"tick\"), position, endPosition, count);\r\n            renderer.updateFill(dataItem.get(\"axisFill\"), position, fillEndPosition);\r\n            this._processBullet(dataItem);\r\n            renderer.updateBullet(dataItem.get(\"bullet\"), position, endPosition);\r\n            if (!dataItem.get(\"isRange\")) {\r\n                var fillRule = this.get(\"fillRule\");\r\n                if (fillRule) {\r\n                    fillRule(dataItem);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_handleRangeChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var selectionMin = this.positionToValue(this.get(\"start\", 0));\r\n            var selectionMax = this.positionToValue(this.get(\"end\", 1));\r\n            var gridCount = this.get(\"renderer\").gridCount();\r\n            var minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n            var stepDecimalPlaces = $utils.decimalPlaces(minMaxStep.step);\r\n            this.setPrivateRaw(\"stepDecimalPlaces\", stepDecimalPlaces);\r\n            selectionMin = $math.round(selectionMin, stepDecimalPlaces);\r\n            selectionMax = $math.round(selectionMax, stepDecimalPlaces);\r\n            minMaxStep = this._adjustMinMax(selectionMin, selectionMax, gridCount, true);\r\n            var step = minMaxStep.step;\r\n            selectionMin = minMaxStep.min;\r\n            selectionMax = minMaxStep.max;\r\n            if (this.getPrivate(\"selectionMin\") !== selectionMin || this.getPrivate(\"selectionMax\") !== selectionMax || this.getPrivate(\"step\") !== step) {\r\n                // do not change to setPrivate, will cause SO\r\n                this.setPrivateRaw(\"selectionMin\", selectionMin);\r\n                this.setPrivateRaw(\"selectionMax\", selectionMax);\r\n                this.setPrivateRaw(\"step\", step);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Converts a relative position to a corresponding numeric value from axis\r\n     * scale.\r\n     *\r\n     * @param   position  Relative position\r\n     * @return            Value\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"positionToValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var min = this.getPrivate(\"min\");\r\n            var max = this.getPrivate(\"max\");\r\n            if (!this.get(\"logarithmic\")) {\r\n                return position * (max - min) + min;\r\n            }\r\n            else {\r\n                return Math.pow(Math.E, (position * ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E)) + Math.log(min) * Math.LOG10E) / Math.LOG10E);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Convers value to a relative position on axis.\r\n     *\r\n     * @param   value  Value\r\n     * @return         Relative position\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"valueToPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var min = this.getPrivate(\"min\");\r\n            var max = this.getPrivate(\"max\");\r\n            if (!this.get(\"logarithmic\")) {\r\n                return (value - min) / (max - min);\r\n            }\r\n            else {\r\n                if (value <= 0) {\r\n                    var treatZeroAs = this.get(\"treatZeroAs\");\r\n                    if ($type.isNumber(treatZeroAs)) {\r\n                        value = treatZeroAs;\r\n                    }\r\n                }\r\n                return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"valueToFinalPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            var min = this.getPrivate(\"minFinal\");\r\n            var max = this.getPrivate(\"maxFinal\");\r\n            if (!this.get(\"logarithmic\")) {\r\n                return (value - min) / (max - min);\r\n            }\r\n            else {\r\n                if (value <= 0) {\r\n                    var treatZeroAs = this.get(\"treatZeroAs\");\r\n                    if ($type.isNumber(treatZeroAs)) {\r\n                        value = treatZeroAs;\r\n                    }\r\n                }\r\n                return (Math.log(value) * Math.LOG10E - Math.log(min) * Math.LOG10E) / ((Math.log(max) * Math.LOG10E - Math.log(min) * Math.LOG10E));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific value.\r\n     *\r\n     * @param   value     Numeric value\r\n     * @param   location  Location\r\n     * @param   baseValue Base value\r\n     * @return            X coordinate\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, location, baseValue) {\r\n            value = baseValue + (value - baseValue) * location;\r\n            var position = this.valueToPosition(value);\r\n            return this._settings.renderer.positionToCoordinate(position);\r\n        }\r\n    });\r\n    /**\r\n     * Returns X coordinate in pixels corresponding to specific value.\r\n     *\r\n     * @param   value     Numeric value\r\n     * @param   location  Location\r\n     * @param   baseValue Base value\r\n     * @return            X coordinate\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value, location, baseValue) {\r\n            value = baseValue + (value - baseValue) * location;\r\n            var position = this.valueToPosition(value);\r\n            return this._settings.renderer.positionToCoordinate(position);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getDataItemCoordinateX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, _cellLocation, axisLocation) {\r\n            return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, _cellLocation, axisLocation));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getDataItemPositionX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, _cellLocation, axisLocation) {\r\n            var value = dataItem.get(field);\r\n            var stackToItem = dataItem.get(\"stackToItemX\");\r\n            if (stackToItem) {\r\n                var series = dataItem.component;\r\n                value = value * axisLocation + series.getStackedXValueWorking(dataItem, field);\r\n            }\r\n            else {\r\n                value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n            }\r\n            return this.valueToPosition(value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getDataItemCoordinateY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, _cellLocation, axisLocation) {\r\n            return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, _cellLocation, axisLocation));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getDataItemPositionY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, _cellLocation, axisLocation) {\r\n            var value = dataItem.get(field);\r\n            var stackToItem = dataItem.get(\"stackToItemY\");\r\n            if (stackToItem) {\r\n                var series = dataItem.component;\r\n                value = value * axisLocation + series.getStackedYValueWorking(dataItem, field);\r\n            }\r\n            else {\r\n                value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n            }\r\n            return this.valueToPosition(value);\r\n        }\r\n    });\r\n    /**\r\n     * Returns relative position of axis' `baseValue`.\r\n     *\r\n     * @return  Base value position\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"basePosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.valueToPosition(this.baseValue());\r\n        }\r\n    });\r\n    /**\r\n     * Base value of the [[ValueAxis]], which determines positive and negative\r\n     * values.\r\n     *\r\n     * @return Base value\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"baseValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var min = Math.min(this.getPrivate(\"minFinal\", -Infinity), this.getPrivate(\"selectionMin\", -Infinity));\r\n            var max = Math.max(this.getPrivate(\"maxFinal\", Infinity), this.getPrivate(\"selectionMax\", Infinity));\r\n            var baseValue = this.get(\"baseValue\", 0);\r\n            if (baseValue < min) {\r\n                baseValue = min;\r\n            }\r\n            if (baseValue > max) {\r\n                baseValue = max;\r\n            }\r\n            return baseValue;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"cellEndValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (value) {\r\n            return value;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"fixSmallStep\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (step) {\r\n            // happens because of floating point error\r\n            if (1 + step === 1) {\r\n                step *= 2;\r\n                return this.fixSmallStep(step);\r\n            }\r\n            return step;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_fixMin\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min) {\r\n            return min;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_fixMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (max) {\r\n            return max;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_calculateTotals\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.get(\"calculateTotals\")) {\r\n                var series = this.series[0];\r\n                if (series) {\r\n                    var startIndex = series.startIndex();\r\n                    if (series.dataItems.length > 0) {\r\n                        if (startIndex > 0) {\r\n                            startIndex--;\r\n                        }\r\n                        var endIndex = series.endIndex();\r\n                        if (endIndex < series.dataItems.length) {\r\n                            endIndex++;\r\n                        }\r\n                        var field_1;\r\n                        var vc_1;\r\n                        if (series.get(\"yAxis\") == this) {\r\n                            field_1 = \"valueY\";\r\n                            vc_1 = \"vcy\";\r\n                        }\r\n                        else if (series.get(\"xAxis\") == this) {\r\n                            field_1 = \"valueX\";\r\n                            vc_1 = \"vcx\";\r\n                        }\r\n                        var fieldWorking_1 = field_1 + \"Working\";\r\n                        if (field_1) {\r\n                            var _loop_1 = function (i) {\r\n                                var sum = 0;\r\n                                var total = 0;\r\n                                $array.each(this_1.series, function (series) {\r\n                                    if (!series.get(\"excludeFromTotal\")) {\r\n                                        var dataItem = series.dataItems[i];\r\n                                        if (dataItem) {\r\n                                            var value = dataItem.get(fieldWorking_1) * series.get(vc_1);\r\n                                            if (!$type.isNaN(value)) {\r\n                                                sum += value;\r\n                                                total += Math.abs(value);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                });\r\n                                $array.each(this_1.series, function (series) {\r\n                                    if (!series.get(\"excludeFromTotal\")) {\r\n                                        var dataItem = series.dataItems[i];\r\n                                        if (dataItem) {\r\n                                            var value = dataItem.get(fieldWorking_1) * series.get(vc_1);\r\n                                            if (!$type.isNaN(value)) {\r\n                                                dataItem.set((field_1 + \"Total\"), total);\r\n                                                dataItem.set((field_1 + \"Sum\"), sum);\r\n                                                dataItem.set((field_1 + \"TotalPercent\"), value / total * 100);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                });\r\n                            };\r\n                            var this_1 = this;\r\n                            for (var i = startIndex; i < endIndex; i++) {\r\n                                _loop_1(i);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_getSelectionMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _a;\r\n            var _this = this;\r\n            var min = this.getPrivate(\"minFinal\");\r\n            var max = this.getPrivate(\"maxFinal\");\r\n            var minDefined = this.get(\"min\");\r\n            var maxDefined = this.get(\"max\");\r\n            var extraMin = this.get(\"extraMin\", 0);\r\n            var extraMax = this.get(\"extraMax\", 0);\r\n            if (this.get(\"logarithmic\")) {\r\n                if (this.get(\"extraMin\") == null) {\r\n                    extraMin = 0.1;\r\n                }\r\n                if (this.get(\"extraMax\") == null) {\r\n                    extraMax = 0.2;\r\n                }\r\n            }\r\n            var gridCount = this.get(\"renderer\").gridCount();\r\n            var selectionStrictMinMax = this.get(\"strictMinMaxSelection\");\r\n            var strictMinMax = this.get(\"strictMinMax\");\r\n            if ($type.isNumber(min) && $type.isNumber(max)) {\r\n                var selectionMin_1 = max;\r\n                var selectionMax_1 = min;\r\n                $array.each(this.series, function (series) {\r\n                    if (!series.get(\"ignoreMinMax\")) {\r\n                        var seriesMin = void 0;\r\n                        var seriesMax = void 0;\r\n                        var outOfSelection = series.getPrivate(\"outOfSelection\");\r\n                        if (series.get(\"xAxis\") === _this) {\r\n                            if (!outOfSelection) {\r\n                                seriesMin = series.getPrivate(\"selectionMinX\", series.getPrivate(\"minX\"));\r\n                                seriesMax = series.getPrivate(\"selectionMaxX\", series.getPrivate(\"maxX\"));\r\n                            }\r\n                        }\r\n                        else if (series.get(\"yAxis\") === _this) {\r\n                            if (!outOfSelection) {\r\n                                seriesMin = series.getPrivate(\"selectionMinY\", series.getPrivate(\"minY\"));\r\n                                seriesMax = series.getPrivate(\"selectionMaxY\", series.getPrivate(\"maxY\"));\r\n                            }\r\n                        }\r\n                        if (!series.isHidden() && !series.isShowing()) {\r\n                            if ($type.isNumber(seriesMin)) {\r\n                                selectionMin_1 = Math.min(selectionMin_1, seriesMin);\r\n                            }\r\n                            if ($type.isNumber(seriesMax)) {\r\n                                selectionMax_1 = Math.max(selectionMax_1, seriesMax);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                this.axisRanges.each(function (range) {\r\n                    if (range.get(\"affectsMinMax\")) {\r\n                        var value = range.get(\"value\");\r\n                        if (value != null) {\r\n                            selectionMin_1 = Math.min(selectionMin_1, value);\r\n                            selectionMax_1 = Math.max(selectionMax_1, value);\r\n                        }\r\n                        value = range.get(\"endValue\");\r\n                        if (value != null) {\r\n                            selectionMin_1 = Math.min(selectionMin_1, value);\r\n                            selectionMax_1 = Math.max(selectionMax_1, value);\r\n                        }\r\n                    }\r\n                });\r\n                if (selectionMin_1 > selectionMax_1) {\r\n                    _a = __read([selectionMax_1, selectionMin_1], 2), selectionMin_1 = _a[0], selectionMax_1 = _a[1];\r\n                }\r\n                if ($type.isNumber(minDefined)) {\r\n                    if (strictMinMax) {\r\n                        selectionMin_1 = minDefined;\r\n                    }\r\n                    else {\r\n                        selectionMin_1 = min;\r\n                    }\r\n                }\r\n                else if (strictMinMax) {\r\n                    if ($type.isNumber(this._minReal)) {\r\n                        selectionMin_1 = this._minReal;\r\n                    }\r\n                }\r\n                if ($type.isNumber(maxDefined)) {\r\n                    if (strictMinMax) {\r\n                        selectionMax_1 = maxDefined;\r\n                    }\r\n                    else {\r\n                        selectionMax_1 = max;\r\n                    }\r\n                }\r\n                else if (strictMinMax) {\r\n                    if ($type.isNumber(this._maxReal)) {\r\n                        selectionMax_1 = this._maxReal;\r\n                    }\r\n                }\r\n                if (selectionMin_1 === selectionMax_1) {\r\n                    selectionMin_1 -= this._deltaMinMax;\r\n                    selectionMax_1 += this._deltaMinMax;\r\n                    var minMaxStep2 = this._adjustMinMax(selectionMin_1, selectionMax_1, gridCount, strictMinMax);\r\n                    selectionMin_1 = minMaxStep2.min;\r\n                    selectionMax_1 = minMaxStep2.max;\r\n                }\r\n                var selectionMinReal = selectionMin_1;\r\n                var selectionMaxReal = selectionMax_1;\r\n                selectionMin_1 -= (selectionMax_1 - selectionMin_1) * extraMin;\r\n                selectionMax_1 += (selectionMax_1 - selectionMin_1) * extraMax;\r\n                var minMaxStep = this._adjustMinMax(selectionMin_1, selectionMax_1, gridCount);\r\n                selectionMin_1 = minMaxStep.min;\r\n                selectionMax_1 = minMaxStep.max;\r\n                selectionMin_1 = $math.fitToRange(selectionMin_1, min, max);\r\n                selectionMax_1 = $math.fitToRange(selectionMax_1, min, max);\r\n                // do it for the second time !important\t\t\t\r\n                minMaxStep = this._adjustMinMax(selectionMin_1, selectionMax_1, gridCount, true);\r\n                if (!strictMinMax) {\r\n                    selectionMin_1 = minMaxStep.min;\r\n                    selectionMax_1 = minMaxStep.max;\r\n                }\r\n                var syncWithAxis = this.get(\"syncWithAxis\");\r\n                if (syncWithAxis) {\r\n                    minMaxStep = this._syncAxes(selectionMin_1, selectionMax_1, minMaxStep.step, syncWithAxis.getPrivate(\"selectionMinFinal\", syncWithAxis.getPrivate(\"minFinal\", 0)), syncWithAxis.getPrivate(\"selectionMaxFinal\", syncWithAxis.getPrivate(\"maxFinal\", 1)), syncWithAxis.getPrivate(\"selectionStepFinal\", syncWithAxis.getPrivate(\"step\", 1)));\r\n                    selectionMin_1 = minMaxStep.min;\r\n                    selectionMax_1 = minMaxStep.max;\r\n                }\r\n                if (strictMinMax) {\r\n                    if ($type.isNumber(minDefined)) {\r\n                        selectionMin_1 = Math.max(selectionMin_1, minDefined);\r\n                    }\r\n                    if ($type.isNumber(maxDefined)) {\r\n                        selectionMax_1 = Math.min(selectionMax_1, maxDefined);\r\n                    }\r\n                }\r\n                if (selectionStrictMinMax) {\r\n                    selectionMin_1 = selectionMinReal - (selectionMax_1 - selectionMin_1) * extraMin;\r\n                    selectionMax_1 = selectionMaxReal + (selectionMax_1 - selectionMin_1) * extraMax;\r\n                }\r\n                if (this.get(\"logarithmic\")) {\r\n                    if (selectionMin_1 <= 0) {\r\n                        selectionMin_1 = selectionMinReal * (1 - Math.min(extraMin, 0.99));\r\n                    }\r\n                    if (selectionMin_1 < min) {\r\n                        selectionMin_1 = min;\r\n                    }\r\n                    if (selectionMax_1 > max) {\r\n                        selectionMax_1 = max;\r\n                    }\r\n                }\r\n                var start = this.valueToFinalPosition(selectionMin_1);\r\n                var end = this.valueToFinalPosition(selectionMax_1);\r\n                this.setPrivateRaw(\"selectionMinFinal\", selectionMin_1);\r\n                this.setPrivateRaw(\"selectionMaxFinal\", selectionMax_1);\r\n                this.setPrivateRaw(\"selectionStepFinal\", minMaxStep.step);\r\n                this.zoom(start, end);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_getMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var minDefined = this.get(\"min\");\r\n            var maxDefined = this.get(\"max\");\r\n            var min = Infinity;\r\n            var max = -Infinity;\r\n            var extraMin = this.get(\"extraMin\", 0);\r\n            var extraMax = this.get(\"extraMax\", 0);\r\n            if (this.get(\"logarithmic\")) {\r\n                if (this.get(\"extraMin\") == null) {\r\n                    extraMin = 0.1;\r\n                }\r\n                if (this.get(\"extraMax\") == null) {\r\n                    extraMax = 0.2;\r\n                }\r\n            }\r\n            var minDiff = Infinity;\r\n            $array.each(this.series, function (series) {\r\n                if (!series.get(\"ignoreMinMax\")) {\r\n                    var seriesMin = void 0;\r\n                    var seriesMax = void 0;\r\n                    if (series.get(\"xAxis\") === _this) {\r\n                        seriesMin = series.getPrivate(\"minX\");\r\n                        seriesMax = series.getPrivate(\"maxX\");\r\n                    }\r\n                    else if (series.get(\"yAxis\") === _this) {\r\n                        seriesMin = series.getPrivate(\"minY\");\r\n                        seriesMax = series.getPrivate(\"maxY\");\r\n                    }\r\n                    if ($type.isNumber(seriesMin) && $type.isNumber(seriesMax)) {\r\n                        min = Math.min(min, seriesMin);\r\n                        max = Math.max(max, seriesMax);\r\n                        var diff = seriesMax - seriesMin;\r\n                        if (diff <= 0) {\r\n                            diff = Math.abs(seriesMax / 100);\r\n                        }\r\n                        if (diff < minDiff) {\r\n                            minDiff = diff;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.axisRanges.each(function (range) {\r\n                if (range.get(\"affectsMinMax\")) {\r\n                    var value = range.get(\"value\");\r\n                    if (value != null) {\r\n                        min = Math.min(min, value);\r\n                        max = Math.max(max, value);\r\n                    }\r\n                    value = range.get(\"endValue\");\r\n                    if (value != null) {\r\n                        min = Math.min(min, value);\r\n                        max = Math.max(max, value);\r\n                    }\r\n                }\r\n            });\r\n            if (this.get(\"logarithmic\")) {\r\n                var treatZeroAs = this.get(\"treatZeroAs\");\r\n                if ($type.isNumber(treatZeroAs)) {\r\n                    if (min <= 0) {\r\n                        min = treatZeroAs;\r\n                    }\r\n                }\r\n                if (min <= 0) {\r\n                    new Error(\"Logarithmic value axis can not have values <= 0.\");\r\n                }\r\n            }\r\n            if (min === 0 && max === 0) {\r\n                max = 0.9;\r\n                min = -0.9;\r\n            }\r\n            if ($type.isNumber(minDefined)) {\r\n                min = minDefined;\r\n            }\r\n            if ($type.isNumber(maxDefined)) {\r\n                max = maxDefined;\r\n            }\r\n            // meaning no min/max found on series/ranges and no min/max was defined\r\n            if (min === Infinity || max === -Infinity) {\r\n                return;\r\n            }\r\n            var initialMin = min;\r\n            var initialMax = max;\r\n            // adapter\r\n            var minAdapted = this.adapters.fold(\"min\", min);\r\n            var maxAdapted = this.adapters.fold(\"max\", max);\r\n            if ($type.isNumber(minAdapted)) {\r\n                min = minAdapted;\r\n            }\r\n            if ($type.isNumber(maxAdapted)) {\r\n                max = maxAdapted;\r\n            }\r\n            // DateAxis does some magic here\r\n            min = this._fixMin(min);\r\n            max = this._fixMax(max);\r\n            // this happens if starLocation and endLocation are 0.5 and DateAxis has only one date\r\n            if (max - min <= 1 / Math.pow(10, 15)) {\r\n                if (max - min !== 0) {\r\n                    this._deltaMinMax = (max - min) / 2;\r\n                }\r\n                else {\r\n                    // the number by which we need to raise 10 to get difference\r\n                    var exponent = Math.log(Math.abs(max)) * Math.LOG10E;\r\n                    // here we find a number which is power of 10 and has the same count of numbers as difference has\r\n                    var power = Math.pow(10, Math.floor(exponent));\r\n                    // reduce this number by 10 times\r\n                    power = power / 10;\r\n                    this._deltaMinMax = power;\r\n                }\r\n                min -= this._deltaMinMax;\r\n                max += this._deltaMinMax;\r\n            }\r\n            // add extras\r\n            min -= (max - min) * extraMin;\r\n            max += (max - min) * extraMax;\r\n            if (this.get(\"logarithmic\")) {\r\n                // don't let min go below 0 if real min is >= 0\r\n                if (min < 0 && initialMin >= 0) {\r\n                    min = 0;\r\n                }\r\n                // don't let max go above 0 if real max is <= 0\r\n                if (max > 0 && initialMax <= 0) {\r\n                    max = 0;\r\n                }\r\n            }\r\n            this._minReal = min;\r\n            this._maxReal = max;\r\n            var strictMinMax = this.get(\"strictMinMax\");\r\n            var strictMinMaxSelection = this.get(\"strictMinMaxSelection\", false);\r\n            if (strictMinMaxSelection) {\r\n                strictMinMax = strictMinMaxSelection;\r\n            }\r\n            var strict = strictMinMax;\r\n            if ($type.isNumber(maxDefined)) {\r\n                strict = true;\r\n            }\r\n            var gridCount = this.get(\"renderer\").gridCount();\r\n            var minMaxStep = this._adjustMinMax(min, max, gridCount, strict);\r\n            min = minMaxStep.min;\r\n            max = minMaxStep.max;\r\n            // do it for the second time with strict true (importat!)\r\n            minMaxStep = this._adjustMinMax(min, max, gridCount, true);\r\n            min = minMaxStep.min;\r\n            max = minMaxStep.max;\r\n            // return min max if strict\r\n            if (strictMinMax) {\r\n                if ($type.isNumber(minDefined)) {\r\n                    min = minDefined;\r\n                }\r\n                else {\r\n                    min = this._minReal;\r\n                }\r\n                if ($type.isNumber(maxDefined)) {\r\n                    max = maxDefined;\r\n                }\r\n                else {\r\n                    max = this._maxReal;\r\n                }\r\n                if (max - min <= 0.00000001) {\r\n                    min -= this._deltaMinMax;\r\n                    max += this._deltaMinMax;\r\n                }\r\n                min -= (max - min) * extraMin;\r\n                max += (max - min) * extraMax;\r\n            }\r\n            minAdapted = this.adapters.fold(\"min\", min);\r\n            maxAdapted = this.adapters.fold(\"max\", max);\r\n            if ($type.isNumber(minAdapted)) {\r\n                min = minAdapted;\r\n            }\r\n            if ($type.isNumber(maxAdapted)) {\r\n                max = maxAdapted;\r\n            }\r\n            if (minDiff == Infinity) {\r\n                minDiff = (max - min);\r\n            }\r\n            var syncWithAxis = this.get(\"syncWithAxis\");\r\n            if (syncWithAxis) {\r\n                minMaxStep = this._syncAxes(min, max, minMaxStep.step, syncWithAxis.getPrivate(\"minFinal\", syncWithAxis.getPrivate(\"min\", 0)), syncWithAxis.getPrivate(\"maxFinal\", syncWithAxis.getPrivate(\"max\", 1)), syncWithAxis.getPrivate(\"step\", 1));\r\n                min = minMaxStep.min;\r\n                max = minMaxStep.max;\r\n            }\r\n            this.setPrivateRaw(\"maxZoomFactor\", (max - min) / minDiff * this.get(\"maxZoomFactor\", 100));\r\n            if (this.get(\"logarithmic\")) {\r\n                this._minLogAdjusted = min;\r\n                min = this._minReal;\r\n                max = this._maxReal;\r\n                if (min <= 0) {\r\n                    min = initialMin * (1 - Math.min(extraMin, 0.99));\r\n                }\r\n            }\r\n            if ($type.isNumber(min) && $type.isNumber(max)) {\r\n                if (this.getPrivate(\"minFinal\") !== min || this.getPrivate(\"maxFinal\") !== max) {\r\n                    this.setPrivate(\"minFinal\", min);\r\n                    this.setPrivate(\"maxFinal\", max);\r\n                    this._saveMinMax(min, max);\r\n                    var duration = this.get(\"interpolationDuration\", 0);\r\n                    var easing = this.get(\"interpolationEasing\");\r\n                    this.animatePrivate({ key: \"min\", to: min, duration: duration, easing: easing });\r\n                    this.animatePrivate({ key: \"max\", to: max, duration: duration, easing: easing });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_saveMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_min, _max) {\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis.prototype, \"_adjustMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max, gridCount, strictMode) {\r\n            // will fail if 0\r\n            if (gridCount <= 1) {\r\n                gridCount = 1;\r\n            }\r\n            gridCount = Math.round(gridCount);\r\n            var initialMin = min;\r\n            var initialMax = max;\r\n            var difference = max - min;\r\n            // in case min and max is the same, use max\r\n            if (difference === 0) {\r\n                difference = Math.abs(max);\r\n            }\r\n            // the number by which we need to raise 10 to get difference\r\n            var exponent = Math.log(Math.abs(difference)) * Math.LOG10E;\r\n            // here we find a number which is power of 10 and has the same count of numbers as difference has\r\n            var power = Math.pow(10, Math.floor(exponent));\r\n            // reduce this number by 10 times\r\n            power = power / 10;\r\n            var extra = power;\r\n            if (strictMode) {\r\n                extra = 0;\r\n            }\r\n            // round down min\r\n            if (strictMode) {\r\n                min = Math.floor(min / power) * power;\r\n                // round up max\r\n                max = Math.ceil(max / power) * power;\r\n            }\r\n            else {\r\n                min = Math.ceil(min / power) * power - extra;\r\n                // round up max\r\n                max = Math.floor(max / power) * power + extra;\r\n            }\r\n            // don't let min go below 0 if real min is >= 0\r\n            if (min < 0 && initialMin >= 0) {\r\n                min = 0;\r\n            }\r\n            // don't let max go above 0 if real max is <= 0\r\n            if (max > 0 && initialMax <= 0) {\r\n                max = 0;\r\n            }\r\n            exponent = Math.log(Math.abs(difference)) * Math.LOG10E;\r\n            power = Math.pow(10, Math.floor(exponent));\r\n            power = power / 100; // used to be 10 in v4, but this caused issue that there could be limited number of grids with even very small minGridDistance\r\n            // approximate difference between two grid lines\r\n            var step = Math.ceil((difference / gridCount) / power) * power;\r\n            var stepPower = Math.pow(10, Math.floor(Math.log(Math.abs(step)) * Math.LOG10E));\r\n            // the step should divide by  2, 5, and 10.\r\n            var stepDivisor = Math.ceil(step / stepPower); // number 0 - 10\r\n            if (stepDivisor > 5) {\r\n                stepDivisor = 10;\r\n            }\r\n            else if (stepDivisor <= 5 && stepDivisor > 2) {\r\n                stepDivisor = 5;\r\n            }\r\n            // now get real step\r\n            step = Math.ceil(step / (stepPower * stepDivisor)) * stepPower * stepDivisor;\r\n            var maxPrecision = this.get(\"maxPrecision\");\r\n            if ($type.isNumber(maxPrecision)) {\r\n                var ceiledStep = $math.ceil(step, maxPrecision);\r\n                if (maxPrecision < Number.MAX_VALUE && step !== ceiledStep) {\r\n                    step = ceiledStep;\r\n                }\r\n            }\r\n            var decCount = 0;\r\n            // in case numbers are smaller than 1\r\n            if (stepPower < 1) {\r\n                // exponent is less then 1 too. Count decimals of exponent\r\n                decCount = Math.round(Math.abs(Math.log(Math.abs(stepPower)) * Math.LOG10E)) + 1;\r\n                // round step\r\n                step = $math.round(step, decCount);\r\n            }\r\n            // final min and max\r\n            var minCount = Math.floor(min / step);\r\n            min = $math.round(step * minCount, decCount);\r\n            var maxCount;\r\n            if (!strictMode) {\r\n                maxCount = Math.ceil(max / step);\r\n            }\r\n            else {\r\n                maxCount = Math.floor(max / step);\r\n            }\r\n            if (maxCount === minCount) {\r\n                maxCount++;\r\n            }\r\n            max = $math.round(step * maxCount, decCount);\r\n            if (max < initialMax) {\r\n                max = max + step;\r\n            }\r\n            if (min > initialMin) {\r\n                min = min - step;\r\n            }\r\n            step = this.fixSmallStep(step);\r\n            return { min: min, max: max, step: step };\r\n        }\r\n    });\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getTooltipText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var numberFormat = this.get(\"tooltipNumberFormat\", this.get(\"numberFormat\"));\r\n            var formatter = this.getNumberFormatter();\r\n            var extraDecimals = this.get(\"extraTooltipPrecision\", 0);\r\n            var decimals = this.getPrivate(\"stepDecimalPlaces\", 0) + extraDecimals;\r\n            var value = $math.round(this.positionToValue(position), decimals);\r\n            if (numberFormat) {\r\n                return formatter.format(value, numberFormat);\r\n            }\r\n            else {\r\n                return formatter.format(value, undefined, decimals);\r\n                //label.set(\"text\", this.getNumberFormatter().format(value, undefined, this.getPrivate(\"stepDecimalPlaces\")));\r\n            }\r\n            // //@todo number formatter + tag\r\n            // return $math.round(this.positionToValue(position), this.getPrivate(\"stepDecimalPlaces\")).toString();\r\n        }\r\n    });\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"getSeriesItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series, position) {\r\n            var fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n            var value = this.positionToValue(position);\r\n            var index = undefined;\r\n            var oldDiff;\r\n            $array.each(series.dataItems, function (dataItem, i) {\r\n                var diff = Math.abs(dataItem.get(fieldName) - value);\r\n                if (index === undefined || diff < oldDiff) {\r\n                    index = i;\r\n                    oldDiff = diff;\r\n                }\r\n            });\r\n            if (index != null) {\r\n                return series.dataItems[index];\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` values.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start value\r\n     * @param  end       End value\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"zoomToValues\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (start, end, duration) {\r\n            var min = this.getPrivate(\"minFinal\", 0);\r\n            var max = this.getPrivate(\"maxFinal\", 0);\r\n            if (this.getPrivate(\"min\") != null && this.getPrivate(\"max\") != null) {\r\n                this.zoom((start - min) / (max - min), (end - min) / (max - min), duration);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Syncs with a target axis.\r\n     *\r\n     * @param  min  Min\r\n     * @param  max  Max\r\n     * @param  step Step\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"_syncAxes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max, step, syncMin, syncMax, syncStep) {\r\n            var axis = this.get(\"syncWithAxis\");\r\n            if (axis) {\r\n                var count = Math.round(syncMax - syncMin) / syncStep;\r\n                var currentCount = Math.round((max - min) / step);\r\n                var gridCount = this.get(\"renderer\").gridCount();\r\n                if ($type.isNumber(count) && $type.isNumber(currentCount)) {\r\n                    var synced = false;\r\n                    var c = 0;\r\n                    var diff = (max - min) * 0.01;\r\n                    var omin = min;\r\n                    var omax = max;\r\n                    var ostep = step;\r\n                    while (synced != true) {\r\n                        synced = this._checkSync(omin, omax, ostep, count);\r\n                        c++;\r\n                        if (c > 500) {\r\n                            synced = true;\r\n                        }\r\n                        if (!synced) {\r\n                            if (c / 3 == Math.round(c / 3)) {\r\n                                omin = min - diff * c;\r\n                                if (min >= 0 && omin < 0) {\r\n                                    omin = 0;\r\n                                }\r\n                            }\r\n                            else {\r\n                                omax = max + diff * c;\r\n                                if (omax <= 0 && omax > 0) {\r\n                                    omax = 0;\r\n                                }\r\n                            }\r\n                            var minMaxStep = this._adjustMinMax(omin, omax, gridCount, true);\r\n                            omin = minMaxStep.min;\r\n                            omax = minMaxStep.max;\r\n                            ostep = minMaxStep.step;\r\n                        }\r\n                        else {\r\n                            min = omin;\r\n                            max = omax;\r\n                            step = ostep;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return { min: min, max: max, step: step };\r\n        }\r\n    });\r\n    /**\r\n     * Returns `true` if axis needs to be resunced with some other axis.\r\n     */\r\n    Object.defineProperty(ValueAxis.prototype, \"_checkSync\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max, step, count) {\r\n            var currentCount = (max - min) / step;\r\n            for (var i = 1; i < count; i++) {\r\n                if ($math.round(currentCount / i, 1) == count || currentCount * i == count) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(ValueAxis, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"ValueAxis\"\r\n    });\r\n    Object.defineProperty(ValueAxis, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Axis.classNames.concat([ValueAxis.className])\r\n    });\r\n    return ValueAxis;\r\n}(Axis));\r\nexport { ValueAxis };\r\n//# sourceMappingURL=ValueAxis.js.map","import { __assign, __extends } from \"tslib\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { ValueAxis } from \"./ValueAxis\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $order from \"../../../core/util/Order\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $object from \"../../../core/util/Object\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport * as $time from \"../../../core/util/Time\";\r\n/**\r\n * Creates a date axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/date-axis/} for more info\r\n * @important\r\n */\r\nvar DateAxis = /** @class */ (function (_super) {\r\n    __extends(DateAxis, _super);\r\n    function DateAxis() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_dataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_seriesDataGrouped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_groupingCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_intervalDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_baseDuration\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_intervalMax\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_intervalMin\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DateAxis.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"axis\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            this._setBaseInterval(this.get(\"baseInterval\"));\r\n            this.on(\"baseInterval\", function () {\r\n                _this._setBaseInterval(_this.get(\"baseInterval\"));\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_setBaseInterval\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (interval) {\r\n            this.setPrivateRaw(\"baseInterval\", interval);\r\n            this._baseDuration = $time.getIntervalDuration(interval);\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_fixZoomFactor\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivateRaw(\"maxZoomFactor\", Math.round((this.getPrivate(\"max\", 0) - this.getPrivate(\"min\", 0)) / this.baseMainDuration()));\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_groupData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            var min = this.getPrivate(\"min\");\r\n            var max = this.getPrivate(\"max\");\r\n            if (($type.isNumber(min) && $type.isNumber(max))) {\r\n                this._fixZoomFactor();\r\n                var groupInterval = this.getPrivate(\"groupInterval\");\r\n                if (groupInterval) {\r\n                    this._setBaseInterval(groupInterval);\r\n                }\r\n                else {\r\n                    this._setBaseInterval(this.get(\"baseInterval\"));\r\n                }\r\n                if (this.isDirty(\"groupInterval\")) {\r\n                    var groupInterval_1 = this.get(\"groupInterval\");\r\n                    if (groupInterval_1) {\r\n                        this.setRaw(\"groupIntervals\", [groupInterval_1]);\r\n                    }\r\n                }\r\n                if (this.isDirty(\"groupData\")) {\r\n                    if (!this._dataGrouped) {\r\n                        if (this.get(\"groupData\")) {\r\n                            $array.each(this.series, function (series) {\r\n                                _this._groupSeriesData(series);\r\n                            });\r\n                            this._handleRangeChange();\r\n                        }\r\n                        else {\r\n                            var baseInterval = this.get(\"baseInterval\");\r\n                            var mainDataSetId_1 = baseInterval.timeUnit + baseInterval.count;\r\n                            $array.each(this.series, function (series) {\r\n                                series.setDataSet(mainDataSetId_1);\r\n                            });\r\n                            this._setBaseInterval(baseInterval);\r\n                            this.setPrivateRaw(\"groupInterval\", undefined);\r\n                            this.markDirtyExtremes();\r\n                        }\r\n                        this._dataGrouped = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_groupSeriesData\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series) {\r\n            var _this = this;\r\n            if (this.get(\"groupData\") && !series.get(\"groupDataDisabled\")) {\r\n                this._dataGrouped = true; // helps to avoid double grouping\r\n                this._seriesDataGrouped = true;\r\n                // make array of intervals which will be used;\r\n                var intervals_1 = [];\r\n                var baseDuration_1 = this.baseMainDuration();\r\n                var groupIntervals = this.get(\"groupIntervals\");\r\n                if (groupIntervals) { }\r\n                $array.each(groupIntervals, function (interval) {\r\n                    var intervalDuration = $time.getIntervalDuration(interval);\r\n                    if (intervalDuration > baseDuration_1) {\r\n                        intervals_1.push(interval);\r\n                    }\r\n                });\r\n                series._dataSets = {};\r\n                var key_1 = this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\");\r\n                var fields_1;\r\n                var baseAxis = series.get(\"baseAxis\");\r\n                if (series.get(\"xAxis\") === baseAxis) {\r\n                    fields_1 = series._valueYFields;\r\n                }\r\n                else if (series.get(\"yAxis\") === baseAxis) {\r\n                    fields_1 = series._valueXFields;\r\n                }\r\n                var dataItems_1 = series._mainDataItems;\r\n                var baseInterval = this.get(\"baseInterval\");\r\n                var mainDataSetId = baseInterval.timeUnit + baseInterval.count;\r\n                series._dataSets[mainDataSetId] = dataItems_1;\r\n                var groupCallback_1 = series.get(\"groupDataCallback\");\r\n                var groupOriginals_1 = series.get(\"groupDataWithOriginals\", false);\r\n                if (groupCallback_1) {\r\n                    groupOriginals_1 = true;\r\n                }\r\n                $array.each(intervals_1, function (interval) {\r\n                    var previousTime = -Infinity;\r\n                    var dataSetId = interval.timeUnit + interval.count;\r\n                    series._dataSets[dataSetId] = [];\r\n                    var newDataItem;\r\n                    var sum = {};\r\n                    var count = {};\r\n                    var groupFieldValues = {};\r\n                    var workingFields = {};\r\n                    $array.each(fields_1, function (field) {\r\n                        sum[field] = 0;\r\n                        count[field] = 0;\r\n                        groupFieldValues[field] = series.get((field + \"Grouped\"));\r\n                        workingFields[field] = field + \"Working\";\r\n                    });\r\n                    var intervalDuration = $time.getDuration(interval.timeUnit);\r\n                    var firstItem = dataItems_1[0];\r\n                    var firstDate;\r\n                    if (firstItem) {\r\n                        firstDate = new Date(dataItems_1[0].get(key_1));\r\n                    }\r\n                    var prevNewDataItem;\r\n                    $array.each(dataItems_1, function (dataItem) {\r\n                        var time = dataItem.get(key_1);\r\n                        var roundedTime = $time.round(new Date(time), interval.timeUnit, interval.count, _this._root.locale.firstDayOfWeek, _this._root.utc, firstDate, _this._root.timezone).getTime();\r\n                        var dataContext;\r\n                        if (previousTime < roundedTime - intervalDuration / 24) {\r\n                            dataContext = $object.copy(dataItem.dataContext);\r\n                            newDataItem = new DataItem(series, dataContext, series._makeDataItem(dataContext));\r\n                            newDataItem.setRaw(key_1, roundedTime);\r\n                            series._dataSets[dataSetId].push(newDataItem);\r\n                            $array.each(fields_1, function (field) {\r\n                                var value = dataItem.get(field);\r\n                                if ($type.isNumber(value)) {\r\n                                    newDataItem.setRaw(field, value);\r\n                                    newDataItem.setRaw(workingFields[field], value);\r\n                                    count[field]++;\r\n                                    sum[field] += value;\r\n                                }\r\n                            });\r\n                            if (groupOriginals_1) {\r\n                                newDataItem.set(\"originals\", [dataItem]);\r\n                            }\r\n                            if (groupCallback_1 && prevNewDataItem) {\r\n                                groupCallback_1(prevNewDataItem, interval);\r\n                            }\r\n                            prevNewDataItem = newDataItem;\r\n                        }\r\n                        else {\r\n                            $array.each(fields_1, function (field) {\r\n                                var groupKey = groupFieldValues[field];\r\n                                var value = dataItem.get(field);\r\n                                if (value !== undefined) {\r\n                                    var currentValue = newDataItem.get(field);\r\n                                    switch (groupKey) {\r\n                                        case \"close\":\r\n                                            newDataItem.setRaw(field, value);\r\n                                            break;\r\n                                        case \"sum\":\r\n                                            newDataItem.setRaw(field, currentValue + value);\r\n                                            break;\r\n                                        case \"open\":\r\n                                            break;\r\n                                        case \"low\":\r\n                                            if (value < currentValue) {\r\n                                                newDataItem.setRaw(field, value);\r\n                                            }\r\n                                            break;\r\n                                        case \"high\":\r\n                                            if (value > currentValue) {\r\n                                                newDataItem.setRaw(field, value);\r\n                                            }\r\n                                            break;\r\n                                        case \"average\":\r\n                                            count[field]++;\r\n                                            sum[field] += value;\r\n                                            var average = sum[field] / count[field];\r\n                                            newDataItem.setRaw(field, average);\r\n                                            break;\r\n                                        case \"extreme\":\r\n                                            if (Math.abs(value) > Math.abs(currentValue)) {\r\n                                                newDataItem.setRaw(field, value);\r\n                                            }\r\n                                            break;\r\n                                    }\r\n                                    newDataItem.setRaw(workingFields[field], newDataItem.get(field));\r\n                                    var dataContext_1 = $object.copy(dataItem.dataContext);\r\n                                    dataContext_1[key_1] = roundedTime;\r\n                                    newDataItem.dataContext = dataContext_1;\r\n                                }\r\n                            });\r\n                            if (groupOriginals_1) {\r\n                                newDataItem.get(\"originals\").push(dataItem);\r\n                            }\r\n                        }\r\n                        previousTime = roundedTime;\r\n                    });\r\n                    if (groupCallback_1 && prevNewDataItem) {\r\n                        groupCallback_1(prevNewDataItem, interval);\r\n                    }\r\n                });\r\n                if (series._dataSetId) {\r\n                    series.setDataSet(series._dataSetId);\r\n                }\r\n                this.markDirtySize();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._groupingCalculated = false;\r\n            this._dataGrouped = false;\r\n        }\r\n    });\r\n    /**\r\n     * Returns a time interval axis would group data to for a specified duration.\r\n     *\r\n     * @since 5.2.1\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getGroupInterval\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            var baseInterval = this.get(\"baseInterval\");\r\n            var groupInterval = $time.chooseInterval(0, duration, this.get(\"groupCount\", Infinity), this.get(\"groupIntervals\"));\r\n            if ($time.getIntervalDuration(groupInterval) < $time.getIntervalDuration(baseInterval)) {\r\n                groupInterval = __assign({}, baseInterval);\r\n            }\r\n            return groupInterval;\r\n        }\r\n    });\r\n    /**\r\n     * Return `max` of a specified time interval.\r\n     *\r\n     * Will work only if the axis was grouped to this interval at least once.\r\n     *\r\n     * @since 5.2.1\r\n     * @param   interval  Interval\r\n     * @return            Max\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getIntervalMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (interval) {\r\n            return this._intervalMax[interval.timeUnit + interval.count];\r\n        }\r\n    });\r\n    /**\r\n     * Return `min` of a specified time interval.\r\n     *\r\n     * Will work only if the axis was grouped to this interval at least once.\r\n     *\r\n     * @since 5.2.1\r\n     * @param   interval  Interval\r\n     * @return            Min\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getIntervalMin\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (interval) {\r\n            return this._intervalMin[interval.timeUnit + interval.count];\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_handleRangeChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._handleRangeChange.call(this);\r\n            var selectionMin = this.getPrivate(\"selectionMin\");\r\n            var selectionMax = this.getPrivate(\"selectionMax\");\r\n            if ($type.isNumber(selectionMin) && $type.isNumber(selectionMax)) {\r\n                if (this.get(\"groupData\") && !this._groupingCalculated) {\r\n                    this._groupingCalculated = true;\r\n                    var modifiedDifference = (selectionMax - selectionMin) + (this.get(\"startLocation\", 0) + (1 - this.get(\"endLocation\", 1)) * this.baseDuration());\r\n                    var groupInterval = this.get(\"groupInterval\");\r\n                    if (!groupInterval) {\r\n                        groupInterval = this.getGroupInterval(modifiedDifference);\r\n                    }\r\n                    var current = this.getPrivate(\"groupInterval\");\r\n                    if (groupInterval && (!current || (current.timeUnit !== groupInterval.timeUnit || current.count !== groupInterval.count) || this._seriesDataGrouped)) {\r\n                        this._seriesDataGrouped = false;\r\n                        this.setPrivateRaw(\"groupInterval\", groupInterval);\r\n                        this._setBaseInterval(groupInterval);\r\n                        if (groupInterval) {\r\n                            var newId_1 = groupInterval.timeUnit + groupInterval.count;\r\n                            $array.each(this.series, function (series) {\r\n                                if (series.get(\"baseAxis\") === _this) {\r\n                                    series.setDataSet(newId_1);\r\n                                }\r\n                            });\r\n                            this.markDirtyExtremes();\r\n                        }\r\n                    }\r\n                }\r\n                $array.each(this.series, function (series) {\r\n                    if (series.get(\"baseAxis\") === _this) {\r\n                        var fieldName_1 = (_this.getPrivate(\"name\") + _this.get(\"renderer\").getPrivate(\"letter\"));\r\n                        var start = $array.getSortedIndex(series.dataItems, function (dataItem) {\r\n                            return $order.compare(dataItem.get(fieldName_1), selectionMin);\r\n                        });\r\n                        var startIndex = start.index;\r\n                        if (startIndex > 0) {\r\n                            startIndex -= 1;\r\n                        }\r\n                        var end = $array.getSortedIndex(series.dataItems, function (dataItem) {\r\n                            return $order.compare(dataItem.get(fieldName_1), selectionMax);\r\n                        });\r\n                        var endIndex = end.index;\r\n                        var endIndex2 = endIndex;\r\n                        if (endIndex2 > 0) {\r\n                            endIndex2--;\r\n                        }\r\n                        var firstDataItem = series.dataItems[startIndex];\r\n                        var lastDataItem = series.dataItems[endIndex2];\r\n                        var lastDate = void 0;\r\n                        var firstDate = void 0;\r\n                        if (firstDataItem) {\r\n                            firstDate = firstDataItem.get(fieldName_1);\r\n                        }\r\n                        if (lastDataItem) {\r\n                            lastDate = lastDataItem.get(fieldName_1);\r\n                        }\r\n                        var outOfSelection = false;\r\n                        if (lastDate != null && firstDate != null) {\r\n                            if (lastDate < selectionMin || firstDate > selectionMax) {\r\n                                outOfSelection = true;\r\n                            }\r\n                        }\r\n                        series.setPrivate(\"outOfSelection\", outOfSelection);\r\n                        series.setPrivate(\"startIndex\", startIndex);\r\n                        series.setPrivate(\"endIndex\", endIndex);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_adjustMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max, gridCount, _strictMode) {\r\n            return { min: min, max: max, step: (max - min) / gridCount };\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"intervalDuration\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._intervalDuration;\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_saveMinMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min, max) {\r\n            var groupInterval = this.getPrivate(\"groupInterval\");\r\n            if (!groupInterval) {\r\n                groupInterval = this.get(\"baseInterval\");\r\n            }\r\n            var id = groupInterval.timeUnit + groupInterval.count;\r\n            this._intervalMin[id] = min;\r\n            this._intervalMax[id] = max;\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_prepareAxisItems\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var min = this.getPrivate(\"min\");\r\n            var max = this.getPrivate(\"max\");\r\n            if ($type.isNumber(min) && $type.isNumber(max)) {\r\n                var selectionMin = this.getPrivate(\"selectionMin\");\r\n                var selectionMax = this.getPrivate(\"selectionMax\");\r\n                var renderer = this.get(\"renderer\");\r\n                var baseInterval = this.getPrivate(\"baseInterval\");\r\n                var value = selectionMin;\r\n                var i = 0;\r\n                var intervals = this.get(\"gridIntervals\");\r\n                var gridInterval = $time.chooseInterval(0, selectionMax - selectionMin, renderer.gridCount(), intervals);\r\n                if ($time.getIntervalDuration(gridInterval) < this.baseDuration()) {\r\n                    gridInterval = __assign({}, baseInterval);\r\n                }\r\n                var intervalDuration = $time.getIntervalDuration(gridInterval);\r\n                this._intervalDuration = intervalDuration;\r\n                var nextGridUnit = $time.getNextUnit(gridInterval.timeUnit);\r\n                value = $time.round(new Date(selectionMin - intervalDuration), gridInterval.timeUnit, gridInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, new Date(min), this._root.timezone).getTime();\r\n                var previousValue = value - intervalDuration;\r\n                var format = void 0;\r\n                var formats = this.get(\"dateFormats\");\r\n                this.setPrivateRaw(\"gridInterval\", gridInterval);\r\n                while (value < selectionMax + intervalDuration) {\r\n                    var dataItem = void 0;\r\n                    if (this.dataItems.length < i + 1) {\r\n                        dataItem = new DataItem(this, undefined, {});\r\n                        this._dataItems.push(dataItem);\r\n                        this.processDataItem(dataItem);\r\n                    }\r\n                    else {\r\n                        dataItem = this.dataItems[i];\r\n                    }\r\n                    this._createAssets(dataItem, []);\r\n                    if (dataItem.isHidden()) {\r\n                        dataItem.show();\r\n                    }\r\n                    dataItem.setRaw(\"value\", value);\r\n                    dataItem.setRaw(\"endValue\", $time.add(new Date(value), gridInterval.timeUnit, gridInterval.count, this._root.utc).getTime()); //$time.round(new Date(value + intervalDuration * 1.1), gridInterval.timeUnit, gridInterval.count).getTime());\r\n                    var date = new Date(value);\r\n                    format = formats[gridInterval.timeUnit];\r\n                    if (nextGridUnit && this.get(\"markUnitChange\") && $type.isNumber(previousValue)) {\r\n                        if (gridInterval.timeUnit != \"year\") {\r\n                            if ($time.checkChange(value, previousValue, nextGridUnit, this._root.utc, this._root.timezone)) {\r\n                                format = this.get(\"periodChangeDateFormats\")[gridInterval.timeUnit];\r\n                            }\r\n                        }\r\n                    }\r\n                    var label = dataItem.get(\"label\");\r\n                    if (label) {\r\n                        label.set(\"text\", this._root.dateFormatter.format(date, format));\r\n                    }\r\n                    this._prepareDataItem(dataItem, gridInterval.count);\r\n                    previousValue = value;\r\n                    value = $time.add(new Date(value), gridInterval.timeUnit, gridInterval.count, this._root.utc).getTime();\r\n                    i++;\r\n                }\r\n                for (var j = i; j < this.dataItems.length; j++) {\r\n                    this.dataItems[j].hide();\r\n                }\r\n                $array.each(this.series, function (series) {\r\n                    if (series.inited) {\r\n                        series._markDirtyAxes();\r\n                    }\r\n                });\r\n            }\r\n            this._updateGhost();\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_fixMin\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (min) {\r\n            var baseInterval = this.getPrivate(\"baseInterval\");\r\n            var startTime = $time.round(new Date(min), baseInterval.timeUnit, baseInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n            var endTime = $time.add(new Date(startTime), baseInterval.timeUnit, baseInterval.count, this._root.utc).getTime();\r\n            return startTime + (endTime - startTime) * this.get(\"startLocation\", 0);\r\n        }\r\n    });\r\n    /* goes up to the year\r\n    protected _getFormat(timeUnit: TimeUnit, value: number, previousValue: number) {\r\n        const formats = this.get(\"dateFormats\")!;\r\n        let format = formats[timeUnit];\r\n\r\n        if (this.get(\"markUnitChange\")) {\r\n            let nextGridUnit = $time.getNextUnit(timeUnit);\r\n\r\n            while (nextGridUnit != undefined) {\r\n\r\n                if (nextGridUnit) {\r\n                    if (timeUnit != \"year\") {\r\n                        if ($time.checkChange(value, previousValue, nextGridUnit, this._root.utc, this._root.timezone)) {\r\n                            format = this.get(\"periodChangeDateFormats\")![timeUnit];\r\n                            timeUnit = nextGridUnit;\r\n                            nextGridUnit = $time.getNextUnit(nextGridUnit);\r\n                        }\r\n                        else {\r\n                            nextGridUnit = undefined;\r\n                        }\r\n                    }\r\n                    else {\r\n                        nextGridUnit = undefined;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n    */\r\n    Object.defineProperty(DateAxis.prototype, \"_fixMax\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (max) {\r\n            var baseInterval = this.getPrivate(\"baseInterval\");\r\n            var startTime = $time.round(new Date(max), baseInterval.timeUnit, baseInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, undefined, this._root.timezone).getTime();\r\n            var endTime = $time.add(new Date(startTime), baseInterval.timeUnit, baseInterval.count, this._root.utc).getTime();\r\n            return startTime + (endTime - startTime) * this.get(\"endLocation\", 1);\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"_updateDates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_date) {\r\n        }\r\n    });\r\n    /**\r\n     * Returns a duration of currently active `baseInterval` in milliseconds.\r\n     *\r\n     * @return Duration\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"baseDuration\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this._baseDuration;\r\n            //return $time.getIntervalDuration(this.getPrivate(\"baseInterval\"));\r\n        }\r\n    });\r\n    /**\r\n     * Returns a duration of user-defined `baseInterval` in milliseconds.\r\n     *\r\n     * @return Duration\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"baseMainDuration\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return $time.getIntervalDuration(this.get(\"baseInterval\"));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"processSeriesDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, fields) {\r\n            var _this = this;\r\n            var baseInterval = this.getPrivate(\"baseInterval\");\r\n            if (!dataItem.open) {\r\n                dataItem.open = {};\r\n            }\r\n            if (!dataItem.close) {\r\n                dataItem.close = {};\r\n            }\r\n            $array.each(fields, function (field) {\r\n                var value = dataItem.get(field);\r\n                if ($type.isNumber(value)) {\r\n                    var startTime = dataItem.open[field];\r\n                    var endTime = dataItem.close[field];\r\n                    // this is done to save cpu, as rounding is quite expensive, especially with timezone set. \r\n                    // if value is between prev start and end, it means it didn't change, all is fine.\r\n                    if (value >= startTime && value <= endTime) {\r\n                    }\r\n                    else {\r\n                        startTime = $time.round(new Date(value), baseInterval.timeUnit, baseInterval.count, _this._root.locale.firstDayOfWeek, _this._root.utc, undefined, _this._root.timezone).getTime();\r\n                        endTime = $time.add(new Date(startTime), baseInterval.timeUnit, baseInterval.count, _this._root.utc).getTime();\r\n                        dataItem.open[field] = startTime;\r\n                        dataItem.close[field] = endTime;\r\n                    }\r\n                    _this._updateDates(startTime);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getDataItemPositionX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, axisLocation) {\r\n            var openValue;\r\n            var closeValue;\r\n            if (dataItem.open && dataItem.close) {\r\n                openValue = dataItem.open[field];\r\n                closeValue = dataItem.close[field];\r\n            }\r\n            else {\r\n                openValue = dataItem.get(field);\r\n                closeValue = openValue;\r\n            }\r\n            var value = openValue + (closeValue - openValue) * cellLocation;\r\n            value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n            return this.valueToPosition(value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getDataItemCoordinateX\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, axisLocation) {\r\n            return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(dataItem, field, cellLocation, axisLocation));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getDataItemPositionY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, axisLocation) {\r\n            var openValue;\r\n            var closeValue;\r\n            if (dataItem.open && dataItem.close) {\r\n                openValue = dataItem.open[field];\r\n                closeValue = dataItem.close[field];\r\n            }\r\n            else {\r\n                openValue = dataItem.get(field);\r\n                closeValue = openValue;\r\n            }\r\n            var value = openValue + (closeValue - openValue) * cellLocation;\r\n            value = this._baseValue + (value - this._baseValue) * axisLocation;\r\n            return this.valueToPosition(value);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getDataItemCoordinateY\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, field, cellLocation, axisLocation) {\r\n            return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(dataItem, field, cellLocation, axisLocation));\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"roundAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position, location) {\r\n            var value = this.positionToValue(position);\r\n            var baseInterval = this.getPrivate(\"baseInterval\");\r\n            if (!$type.isNaN(value)) {\r\n                value = $time.round(new Date(value), baseInterval.timeUnit, baseInterval.count, this._root.locale.firstDayOfWeek, this._root.utc, new Date(this.getPrivate(\"min\", 0)), this._root.timezone).getTime();\r\n                var endValue = value;\r\n                if (location > 0) {\r\n                    endValue = $time.add(new Date(value), baseInterval.timeUnit, baseInterval.count, this._root.utc).getTime();\r\n                }\r\n                return this.valueToPosition(value + (endValue - value) * location);\r\n            }\r\n            return NaN;\r\n        }\r\n    });\r\n    /**\r\n     * Returns text to be used in an axis tooltip for specific relative position.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Tooltip text\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getTooltipText\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            //@todo number formatter + tag\r\n            if (this.getPrivate(\"min\") != null) {\r\n                var format = this.get(\"tooltipDateFormats\")[this.getPrivate(\"baseInterval\").timeUnit];\r\n                var date = new Date(this.positionToValue(position));\r\n                var baseInterval = this.getPrivate(\"baseInterval\");\r\n                var duration = $time.getDateIntervalDuration(baseInterval, date, this._root.locale.firstDayOfWeek, this._root.utc, this._root.timezone);\r\n                return this._root.dateFormatter.format(new Date(this.positionToValue(position) + this.get(\"tooltipIntervalOffset\", -this.get(\"tooltipLocation\", 0.5)) * duration), this.get(\"tooltipDateFormat\", format));\r\n            }\r\n            return \"\";\r\n        }\r\n    });\r\n    /**\r\n     * Returns a data item from series that is closest to the `position`.\r\n     *\r\n     * @param   series    Series\r\n     * @param   position  Relative position\r\n     * @return            Data item\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"getSeriesItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (series, position) {\r\n            var fieldName = (this.getPrivate(\"name\") + this.get(\"renderer\").getPrivate(\"letter\"));\r\n            var value = this.positionToValue(position);\r\n            var result = $array.getSortedIndex(series.dataItems, function (dataItem) {\r\n                var diValue = 0;\r\n                if (dataItem.open) {\r\n                    diValue = dataItem.open[fieldName];\r\n                }\r\n                return $order.compare(diValue, value);\r\n            });\r\n            if (series.get(\"snapTooltip\")) {\r\n                var first = series.dataItems[result.index - 1];\r\n                var second = series.dataItems[result.index];\r\n                if (first && second) {\r\n                    if (first.open && second.close) {\r\n                        var open_1 = first.open[fieldName];\r\n                        var close_1 = second.close[fieldName];\r\n                        if (Math.abs(value - open_1) > Math.abs(value - close_1)) {\r\n                            return second;\r\n                        }\r\n                    }\r\n                }\r\n                return first;\r\n            }\r\n            else {\r\n                // @todo check if is in range\r\n                var dataItem = series.dataItems[result.index - 1];\r\n                if (dataItem) {\r\n                    if (dataItem.open && dataItem.close) {\r\n                        var open_2 = dataItem.open[fieldName];\r\n                        var close_2 = dataItem.close[fieldName];\r\n                        if (value >= open_2 && value <= close_2) {\r\n                            return dataItem;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"shouldGap\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, nextItem, autoGapCount, fieldName) {\r\n            var value1 = dataItem.get(fieldName);\r\n            var value2 = nextItem.get(fieldName);\r\n            if (value2 - value1 > this.baseDuration() * autoGapCount) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    /**\r\n     * Zooms the axis to specific `start` and `end` dates.\r\n     *\r\n     * Optional `duration` specifies duration of zoom animation in milliseconds.\r\n     *\r\n     * @param  start     Start Date\r\n     * @param  end       End Date\r\n     * @param  duration  Duration in milliseconds\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"zoomToDates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (start, end, duration) {\r\n            this.zoomToValues(start.getTime(), end.getTime(), duration);\r\n        }\r\n    });\r\n    /**\r\n     * Returns a `Date` object corresponding to specific position within plot\r\n     * area.\r\n     *\r\n     * @param   position  Pposition\r\n     * @return            Date\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"positionToDate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            return new Date(this.positionToValue(position));\r\n        }\r\n    });\r\n    /**\r\n     * Returns a relative position within plot area that corresponds to specific\r\n     * date.\r\n     *\r\n     * @param   date  Date\r\n     * @return        Position\r\n     */\r\n    Object.defineProperty(DateAxis.prototype, \"dateToPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (date) {\r\n            return this.valueToPosition(date.getTime());\r\n        }\r\n    });\r\n    Object.defineProperty(DateAxis, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"DateAxis\"\r\n    });\r\n    Object.defineProperty(DateAxis, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: ValueAxis.classNames.concat([DateAxis.className])\r\n    });\r\n    return DateAxis;\r\n}(ValueAxis));\r\nexport { DateAxis };\r\n//# sourceMappingURL=DateAxis.js.map","/** @ignore */ /** */\r\nimport * as $math from \"./Math\";\r\n/**\r\n * @ignore\r\n */\r\nexport function segmentedLine(display, segments) {\r\n    for (var s = 0, len = segments.length; s < len; s++) {\r\n        var groups = segments[s];\r\n        if (groups.length > 0) {\r\n            var firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                var firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (var g = 0, len_1 = groups.length; g < len_1; g++) {\r\n                    line(display, groups[g]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function line(display, points) {\r\n    for (var p = 0, len = points.length; p < len; p++) {\r\n        var point = points[p];\r\n        display.lineTo(point.x, point.y);\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function moveTo(display, point) {\r\n    display.moveTo(point.x, point.y);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function clear(display) {\r\n    display.clear();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function smoothedSegmentedline(display, segments, tensionX, tensionY) {\r\n    for (var s = 0, len = segments.length; s < len; s++) {\r\n        var groups = segments[s];\r\n        if (groups.length > 0) {\r\n            var firstGroup = groups[0];\r\n            if (firstGroup.length > 0) {\r\n                var firstPoint = firstGroup[0];\r\n                display.moveTo(firstPoint.x, firstPoint.y);\r\n                for (var g = 0, len_2 = groups.length; g < len_2; g++) {\r\n                    var points = groups[g];\r\n                    if (points.length > 0) {\r\n                        display.lineTo(points[0].x, points[0].y);\r\n                    }\r\n                    smoothedLine(display, points, tensionX, tensionY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nexport function smoothedLine(display, points, tensionX, tensionY) {\r\n    for (var i = points.length - 1; i > 0; i--) {\r\n        var p0 = points[i];\r\n        var p1 = points[i - 1];\r\n        if (Math.abs(p0.x - p1.x) < 0.1 && Math.abs(p0.y - p1.y) < 0.1) {\r\n            points.splice(i - 1, 1);\r\n        }\r\n    }\r\n    if (points.length < 3 || (tensionX >= 1 && tensionY >= 1)) {\r\n        line(display, points);\r\n        return;\r\n    }\r\n    tensionX = 1 - tensionX + 0.00001;\r\n    tensionY = 1 - tensionY + 0.00001;\r\n    var first = points[0];\r\n    var last = points[points.length - 1];\r\n    var closed = false;\r\n    if ($math.round(first.x, 3) == $math.round(last.x) && $math.round(first.y) == $math.round(last.y)) {\r\n        closed = true;\r\n    }\r\n    // Can't moveTo here, as it wont be possible to have fill then.\r\n    var path = \"\";\r\n    for (var i = 0, len = points.length - 1; i < len; i++) {\r\n        var p0 = points[i - 1];\r\n        var p1 = points[i];\r\n        var p2 = points[i + 1];\r\n        var p3 = points[i + 2];\r\n        if (i === 0) {\r\n            if (closed) {\r\n                p0 = points[len - 2];\r\n            }\r\n            else {\r\n                p0 = points[0];\r\n            }\r\n        }\r\n        else if (i == len - 1) {\r\n            if (closed) {\r\n                p3 = points[1];\r\n            }\r\n            else {\r\n                p3 = p2;\r\n            }\r\n        }\r\n        var controlPointA = $math.getCubicControlPointA(p0, p1, p2, tensionX, tensionY);\r\n        var controlPointB = $math.getCubicControlPointB(p1, p2, p3, tensionX, tensionY);\r\n        display.bezierCurveTo(controlPointA.x, controlPointA.y, controlPointB.x, controlPointB.y, p2.x, p2.y);\r\n    }\r\n    return path;\r\n}\r\n//# sourceMappingURL=Draw.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"./Graphics\";\r\nimport * as $draw from \"../util/Draw\";\r\n/**\r\n * Draws a line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\r\nvar Line = /** @class */ (function (_super) {\r\n    __extends(Line, _super);\r\n    function Line() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Line.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isDirty(\"points\") || this.isDirty(\"segments\") || this._sizeDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Line.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this._clear) {\r\n                var points = this.get(\"points\");\r\n                var segments = this.get(\"segments\");\r\n                if (points && points.length > 0) {\r\n                    var point = points[0];\r\n                    this._display.moveTo(point.x, point.y);\r\n                    $draw.segmentedLine(this._display, [[points]]);\r\n                }\r\n                else if (segments) {\r\n                    $draw.segmentedLine(this._display, segments);\r\n                }\r\n                else if (!this.get(\"draw\")) {\r\n                    var w = this.width();\r\n                    var h = this.height();\r\n                    this._display.moveTo(0, 0);\r\n                    this._display.lineTo(w, h);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Line, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Line\"\r\n    });\r\n    Object.defineProperty(Line, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([Line.className])\r\n    });\r\n    return Line;\r\n}(Graphics));\r\nexport { Line };\r\n//# sourceMappingURL=Line.js.map","import { __extends } from \"tslib\";\r\nimport { Line } from \"./Line\";\r\n/**\r\n * Draws a tick element (mostly used on axes).\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n */\r\nvar Tick = /** @class */ (function (_super) {\r\n    __extends(Tick, _super);\r\n    function Tick() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Tick, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Tick\"\r\n    });\r\n    Object.defineProperty(Tick, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Line.classNames.concat([Tick.className])\r\n    });\r\n    return Tick;\r\n}(Line));\r\nexport { Tick };\r\n//# sourceMappingURL=Tick.js.map","import { __extends } from \"tslib\";\r\nimport { Tick } from \"../../../core/render/Tick\";\r\n/**\r\n * Draws an axis tick.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Ticks} for more info\r\n * @important\r\n */\r\nvar AxisTick = /** @class */ (function (_super) {\r\n    __extends(AxisTick, _super);\r\n    function AxisTick() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisTick, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisTick\"\r\n    });\r\n    Object.defineProperty(AxisTick, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Tick.classNames.concat([AxisTick.className])\r\n    });\r\n    return AxisTick;\r\n}(Tick));\r\nexport { AxisTick };\r\n//# sourceMappingURL=AxisTick.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\n/**\r\n * Creates an axis grid line.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Grid} for more info\r\n * @important\r\n */\r\nvar Grid = /** @class */ (function (_super) {\r\n    __extends(Grid, _super);\r\n    function Grid() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Grid.prototype, \"_beforeChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._beforeChanged.call(this);\r\n            if (this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\r\n                this._clear = true;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Grid, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Grid\"\r\n    });\r\n    Object.defineProperty(Grid, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([Grid.className])\r\n    });\r\n    return Grid;\r\n}(Graphics));\r\nexport { Grid };\r\n//# sourceMappingURL=Grid.js.map","import { __extends } from \"tslib\";\r\nimport { Label } from \"../../../core/render/Label\";\r\n/**\r\n * Draws an axis label.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Labels} for more info\r\n * @important\r\n */\r\nvar AxisLabel = /** @class */ (function (_super) {\r\n    __extends(AxisLabel, _super);\r\n    function AxisLabel() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_tickPoints\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisLabel, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisLabel\"\r\n    });\r\n    Object.defineProperty(AxisLabel, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Label.classNames.concat([AxisLabel.className])\r\n    });\r\n    return AxisLabel;\r\n}(Label));\r\nexport { AxisLabel };\r\n//# sourceMappingURL=AxisLabel.js.map","import { __extends } from \"tslib\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\nimport { Template } from \"../../../core/util/Template\";\r\nimport { ListTemplate } from \"../../../core/util/List\";\r\nimport { AxisTick } from \"./AxisTick\";\r\nimport { Grid } from \"./Grid\";\r\nimport { AxisLabel } from \"./AxisLabel\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Base class for an axis renderer.\r\n *\r\n * Should not be used on its own.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n */\r\nvar AxisRenderer = /** @class */ (function (_super) {\r\n    __extends(AxisRenderer, _super);\r\n    function AxisRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // save for quick access\r\n        Object.defineProperty(_this, \"_axisLength\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 100\r\n        });\r\n        Object.defineProperty(_this, \"_start\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_end\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_inversed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_minSize\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        /**\r\n         * Chart the renderer is used in.\r\n         */\r\n        Object.defineProperty(_this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_lc\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_ls\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_thumbDownPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downStart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_downEnd\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A list of ticks in the axis.\r\n         *\r\n         * `ticks.template` can be used to configure ticks.\r\n         *\r\n         * @default new ListTemplate<AxisTick>\r\n         */\r\n        Object.defineProperty(_this, \"ticks\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return AxisTick._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.ticks.template.get(\"themeTags\", []), _this.get(\"themeTags\", []))\r\n            }, [_this.ticks.template]); })\r\n        });\r\n        /**\r\n         * A list of grid elements in the axis.\r\n         *\r\n         * `grid.template` can be used to configure grid.\r\n         *\r\n         * @default new ListTemplate<Grid>\r\n         */\r\n        Object.defineProperty(_this, \"grid\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Grid._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.grid.template.get(\"themeTags\", []), _this.get(\"themeTags\", []))\r\n            }, [_this.grid.template]); })\r\n        });\r\n        /**\r\n         * A list of fills in the axis.\r\n         *\r\n         * `axisFills.template` can be used to configure axis fills.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(_this, \"axisFills\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Graphics._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.axisFills.template.get(\"themeTags\", [\"axis\", \"fill\"]), _this.get(\"themeTags\", []))\r\n            }, [_this.axisFills.template]); })\r\n        });\r\n        /**\r\n         * A list of labels in the axis.\r\n         *\r\n         * `labels.template` can be used to configure axis labels.\r\n         *\r\n         * @default new ListTemplate<AxisLabel>\r\n         */\r\n        Object.defineProperty(_this, \"labels\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return AxisLabel._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.labels.template.get(\"themeTags\", []), _this.get(\"themeTags\", []))\r\n            }, [_this.labels.template]); })\r\n        });\r\n        /**\r\n         * An [[Axis]] renderer is for.\r\n         */\r\n        Object.defineProperty(_this, \"axis\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"makeTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, themeTags) {\r\n            var tick = this.ticks.make();\r\n            tick._setDataItem(dataItem);\r\n            dataItem.setRaw(\"tick\", tick);\r\n            tick.set(\"themeTags\", $utils.mergeTags(tick.get(\"themeTags\"), themeTags));\r\n            this.axis.labelsContainer.children.push(tick);\r\n            this.ticks.push(tick);\r\n            return tick;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"makeGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, themeTags) {\r\n            var grid = this.grid.make();\r\n            grid._setDataItem(dataItem);\r\n            dataItem.setRaw(\"grid\", grid);\r\n            grid.set(\"themeTags\", $utils.mergeTags(grid.get(\"themeTags\"), themeTags));\r\n            this.axis.gridContainer.children.push(grid);\r\n            this.grid.push(grid);\r\n            return grid;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"makeAxisFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, themeTags) {\r\n            var axisFill = this.axisFills.make();\r\n            axisFill._setDataItem(dataItem);\r\n            axisFill.set(\"themeTags\", $utils.mergeTags(axisFill.get(\"themeTags\"), themeTags));\r\n            this.axis.gridContainer.children.push(axisFill);\r\n            dataItem.setRaw(\"axisFill\", axisFill);\r\n            this.axisFills.push(axisFill);\r\n            return axisFill;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"makeLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, themeTags) {\r\n            var label = this.labels.make();\r\n            label.set(\"themeTags\", $utils.mergeTags(label.get(\"themeTags\"), themeTags));\r\n            this.axis.labelsContainer.children.moveValue(label, 0);\r\n            label._setDataItem(dataItem);\r\n            dataItem.setRaw(\"label\", label);\r\n            this.labels.push(label);\r\n            return label;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"axisLength\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"gridCount\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.axisLength() / this.get(\"minGridDistance\", 50);\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_updatePositions\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._afterNew.call(this);\r\n            this.set(\"isMeasured\", false);\r\n            var thumb = this.thumb;\r\n            if (thumb) {\r\n                this._disposers.push(thumb.events.on(\"pointerdown\", function (event) {\r\n                    _this._handleThumbDown(event.originalEvent);\r\n                }));\r\n                this._disposers.push(thumb.events.on(\"globalpointerup\", function (event) {\r\n                    _this._handleThumbUp(event.originalEvent);\r\n                }));\r\n                this._disposers.push(thumb.events.on(\"globalpointermove\", function (event) {\r\n                    _this._handleThumbMove(event.originalEvent);\r\n                }));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            if (this.isDirty(\"pan\")) {\r\n                var thumb = this.thumb;\r\n                if (thumb) {\r\n                    var labelsContainer = this.axis.labelsContainer;\r\n                    var pan = this.get(\"pan\");\r\n                    if (pan == \"zoom\") {\r\n                        labelsContainer.children.push(thumb);\r\n                    }\r\n                    else if (pan == \"none\") {\r\n                        labelsContainer.children.removeValue(thumb);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_handleThumbDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            this._thumbDownPoint = this.toLocal(this._root.documentPointToRoot({ x: event.clientX, y: event.clientY }));\r\n            var axis = this.axis;\r\n            this._downStart = axis.get(\"start\");\r\n            this._downEnd = axis.get(\"end\");\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_handleThumbUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_event) {\r\n            this._thumbDownPoint = undefined;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_handleThumbMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var downPoint = this._thumbDownPoint;\r\n            if (downPoint) {\r\n                var point = this.toLocal(this._root.documentPointToRoot({ x: event.clientX, y: event.clientY }));\r\n                var downStart = this._downStart;\r\n                var downEnd = this._downEnd;\r\n                var extra = this._getPan(point, downPoint) * Math.min(1, (downEnd - downStart)) / 2;\r\n                this.axis.setAll({ start: downStart - extra, end: downEnd + extra });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_getPan\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_point1, _point2) {\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * Converts relative position (0-1) on axis to a pixel coordinate.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"positionToCoordinate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            if (this._inversed) {\r\n                return (this._end - position) * this._axisLength;\r\n            }\r\n            else {\r\n                return (position - this._start) * this._axisLength;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"updateTooltipBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_tooltip) { }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_updateSize\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.markDirty();\r\n            this._clear = true;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"toAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var start = this._start || 0;\r\n            var end = this._end || 1;\r\n            position = position * (end - start);\r\n            if (!this.get(\"inversed\")) {\r\n                position = start + position;\r\n            }\r\n            else {\r\n                position = end - position;\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRenderer.prototype, \"fixPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            if (this.get(\"inversed\")) {\r\n                return 1 - position;\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_updateLC\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"toggleVisibility\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (sprite, position, minPosition, maxPosition) {\r\n            var axis = this.axis;\r\n            var start = axis.get(\"start\", 0);\r\n            var end = axis.get(\"end\", 1);\r\n            var updatedStart = start + (end - start) * (minPosition - 0.0001);\r\n            var updatedEnd = start + (end - start) * (maxPosition + 0.0001);\r\n            if (position < updatedStart || position > updatedEnd) {\r\n                sprite.setPrivate(\"visible\", false);\r\n            }\r\n            else {\r\n                sprite.setPrivate(\"visible\", true);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"_positionTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, point) {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                if (chart.inPlot(point)) {\r\n                    tooltip.set(\"pointTo\", this._display.toGlobal(point));\r\n                }\r\n                else {\r\n                    tooltip.hide();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRenderer.prototype, \"processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () { }\r\n    });\r\n    Object.defineProperty(AxisRenderer, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisRenderer\"\r\n    });\r\n    Object.defineProperty(AxisRenderer, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Graphics.classNames.concat([AxisRenderer.className])\r\n    });\r\n    return AxisRenderer;\r\n}(Graphics));\r\nexport { AxisRenderer };\r\n//# sourceMappingURL=AxisRenderer.js.map","import { __extends, __read } from \"tslib\";\r\nimport { AxisRenderer } from \"./AxisRenderer\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\n/**\r\n * Used to render horizontal axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\r\nvar AxisRendererX = /** @class */ (function (_super) {\r\n    __extends(AxisRendererX, _super);\r\n    function AxisRendererX() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Rectangle.new(_this._root, { width: p100, isMeasured: false, themeTags: [\"axis\", \"x\", \"thumb\"] })\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisRendererX.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"x\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            this.setPrivateRaw(\"letter\", \"X\");\r\n            var gridTemplate = this.grid.template;\r\n            gridTemplate.set(\"height\", p100);\r\n            gridTemplate.set(\"width\", 0);\r\n            gridTemplate.set(\"draw\", function (display, graphics) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(0, graphics.height());\r\n            });\r\n            this.set(\"draw\", function (display, graphics) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(graphics.width(), 0);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            var axis = this.axis;\r\n            axis.ghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\r\n            var opposite = \"opposite\";\r\n            var inside = \"inside\";\r\n            if (this.isDirty(opposite) || this.isDirty(inside)) {\r\n                var chart = this.chart;\r\n                var axisChildren = axis.children;\r\n                if (this.get(inside)) {\r\n                    axis.addTag(inside);\r\n                }\r\n                else {\r\n                    axis.removeTag(inside);\r\n                }\r\n                if (chart) {\r\n                    if (this.get(opposite)) {\r\n                        var children = chart.topAxesContainer.children;\r\n                        if (children.indexOf(axis) == -1) {\r\n                            children.insertIndex(0, axis);\r\n                        }\r\n                        axis.addTag(opposite);\r\n                        axisChildren.moveValue(this);\r\n                    }\r\n                    else {\r\n                        var children = chart.bottomAxesContainer.children;\r\n                        if (children.indexOf(axis) == -1) {\r\n                            children.moveValue(axis);\r\n                        }\r\n                        axis.removeTag(opposite);\r\n                        axisChildren.moveValue(this, 0);\r\n                    }\r\n                    axis.ghostLabel._applyThemes();\r\n                    this.labels.each(function (label) {\r\n                        label._applyThemes();\r\n                    });\r\n                    this.root._markDirtyRedraw();\r\n                }\r\n                axis.markDirtySize();\r\n            }\r\n            this.thumb.setPrivate(\"height\", axis.labelsContainer.height());\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"_getPan\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point1, point2) {\r\n            return (point2.x - point1.x) / this.width();\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"toAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var start = this._start || 0;\r\n            var end = this._end || 1;\r\n            position -= this._ls;\r\n            position = position * (end - start) / this._lc;\r\n            if (!this.get(\"inversed\")) {\r\n                position = start + position;\r\n            }\r\n            else {\r\n                position = end - position;\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"_updateLC\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var axis = this.axis;\r\n            var parent = axis.parent;\r\n            if (parent) {\r\n                var w = parent.innerWidth();\r\n                this._lc = this.axisLength() / w;\r\n                this._ls = (axis.x() - parent.get(\"paddingLeft\", 0)) / w;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"_updatePositions\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var axis = this.axis;\r\n            axis.gridContainer.set(\"x\", axis.x() - $utils.relativeToValue(axis.get(\"centerX\", 0), axis.width()) - axis.parent.get(\"paddingLeft\", 0));\r\n            axis.bulletsContainer.set(\"y\", this.y());\r\n            var chart = axis.chart;\r\n            if (chart) {\r\n                var plotContainer = chart.plotContainer;\r\n                var axisHeader = axis.axisHeader;\r\n                var width = axis.get(\"marginLeft\", 0);\r\n                var x = axis.x() - width;\r\n                var parent_1 = axis.parent;\r\n                if (parent_1) {\r\n                    x -= parent_1.get(\"paddingLeft\", 0);\r\n                }\r\n                if (axisHeader.children.length > 0) {\r\n                    width = axis.axisHeader.width();\r\n                    axis.set(\"marginLeft\", width);\r\n                }\r\n                else {\r\n                    axisHeader.set(\"width\", width);\r\n                }\r\n                axisHeader.setAll({ x: x, y: -1, height: plotContainer.height() + 2 });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.processAxis.call(this);\r\n            var axis = this.axis;\r\n            axis.set(\"width\", p100);\r\n            var verticalLayout = this._root.verticalLayout;\r\n            axis.set(\"layout\", verticalLayout);\r\n            axis.labelsContainer.set(\"width\", p100);\r\n            axis.axisHeader.setAll({ layout: verticalLayout });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"axisLength\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.axis.width();\r\n        }\r\n    });\r\n    /**\r\n     * Converts axis relative position to actual coordinate in pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"positionToPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            return { x: this.positionToCoordinate(position), y: 0 };\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tick, position, endPosition, count) {\r\n            if (tick) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_1 = 0.5;\r\n                if ($type.isNumber(count) && count > 1) {\r\n                    location_1 = tick.get(\"multiLocation\", location_1);\r\n                }\r\n                else {\r\n                    location_1 = tick.get(\"location\", location_1);\r\n                }\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_1;\r\n                }\r\n                tick.set(\"x\", this.positionToCoordinate(position));\r\n                var length_1 = tick.get(\"length\", 0);\r\n                var inside = tick.get(\"inside\", this.get(\"inside\", false));\r\n                if (this.get(\"opposite\")) {\r\n                    tick.set(\"y\", p100);\r\n                    if (!inside) {\r\n                        length_1 *= -1;\r\n                    }\r\n                }\r\n                else {\r\n                    tick.set(\"y\", 0);\r\n                    if (inside) {\r\n                        length_1 *= -1;\r\n                    }\r\n                }\r\n                tick.set(\"draw\", function (display) {\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(0, length_1);\r\n                });\r\n                this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (label, position, endPosition, count) {\r\n            if (label) {\r\n                var location_2 = 0.5;\r\n                if ($type.isNumber(count) && count > 1) {\r\n                    location_2 = label.get(\"multiLocation\", location_2);\r\n                }\r\n                else {\r\n                    location_2 = label.get(\"location\", location_2);\r\n                }\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var inside = label.get(\"inside\", this.get(\"inside\", false));\r\n                var opposite = this.get(\"opposite\");\r\n                if (opposite) {\r\n                    if (!inside) {\r\n                        label.set(\"position\", \"relative\");\r\n                        label.set(\"y\", p100);\r\n                    }\r\n                    else {\r\n                        label.set(\"position\", \"absolute\");\r\n                        label.set(\"y\", 0);\r\n                    }\r\n                }\r\n                else {\r\n                    if (!inside) {\r\n                        label.set(\"y\", undefined);\r\n                        label.set(\"position\", \"relative\");\r\n                    }\r\n                    else {\r\n                        label.set(\"y\", 0);\r\n                        label.set(\"position\", \"absolute\");\r\n                    }\r\n                }\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_2;\r\n                }\r\n                label.set(\"x\", this.positionToCoordinate(position));\r\n                this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (grid, position, endPosition) {\r\n            if (grid) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_3 = grid.get(\"location\", 0.5);\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_3;\r\n                }\r\n                grid.set(\"x\", Math.round(this.positionToCoordinate(position)));\r\n                this.toggleVisibility(grid, position, 0, 1);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bullet, position, endPosition) {\r\n            if (bullet) {\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    if (!$type.isNumber(position)) {\r\n                        position = 0;\r\n                    }\r\n                    var location_4 = bullet.get(\"location\", 0.5);\r\n                    if ($type.isNumber(endPosition) && endPosition != position) {\r\n                        position = position + (endPosition - position) * location_4;\r\n                    }\r\n                    sprite.set(\"x\", this.positionToCoordinate(position));\r\n                    this.toggleVisibility(sprite, position, 0, 1);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, position, endPosition) {\r\n            if (fill) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                if (!$type.isNumber(endPosition)) {\r\n                    endPosition = 1;\r\n                }\r\n                var x0 = this.positionToCoordinate(position);\r\n                var x1 = this.positionToCoordinate(endPosition);\r\n                this.fillDrawMethod(fill, x0, x1);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX.prototype, \"fillDrawMethod\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, x0, x1) {\r\n            var _this = this;\r\n            fill.set(\"draw\", function (display) {\r\n                var _a;\r\n                //display.drawRect(x0, 0, x1 - x0, this.axis!.gridContainer.height());\r\n                // using for holes, so can not be rectangle\r\n                var h = _this.axis.gridContainer.height();\r\n                var w = _this.width();\r\n                if (x1 < x0) {\r\n                    _a = __read([x0, x1], 2), x1 = _a[0], x0 = _a[1];\r\n                }\r\n                if (x0 > w || x1 < 0) {\r\n                    return;\r\n                }\r\n                /*\r\n                const limit = 10000;\r\n    \r\n                x0 = Math.max(-limit, x0);\r\n                x1 = Math.min(limit, x1);\r\n                */\r\n                display.moveTo(x0, 0);\r\n                display.lineTo(x1, 0);\r\n                display.lineTo(x1, h);\r\n                display.lineTo(x0, h);\r\n                display.lineTo(x0, 0);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"positionTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, position) {\r\n            this._positionTooltip(tooltip, { x: this.positionToCoordinate(position), y: 0 });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererX.prototype, \"updateTooltipBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip) {\r\n            var inside = this.get(\"inside\");\r\n            var num = 100000;\r\n            var global = this._display.toGlobal({ x: 0, y: 0 });\r\n            var x = global.x;\r\n            var y = 0;\r\n            var w = this.axisLength();\r\n            var h = num;\r\n            var pointerOrientation = \"up\";\r\n            if (this.get(\"opposite\")) {\r\n                if (inside) {\r\n                    pointerOrientation = \"up\";\r\n                    y = global.y;\r\n                    h = num;\r\n                }\r\n                else {\r\n                    pointerOrientation = \"down\";\r\n                    y = global.y - num;\r\n                    h = num;\r\n                }\r\n            }\r\n            else {\r\n                if (inside) {\r\n                    pointerOrientation = \"down\";\r\n                    y = global.y - num;\r\n                    h = num;\r\n                }\r\n                else {\r\n                    pointerOrientation = \"up\";\r\n                    y = global.y;\r\n                    h = num;\r\n                }\r\n            }\r\n            var bounds = { left: x, right: x + w, top: y, bottom: y + h };\r\n            var oldBounds = tooltip.get(\"bounds\");\r\n            if (!$utils.sameBounds(bounds, oldBounds)) {\r\n                tooltip.set(\"bounds\", bounds);\r\n                tooltip.set(\"pointerOrientation\", pointerOrientation);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererX, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisRendererX\"\r\n    });\r\n    Object.defineProperty(AxisRendererX, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: AxisRenderer.classNames.concat([AxisRendererX.className])\r\n    });\r\n    return AxisRendererX;\r\n}(AxisRenderer));\r\nexport { AxisRendererX };\r\n//# sourceMappingURL=AxisRendererX.js.map","import { __extends, __read } from \"tslib\";\r\nimport { AxisRenderer } from \"./AxisRenderer\";\r\nimport { p100 } from \"../../../core/util/Percent\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\n/**\r\n * Used to render vertical axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\r\nvar AxisRendererY = /** @class */ (function (_super) {\r\n    __extends(AxisRendererY, _super);\r\n    function AxisRendererY() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_downY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"thumb\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Rectangle.new(_this._root, { height: p100, isMeasured: false, themeTags: [\"axis\", \"y\", \"thumb\"] })\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisRendererY.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"y\"]);\r\n            if (this._settings.opposite) {\r\n                this._settings.themeTags.push(\"opposite\");\r\n            }\r\n            _super.prototype._afterNew.call(this);\r\n            this.setPrivateRaw(\"letter\", \"Y\");\r\n            var gridTemplate = this.grid.template;\r\n            gridTemplate.set(\"width\", p100);\r\n            gridTemplate.set(\"height\", 0);\r\n            gridTemplate.set(\"draw\", function (display, graphics) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(graphics.width(), 0);\r\n            });\r\n            this.set(\"draw\", function (display, renderer) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(0, renderer.height());\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY.prototype, \"_getPan\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point1, point2) {\r\n            return (point1.y - point2.y) / this.height();\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY.prototype, \"_changed\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._changed.call(this);\r\n            var axis = this.axis;\r\n            axis.ghostLabel.setPrivate(\"visible\", !this.get(\"inside\"));\r\n            var thumb = this.thumb;\r\n            var opposite = \"opposite\";\r\n            var inside = \"inside\";\r\n            if (this.isDirty(opposite) || this.isDirty(inside)) {\r\n                var chart = this.chart;\r\n                var axisChildren = axis.children;\r\n                if (this.get(inside)) {\r\n                    axis.addTag(inside);\r\n                }\r\n                else {\r\n                    axis.removeTag(inside);\r\n                }\r\n                if (chart) {\r\n                    if (this.get(opposite)) {\r\n                        var children = chart.rightAxesContainer.children;\r\n                        if (children.indexOf(axis) == -1) {\r\n                            children.moveValue(axis, 0);\r\n                        }\r\n                        axis.addTag(opposite);\r\n                        axisChildren.moveValue(this, 0);\r\n                        thumb.set(\"centerX\", 0);\r\n                    }\r\n                    else {\r\n                        var children = chart.leftAxesContainer.children;\r\n                        if (children.indexOf(axis) == -1) {\r\n                            children.moveValue(axis);\r\n                        }\r\n                        axis.removeTag(opposite);\r\n                        axisChildren.moveValue(this);\r\n                        thumb.set(\"centerX\", p100);\r\n                    }\r\n                    axis.ghostLabel._applyThemes();\r\n                    this.labels.each(function (label) {\r\n                        label._applyThemes();\r\n                    });\r\n                    this.root._markDirtyRedraw();\r\n                }\r\n                axis.markDirtySize();\r\n            }\r\n            thumb.setPrivate(\"width\", axis.labelsContainer.width());\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"processAxis\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.processAxis.call(this);\r\n            var axis = this.axis;\r\n            if (axis.get(\"height\") == null) {\r\n                axis.set(\"height\", p100);\r\n            }\r\n            var horizontalLayout = this._root.horizontalLayout;\r\n            axis.set(\"layout\", horizontalLayout);\r\n            axis.labelsContainer.set(\"height\", p100);\r\n            axis.axisHeader.set(\"layout\", horizontalLayout);\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY.prototype, \"_updatePositions\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var axis = this.axis;\r\n            axis.gridContainer.set(\"y\", axis.y() - $utils.relativeToValue(axis.get(\"centerY\", 0), axis.height()));\r\n            axis.bulletsContainer.set(\"x\", this.x());\r\n            var chart = axis.chart;\r\n            if (chart) {\r\n                var plotContainer = chart.plotContainer;\r\n                var axisHeader = axis.axisHeader;\r\n                var height = axis.get(\"marginTop\", 0);\r\n                if (axisHeader.children.length > 0) {\r\n                    height = axis.axisHeader.height();\r\n                    axis.set(\"marginTop\", height);\r\n                }\r\n                else {\r\n                    axisHeader.set(\"height\", height);\r\n                }\r\n                axisHeader.setAll({ y: axis.y() - height, x: -1, width: plotContainer.width() + 2 });\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"axisLength\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return this.axis.innerHeight();\r\n        }\r\n    });\r\n    /**\r\n     * Converts axis relative position to actual coordinate in pixels.\r\n     *\r\n     * @param   position  Position\r\n     * @return            Point\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"positionToPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            return { x: 0, y: this.positionToCoordinate(position) };\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (label, position, endPosition, count) {\r\n            if (label) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_1 = 0.5;\r\n                if ($type.isNumber(count) && count > 1) {\r\n                    location_1 = label.get(\"multiLocation\", location_1);\r\n                }\r\n                else {\r\n                    location_1 = label.get(\"location\", location_1);\r\n                }\r\n                var opposite = this.get(\"opposite\");\r\n                var inside = label.get(\"inside\", this.get(\"inside\", false));\r\n                if (opposite) {\r\n                    label.set(\"x\", 0);\r\n                    if (inside) {\r\n                        label.set(\"position\", \"absolute\");\r\n                    }\r\n                    else {\r\n                        label.set(\"position\", \"relative\");\r\n                    }\r\n                }\r\n                else {\r\n                    if (inside) {\r\n                        label.set(\"x\", 0);\r\n                        label.set(\"position\", \"absolute\");\r\n                    }\r\n                    else {\r\n                        label.set(\"x\", undefined);\r\n                        label.set(\"position\", \"relative\");\r\n                    }\r\n                }\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_1;\r\n                }\r\n                label.set(\"y\", this.positionToCoordinate(position));\r\n                this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateGrid\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (grid, position, endPosition) {\r\n            if (grid) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_2 = grid.get(\"location\", 0.5);\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_2;\r\n                }\r\n                var y = this.positionToCoordinate(position);\r\n                grid.set(\"y\", y);\r\n                this.toggleVisibility(grid, position, 0, 1);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateTick\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tick, position, endPosition, count) {\r\n            if (tick) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                var location_3 = 0.5;\r\n                if ($type.isNumber(count) && count > 1) {\r\n                    location_3 = tick.get(\"multiLocation\", location_3);\r\n                }\r\n                else {\r\n                    location_3 = tick.get(\"location\", location_3);\r\n                }\r\n                if ($type.isNumber(endPosition) && endPosition != position) {\r\n                    position = position + (endPosition - position) * location_3;\r\n                }\r\n                tick.set(\"y\", this.positionToCoordinate(position));\r\n                var length_1 = tick.get(\"length\", 0);\r\n                var inside = tick.get(\"inside\", this.get(\"inside\", false));\r\n                if (this.get(\"opposite\")) {\r\n                    tick.set(\"x\", 0);\r\n                    if (inside) {\r\n                        length_1 *= -1;\r\n                    }\r\n                }\r\n                else {\r\n                    if (!inside) {\r\n                        length_1 *= -1;\r\n                    }\r\n                }\r\n                tick.set(\"draw\", function (display) {\r\n                    display.moveTo(0, 0);\r\n                    display.lineTo(length_1, 0);\r\n                });\r\n                this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bullet, position, endPosition) {\r\n            if (bullet) {\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    if (!$type.isNumber(position)) {\r\n                        position = 0;\r\n                    }\r\n                    var location_4 = bullet.get(\"location\", 0.5);\r\n                    if ($type.isNumber(endPosition) && endPosition != position) {\r\n                        position = position + (endPosition - position) * location_4;\r\n                    }\r\n                    sprite.set(\"y\", this.positionToCoordinate(position));\r\n                    this.toggleVisibility(sprite, position, 0, 1);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, position, endPosition) {\r\n            if (fill) {\r\n                if (!$type.isNumber(position)) {\r\n                    position = 0;\r\n                }\r\n                if (!$type.isNumber(endPosition)) {\r\n                    endPosition = 1;\r\n                }\r\n                var y0 = this.positionToCoordinate(position);\r\n                var y1 = this.positionToCoordinate(endPosition);\r\n                this.fillDrawMethod(fill, y0, y1);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY.prototype, \"fillDrawMethod\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fill, y0, y1) {\r\n            var _this = this;\r\n            fill.set(\"draw\", function (display) {\r\n                var _a;\r\n                // using for holes, so can not be rectangle\r\n                var w = _this.axis.gridContainer.width();\r\n                var h = _this.height();\r\n                if (y1 < y0) {\r\n                    _a = __read([y0, y1], 2), y1 = _a[0], y0 = _a[1];\r\n                }\r\n                if (y0 > h || y1 < 0) {\r\n                    return;\r\n                }\r\n                //y0 = Math.max(0, y0);\r\n                //y1 = Math.min(h, y1);\r\n                display.moveTo(0, y0);\r\n                display.lineTo(w, y0);\r\n                display.lineTo(w, y1);\r\n                display.lineTo(0, y1);\r\n                display.lineTo(0, y0);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Converts relative position (0-1) on axis to a pixel coordinate.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"positionToCoordinate\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            if (!this._inversed) {\r\n                return (this._end - position) * this._axisLength;\r\n            }\r\n            else {\r\n                return (position - this._start) * this._axisLength;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"positionTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip, position) {\r\n            this._positionTooltip(tooltip, { x: 0, y: this.positionToCoordinate(position) });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"updateTooltipBounds\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip) {\r\n            var inside = this.get(\"inside\");\r\n            var num = 100000;\r\n            var global = this._display.toGlobal({ x: 0, y: 0 });\r\n            var y = global.y;\r\n            var x = 0;\r\n            var h = this.axisLength();\r\n            var w = num;\r\n            var pointerOrientation = \"right\";\r\n            if (this.get(\"opposite\")) {\r\n                if (inside) {\r\n                    pointerOrientation = \"right\";\r\n                    x = global.x - num;\r\n                    w = num;\r\n                }\r\n                else {\r\n                    pointerOrientation = \"left\";\r\n                    x = global.x;\r\n                    w = num;\r\n                }\r\n            }\r\n            else {\r\n                if (inside) {\r\n                    pointerOrientation = \"left\";\r\n                    x = global.x;\r\n                    w = num;\r\n                }\r\n                else {\r\n                    pointerOrientation = \"right\";\r\n                    x = global.x - num;\r\n                    w = num;\r\n                }\r\n            }\r\n            var bounds = { left: x, right: x + w, top: y, bottom: y + h };\r\n            var oldBounds = tooltip.get(\"bounds\");\r\n            if (!$utils.sameBounds(bounds, oldBounds)) {\r\n                tooltip.set(\"bounds\", bounds);\r\n                tooltip.set(\"pointerOrientation\", pointerOrientation);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY.prototype, \"_updateLC\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var axis = this.axis;\r\n            var parent = axis.parent;\r\n            if (parent) {\r\n                var h = parent.innerHeight();\r\n                this._lc = this.axisLength() / h;\r\n                this._ls = axis.y() / h;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"toAxisPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            var start = this._start || 0;\r\n            var end = this._end || 1;\r\n            position -= this._ls;\r\n            position = position * (end - start) / this._lc;\r\n            if (this.get(\"inversed\")) {\r\n                position = start + position;\r\n            }\r\n            else {\r\n                position = end - position;\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(AxisRendererY.prototype, \"fixPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (position) {\r\n            if (!this.get(\"inversed\")) {\r\n                return 1 - position;\r\n            }\r\n            return position;\r\n        }\r\n    });\r\n    Object.defineProperty(AxisRendererY, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"AxisRendererY\"\r\n    });\r\n    Object.defineProperty(AxisRendererY, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: AxisRenderer.classNames.concat([AxisRendererY.className])\r\n    });\r\n    return AxisRendererY;\r\n}(AxisRenderer));\r\nexport { AxisRendererY };\r\n//# sourceMappingURL=AxisRendererY.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { Component } from \"../../core/render/Component\";\r\nimport { List } from \"../../core/util/List\";\r\nimport { Color } from \"../../core/util/Color\";\r\nimport { percentInterpolate } from \"../../core/util/Animation\";\r\nimport { Percent } from \"../../core/util/Percent\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $time from \"../../core/util/Time\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { Label } from \"../../core/render/Label\";\r\n/**\r\n * A base class for all series.\r\n */\r\nvar Series = /** @class */ (function (_super) {\r\n    __extends(Series, _super);\r\n    function Series() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_aggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_selectionAggregatesCalculated\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_dataProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_psi\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_pei\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A chart series belongs to.\r\n         */\r\n        Object.defineProperty(_this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * List of bullets to use for the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\r\n         */\r\n        Object.defineProperty(_this, \"bullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        /**\r\n         * A [[Container]] series' bullets are stored in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"bulletsContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: Container.new(_this._root, { width: p100, height: p100, position: \"absolute\" })\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Series.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this.valueFields.push(\"value\");\r\n            _super.prototype._afterNew.call(this);\r\n            this.setPrivate(\"customData\", {});\r\n            this._disposers.push(this.bullets.events.onAll(function (change) {\r\n                if (change.type === \"clear\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    _this._handleBullets(_this.dataItems);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IListEvent type\");\r\n                }\r\n            }));\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.bulletsContainer.dispose(); // can be in a different parent\r\n            _super.prototype._dispose.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"startIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var len = this.dataItems.length;\r\n            return Math.min(this.getPrivate(\"startIndex\", 0), len);\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"endIndex\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var len = this.dataItems.length;\r\n            return Math.min(this.getPrivate(\"endIndex\", len), len);\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_handleBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItems) {\r\n            $array.each(dataItems, function (dataItem) {\r\n                var bullets = dataItem.bullets;\r\n                if (bullets) {\r\n                    $array.each(bullets, function (bullet) {\r\n                        bullet.dispose();\r\n                    });\r\n                    dataItem.bullets = undefined;\r\n                }\r\n            });\r\n            this.markDirtyValues();\r\n        }\r\n    });\r\n    /**\r\n     * Looks up and returns a data item by its ID.\r\n     *\r\n     * @param   id  ID\r\n     * @return      Data item\r\n     */\r\n    Object.defineProperty(Series.prototype, \"getDataItemById\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (id) {\r\n            return $array.find(this.dataItems, function (dataItem) {\r\n                return dataItem.get(\"id\") == id;\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_makeBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var _this = this;\r\n            if (this._shouldMakeBullet(dataItem)) {\r\n                dataItem.bullets = [];\r\n                this.bullets.each(function (bulletFunction) {\r\n                    _this._makeBullet(dataItem, bulletFunction);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_shouldMakeBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n            return true;\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_makeBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, bulletFunction, index) {\r\n            var bullet = bulletFunction(this._root, this, dataItem);\r\n            if (bullet) {\r\n                var sprite = bullet.get(\"sprite\");\r\n                if (sprite) {\r\n                    sprite._setDataItem(dataItem);\r\n                    sprite.setRaw(\"position\", \"absolute\");\r\n                    this.bulletsContainer.children.push(sprite);\r\n                }\r\n                bullet._index = index;\r\n                bullet.series = this;\r\n                dataItem.bullets.push(bullet);\r\n            }\r\n            return bullet;\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._aggregatesCalculated = false;\r\n            this._selectionAggregatesCalculated = false;\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            var startIndex = this.startIndex();\r\n            var endIndex = this.endIndex();\r\n            if (this.isPrivateDirty(\"baseValueSeries\")) {\r\n                var baseValueSeries = this.getPrivate(\"baseValueSeries\");\r\n                if (baseValueSeries) {\r\n                    this._disposers.push(baseValueSeries.onPrivate(\"startIndex\", function () {\r\n                        _this.markDirtyValues();\r\n                    }));\r\n                }\r\n            }\r\n            var calculateAggregates = this.get(\"calculateAggregates\");\r\n            if (calculateAggregates) {\r\n                if (this._valuesDirty && !this._dataProcessed) {\r\n                    if (!this._aggregatesCalculated) {\r\n                        this._calculateAggregates(0, this.dataItems.length);\r\n                        this._aggregatesCalculated = true;\r\n                    }\r\n                }\r\n                if ((this._psi != startIndex || this._pei != endIndex) && !this._selectionAggregatesCalculated) {\r\n                    if (startIndex === 0 && endIndex === this.dataItems.length && this._aggregatesCalculated) {\r\n                        // void\r\n                    }\r\n                    else {\r\n                        this._calculateAggregates(startIndex, endIndex);\r\n                    }\r\n                    this._selectionAggregatesCalculated = true;\r\n                }\r\n            }\r\n            if (this.isDirty(\"tooltip\")) {\r\n                var tooltip = this.get(\"tooltip\");\r\n                if (tooltip) {\r\n                    tooltip.hide(0);\r\n                    tooltip.set(\"tooltipTarget\", this);\r\n                }\r\n            }\r\n            if (this.isDirty(\"fill\") || this.isDirty(\"stroke\")) {\r\n                var markerRectangle = void 0;\r\n                var legendDataItem = this.get(\"legendDataItem\");\r\n                if (legendDataItem) {\r\n                    markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                    if (markerRectangle) {\r\n                        if (this.isVisible()) {\r\n                            if (this.isDirty(\"stroke\")) {\r\n                                var stroke = this.get(\"stroke\");\r\n                                markerRectangle.set(\"stroke\", stroke);\r\n                            }\r\n                            if (this.isDirty(\"fill\")) {\r\n                                var fill = this.get(\"fill\");\r\n                                markerRectangle.set(\"fill\", fill);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.updateLegendMarker(undefined);\r\n            }\r\n            if (this.bullets.length > 0) {\r\n                var startIndex_1 = this.startIndex();\r\n                var endIndex_1 = this.endIndex();\r\n                for (var i = startIndex_1; i < endIndex_1; i++) {\r\n                    var dataItem = this.dataItems[i];\r\n                    if (!dataItem.bullets) {\r\n                        this._makeBullets(dataItem);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_calculateAggregates\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (startIndex, endIndex) {\r\n            var _this = this;\r\n            var fields = this._valueFields;\r\n            if (!fields) {\r\n                throw new Error(\"No value fields are set for the series.\");\r\n            }\r\n            var sum = {};\r\n            var absSum = {};\r\n            var count = {};\r\n            var low = {};\r\n            var high = {};\r\n            var open = {};\r\n            var close = {};\r\n            var average = {};\r\n            var previous = {};\r\n            $array.each(fields, function (key) {\r\n                sum[key] = 0;\r\n                absSum[key] = 0;\r\n                count[key] = 0;\r\n            });\r\n            $array.each(fields, function (key) {\r\n                var change = key + \"Change\";\r\n                var changePercent = key + \"ChangePercent\";\r\n                var changePrevious = key + \"ChangePrevious\";\r\n                var changePreviousPercent = key + \"ChangePreviousPercent\";\r\n                var changeSelection = key + \"ChangeSelection\";\r\n                var changeSelectionPercent = key + \"ChangeSelectionPercent\";\r\n                var openKey = \"valueY\";\r\n                if (key == \"valueX\" || key == \"openValueX\" || key == \"lowValueX\" || key == \"highValueX\") {\r\n                    openKey = \"valueX\";\r\n                }\r\n                var baseValueSeries = _this.getPrivate(\"baseValueSeries\");\r\n                for (var i = startIndex; i < endIndex; i++) {\r\n                    var dataItem = _this.dataItems[i];\r\n                    var value = dataItem.get(key);\r\n                    if (value != null) {\r\n                        count[key]++;\r\n                        sum[key] += value;\r\n                        absSum[key] += Math.abs(value);\r\n                        average[key] = sum[key] / count[key];\r\n                        if (low[key] > value || low[key] == null) {\r\n                            low[key] = value;\r\n                        }\r\n                        if (high[key] < value || high[key] == null) {\r\n                            high[key] = value;\r\n                        }\r\n                        close[key] = value;\r\n                        if (open[key] == null) {\r\n                            open[key] = value;\r\n                            previous[key] = value;\r\n                            if (baseValueSeries) {\r\n                                open[openKey] = baseValueSeries._getBase(openKey);\r\n                            }\r\n                        }\r\n                        if (startIndex === 0) {\r\n                            dataItem.setRaw((change), value - open[openKey]);\r\n                            dataItem.setRaw((changePercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        }\r\n                        dataItem.setRaw((changePrevious), value - previous[openKey]);\r\n                        dataItem.setRaw((changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\r\n                        dataItem.setRaw((changeSelection), value - open[openKey]);\r\n                        dataItem.setRaw((changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\r\n                        previous[key] = value;\r\n                    }\r\n                }\r\n            });\r\n            $array.each(fields, function (key) {\r\n                _this.setPrivate((key + \"AverageSelection\"), average[key]);\r\n                _this.setPrivate((key + \"CountSelection\"), count[key]);\r\n                _this.setPrivate((key + \"SumSelection\"), sum[key]);\r\n                _this.setPrivate((key + \"AbsoluteSumSelection\"), absSum[key]);\r\n                _this.setPrivate((key + \"LowSelection\"), low[key]);\r\n                _this.setPrivate((key + \"HighSelection\"), high[key]);\r\n                _this.setPrivate((key + \"OpenSelection\"), open[key]);\r\n                _this.setPrivate((key + \"CloseSelection\"), close[key]);\r\n            });\r\n            if (startIndex === 0 && endIndex === this.dataItems.length) {\r\n                $array.each(fields, function (key) {\r\n                    _this.setPrivate((key + \"Average\"), average[key]);\r\n                    _this.setPrivate((key + \"Count\"), count[key]);\r\n                    _this.setPrivate((key + \"Sum\"), sum[key]);\r\n                    _this.setPrivate((key + \"AbsoluteSum\"), absSum[key]);\r\n                    _this.setPrivate((key + \"Low\"), low[key]);\r\n                    _this.setPrivate((key + \"High\"), high[key]);\r\n                    _this.setPrivate((key + \"Open\"), open[key]);\r\n                    _this.setPrivate((key + \"Close\"), close[key]);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._updateChildren.call(this);\r\n            this._psi = this.startIndex();\r\n            this._pei = this.endIndex();\r\n            if (this.isDirty(\"visible\")) {\r\n                this.bulletsContainer.set(\"visible\", this.get(\"visible\"));\r\n            }\r\n            // Apply heat rules\r\n            if (this._valuesDirty && this.get(\"heatRules\") != null) {\r\n                var rules = this.get(\"heatRules\", []);\r\n                $array.each(rules, function (rule) {\r\n                    var minValue = rule.minValue || _this.getPrivate((rule.dataField + \"Low\")) || 0;\r\n                    var maxValue = rule.maxValue || _this.getPrivate((rule.dataField + \"High\")) || 0;\r\n                    $array.each(rule.target._entities, function (target) {\r\n                        var value = target.dataItem.get(rule.dataField);\r\n                        if (!$type.isNumber(value)) {\r\n                            return;\r\n                        }\r\n                        var percent;\r\n                        if (rule.logarithmic) {\r\n                            percent = (Math.log(value) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / ((Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E));\r\n                        }\r\n                        else {\r\n                            percent = (value - minValue) / (maxValue - minValue);\r\n                        }\r\n                        if ($type.isNumber(value) && (!$type.isNumber(percent) || Math.abs(percent) == Infinity)) {\r\n                            percent = 0.5;\r\n                        }\r\n                        // fixes problems if all values are the same\r\n                        var propertyValue;\r\n                        if ($type.isNumber(rule.min)) {\r\n                            propertyValue = rule.min + (rule.max - rule.min) * percent;\r\n                        }\r\n                        else if (rule.min instanceof Color) {\r\n                            propertyValue = Color.interpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        else if (rule.min instanceof Percent) {\r\n                            propertyValue = percentInterpolate(percent, rule.min, rule.max);\r\n                        }\r\n                        if (rule.customFunction) {\r\n                            rule.customFunction.call(_this, target, minValue, maxValue, value);\r\n                        }\r\n                        else {\r\n                            target.set(rule.key, propertyValue);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            if (this.bullets.length > 0) {\r\n                var count = this.dataItems.length;\r\n                var startIndex = this.startIndex();\r\n                var endIndex = this.endIndex();\r\n                if (endIndex < count) {\r\n                    endIndex++;\r\n                }\r\n                if (startIndex > 0) {\r\n                    startIndex--;\r\n                }\r\n                for (var i = 0; i < startIndex; i++) {\r\n                    this._hideBullets(this.dataItems[i]);\r\n                }\r\n                for (var i = startIndex; i < endIndex; i++) {\r\n                    this._positionBullets(this.dataItems[i]);\r\n                }\r\n                for (var i = endIndex; i < count; i++) {\r\n                    this._hideBullets(this.dataItems[i]);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_positionBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var _this = this;\r\n            if (dataItem.bullets) {\r\n                $array.each(dataItem.bullets, function (bullet) {\r\n                    _this._positionBullet(bullet);\r\n                    var sprite = bullet.get(\"sprite\");\r\n                    if (bullet.get(\"dynamic\")) {\r\n                        if (sprite) {\r\n                            sprite._markDirtyKey(\"fill\");\r\n                            sprite.markDirtySize();\r\n                        }\r\n                        if (sprite instanceof Container) {\r\n                            sprite.walkChildren(function (child) {\r\n                                child._markDirtyKey(\"fill\");\r\n                                child.markDirtySize();\r\n                                if (child instanceof Label) {\r\n                                    child.text.markDirtyText();\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    if (sprite instanceof Label && sprite.get(\"populateText\")) {\r\n                        sprite.text.markDirtyText();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_hideBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            if (dataItem.bullets) {\r\n                $array.each(dataItem.bullets, function (bullet) {\r\n                    var sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        sprite.setPrivate(\"visible\", false);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_positionBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_bullet) {\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_placeBulletsContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (chart) {\r\n            chart.bulletsContainer.children.moveValue(this.bulletsContainer);\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_removeBulletsContainer\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var bulletsContainer = this.bulletsContainer;\r\n            if (bulletsContainer.parent) {\r\n                bulletsContainer.parent.children.removeValue(bulletsContainer);\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"disposeDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var bullets = dataItem.bullets;\r\n            if (bullets) {\r\n                $array.each(bullets, function (bullet) {\r\n                    bullet.dispose();\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_getItemReaderLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            return \"\";\r\n        }\r\n    });\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(Series.prototype, \"showDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, bullets;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.showDataItem.call(this, dataItem, duration)];\r\n                            bullets = dataItem.bullets;\r\n                            if (bullets) {\r\n                                $array.each(bullets, function (bullet) {\r\n                                    promises.push(bullet.get(\"sprite\").show(duration));\r\n                                });\r\n                            }\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(Series.prototype, \"hideDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, bullets;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.hideDataItem.call(this, dataItem, duration)];\r\n                            bullets = dataItem.bullets;\r\n                            if (bullets) {\r\n                                $array.each(bullets, function (bullet) {\r\n                                    promises.push(bullet.get(\"sprite\").hide(duration));\r\n                                });\r\n                            }\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_sequencedShowHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (show, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var startIndex_2, endIndex_2;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!this.get(\"sequencedInterpolation\")) return [3 /*break*/, 4];\r\n                            if (!$type.isNumber(duration)) {\r\n                                duration = this.get(\"interpolationDuration\", 0);\r\n                            }\r\n                            if (!(duration > 0)) return [3 /*break*/, 2];\r\n                            startIndex_2 = this.startIndex();\r\n                            endIndex_2 = this.endIndex();\r\n                            return [4 /*yield*/, Promise.all($array.map(this.dataItems, function (dataItem, i) { return __awaiter(_this, void 0, void 0, function () {\r\n                                    var realDuration, delay;\r\n                                    return __generator(this, function (_a) {\r\n                                        switch (_a.label) {\r\n                                            case 0:\r\n                                                realDuration = duration || 0;\r\n                                                if (i < startIndex_2 - 10 || i > endIndex_2 + 10) {\r\n                                                    realDuration = 0;\r\n                                                }\r\n                                                delay = this.get(\"sequencedDelay\", 0) + realDuration / (endIndex_2 - startIndex_2);\r\n                                                return [4 /*yield*/, $time.sleep(delay * (i - startIndex_2))];\r\n                                            case 1:\r\n                                                _a.sent();\r\n                                                if (!show) return [3 /*break*/, 3];\r\n                                                return [4 /*yield*/, this.showDataItem(dataItem, realDuration)];\r\n                                            case 2:\r\n                                                _a.sent();\r\n                                                return [3 /*break*/, 5];\r\n                                            case 3: return [4 /*yield*/, this.hideDataItem(dataItem, realDuration)];\r\n                                            case 4:\r\n                                                _a.sent();\r\n                                                _a.label = 5;\r\n                                            case 5: return [2 /*return*/];\r\n                                        }\r\n                                    });\r\n                                }); }))];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [3 /*break*/, 4];\r\n                        case 2: return [4 /*yield*/, Promise.all($array.map(this.dataItems, function (dataItem) {\r\n                                if (show) {\r\n                                    return _this.showDataItem(dataItem, 0);\r\n                                }\r\n                                else {\r\n                                    return _this.hideDataItem(dataItem, 0);\r\n                                }\r\n                            }))];\r\n                        case 3:\r\n                            _a.sent();\r\n                            _a.label = 4;\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"updateLegendValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var legendDataItem = dataItem.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                var valueLabel = legendDataItem.get(\"valueLabel\");\r\n                if (valueLabel) {\r\n                    var text = valueLabel.text;\r\n                    var txt = \"\";\r\n                    valueLabel._setDataItem(dataItem);\r\n                    txt = this.get(\"legendValueText\", text.get(\"text\", \"\"));\r\n                    valueLabel.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n                var label = legendDataItem.get(\"label\");\r\n                if (label) {\r\n                    var text = label.text;\r\n                    var txt = \"\";\r\n                    label._setDataItem(dataItem);\r\n                    txt = this.get(\"legendLabelText\", text.get(\"text\", \"\"));\r\n                    label.set(\"text\", txt);\r\n                    text.markDirtyText();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"updateLegendMarker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n        }\r\n    });\r\n    Object.defineProperty(Series.prototype, \"_onHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._onHide.call(this);\r\n            var tooltip = this.getTooltip();\r\n            if (tooltip) {\r\n                tooltip.hide();\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"hoverDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) { }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"unhoverDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) { }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(Series.prototype, \"_getBase\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key) {\r\n            var dataItem = this.dataItems[this.startIndex()];\r\n            if (dataItem) {\r\n                return dataItem.get(key);\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    Object.defineProperty(Series, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"Series\"\r\n    });\r\n    Object.defineProperty(Series, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Component.classNames.concat([Series.className])\r\n    });\r\n    return Series;\r\n}(Component));\r\nexport { Series };\r\n//# sourceMappingURL=Series.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { Series } from \"../../../core/render/Series\";\r\nimport { List } from \"../../../core/util/List\";\r\nimport { Container } from \"../../../core/render/Container\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $object from \"../../../core/util/Object\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * @ignore\r\n */\r\nfunction min(left, right) {\r\n    if (left == null) {\r\n        return right;\r\n    }\r\n    else if (right == null) {\r\n        return left;\r\n    }\r\n    else if (right < left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction max(left, right) {\r\n    if (left == null) {\r\n        return right;\r\n    }\r\n    else if (right == null) {\r\n        return left;\r\n    }\r\n    else if (right > left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * A base class for all XY chart series.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/} for more info\r\n */\r\nvar XYSeries = /** @class */ (function (_super) {\r\n    __extends(XYSeries, _super);\r\n    function XYSeries() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_xField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_yField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_xOpenField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_yOpenField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_xLowField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_xHighField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_yLowField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_yHighField\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_axesDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_stackDirty\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_selectionProcessed\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_dataSets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_mainContainerMask\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_x\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_y\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        /**\r\n         * A [[Container]] that us used to put series' elements in.\r\n         *\r\n         * @default Container.new()\r\n         */\r\n        Object.defineProperty(_this, \"mainContainer\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Container.new(_this._root, {}))\r\n        });\r\n        /**\r\n         * A list of axis ranges that affect the series.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n         */\r\n        Object.defineProperty(_this, \"axisRanges\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new List()\r\n        });\r\n        Object.defineProperty(_this, \"_skipped\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_couldStackTo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: []\r\n        });\r\n        Object.defineProperty(_this, \"_reallyStackedTo\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_stackedSeries\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: {}\r\n        });\r\n        Object.defineProperty(_this, \"_aLocationX0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_aLocationX1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_aLocationY0\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_aLocationY1\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 1\r\n        });\r\n        Object.defineProperty(_this, \"_showBullets\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: true\r\n        });\r\n        Object.defineProperty(_this, \"valueXFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"valueX\",\r\n                \"openValueX\",\r\n                \"lowValueX\",\r\n                \"highValueX\"\r\n            ]\r\n        });\r\n        Object.defineProperty(_this, \"valueYFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [\r\n                \"valueY\",\r\n                \"openValueY\",\r\n                \"lowValueY\",\r\n                \"highValueY\"\r\n            ]\r\n        });\r\n        Object.defineProperty(_this, \"_valueXFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_valueYFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // used for full min/max\r\n        Object.defineProperty(_this, \"_valueXShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_valueYShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        // used for selection (uses working)\r\n        Object.defineProperty(_this, \"__valueXShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"__valueYShowFields\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_emptyDataItem\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new DataItem(_this, undefined, {})\r\n        });\r\n        Object.defineProperty(_this, \"_dataSetId\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipFieldX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipFieldY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(XYSeries.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this.fields.push(\"categoryX\", \"categoryY\", \"openCategoryX\", \"openCategoryY\");\r\n            this.valueFields.push(\"valueX\", \"valueY\", \"openValueX\", \"openValueY\", \"lowValueX\", \"lowValueY\", \"highValueX\", \"highValueY\");\r\n            this._setRawDefault(\"vcx\", 1);\r\n            this._setRawDefault(\"vcy\", 1);\r\n            // this can't go to themes, as data might be parsed before theme\r\n            this._setRawDefault(\"valueXShow\", \"valueXWorking\");\r\n            this._setRawDefault(\"valueYShow\", \"valueYWorking\");\r\n            this._setRawDefault(\"openValueXShow\", \"openValueXWorking\");\r\n            this._setRawDefault(\"openValueYShow\", \"openValueYWorking\");\r\n            this._setRawDefault(\"lowValueXShow\", \"lowValueXWorking\");\r\n            this._setRawDefault(\"lowValueYShow\", \"lowValueYWorking\");\r\n            this._setRawDefault(\"highValueXShow\", \"highValueXWorking\");\r\n            this._setRawDefault(\"highValueYShow\", \"highValueYWorking\");\r\n            this._setRawDefault(\"lowValueXGrouped\", \"low\");\r\n            this._setRawDefault(\"lowValueYGrouped\", \"low\");\r\n            this._setRawDefault(\"highValueXGrouped\", \"high\");\r\n            this._setRawDefault(\"highValueYGrouped\", \"high\");\r\n            _super.prototype._afterNew.call(this);\r\n            this._settings.xAxis.series.push(this);\r\n            this._settings.yAxis.series.push(this);\r\n            this.set(\"maskContent\", true);\r\n            this._disposers.push(this.axisRanges.events.onAll(function (change) {\r\n                if (change.type === \"clear\") {\r\n                    $array.each(change.oldValues, function (axisRange) {\r\n                        _this._removeAxisRange(axisRange);\r\n                    });\r\n                }\r\n                else if (change.type === \"push\") {\r\n                    _this._processAxisRange(change.newValue);\r\n                }\r\n                else if (change.type === \"setIndex\") {\r\n                    _this._processAxisRange(change.newValue);\r\n                }\r\n                else if (change.type === \"insertIndex\") {\r\n                    _this._processAxisRange(change.newValue);\r\n                }\r\n                else if (change.type === \"removeIndex\") {\r\n                    _this._removeAxisRange(change.oldValue);\r\n                }\r\n                else if (change.type === \"moveIndex\") {\r\n                    _this._processAxisRange(change.value);\r\n                }\r\n                else {\r\n                    throw new Error(\"Unknown IStreamEvent type\");\r\n                }\r\n            }));\r\n            if (!this.get(\"baseAxis\")) {\r\n                var xAxis = this.get(\"xAxis\");\r\n                var yAxis = this.get(\"yAxis\");\r\n                if (yAxis.isType(\"CategoryAxis\") || yAxis.isType(\"DateAxis\")) {\r\n                    this.set(\"baseAxis\", yAxis);\r\n                }\r\n                else {\r\n                    this.set(\"baseAxis\", xAxis);\r\n                }\r\n            }\r\n            this.states.create(\"hidden\", { opacity: 1, visible: false });\r\n            this._makeFieldNames();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_processAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisRange) {\r\n            var container = Container.new(this._root, {});\r\n            axisRange.container = container;\r\n            this.children.push(container);\r\n            axisRange.series = this;\r\n            var axisDataItem = axisRange.axisDataItem;\r\n            axisDataItem.setRaw(\"isRange\", true);\r\n            var axis = axisDataItem.component;\r\n            if (axis) {\r\n                axis._processAxisRange(axisDataItem, [\"range\", \"series\"]);\r\n                var bullet = axisDataItem.get(\"bullet\");\r\n                if (bullet) {\r\n                    var sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        sprite.setPrivate(\"visible\", false);\r\n                    }\r\n                }\r\n                var axisFill = axisDataItem.get(\"axisFill\");\r\n                if (axisFill) {\r\n                    container.set(\"mask\", axisFill);\r\n                }\r\n                axis._seriesAxisRanges.push(axisDataItem);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_removeAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisRange) {\r\n            var axisDataItem = axisRange.axisDataItem;\r\n            var axis = axisDataItem.component;\r\n            axis.disposeDataItem(axisDataItem);\r\n            $array.remove(axis._seriesAxisRanges, axisDataItem);\r\n            var container = axisRange.container;\r\n            if (container) {\r\n                container.dispose();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_updateFields\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._updateFields.call(this);\r\n            this._valueXFields = [];\r\n            this._valueYFields = [];\r\n            this._valueXShowFields = [];\r\n            this._valueYShowFields = [];\r\n            this.__valueXShowFields = [];\r\n            this.__valueYShowFields = [];\r\n            if (this.valueXFields) {\r\n                $array.each(this.valueXFields, function (key) {\r\n                    var field = _this.get((key + \"Field\"));\r\n                    if (field) {\r\n                        _this._valueXFields.push(key);\r\n                        var field_1 = _this.get((key + \"Show\"));\r\n                        _this.__valueXShowFields.push(field_1);\r\n                        if (field_1.indexOf(\"Working\") != -1) {\r\n                            _this._valueXShowFields.push(field_1.split(\"Working\")[0]);\r\n                        }\r\n                        else {\r\n                            _this._valueYShowFields.push(field_1);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if (this.valueYFields) {\r\n                $array.each(this.valueYFields, function (key) {\r\n                    var field = _this.get((key + \"Field\"));\r\n                    if (field) {\r\n                        _this._valueYFields.push(key);\r\n                        var field_2 = _this.get((key + \"Show\"));\r\n                        _this.__valueYShowFields.push(field_2);\r\n                        if (field_2.indexOf(\"Working\") != -1) {\r\n                            _this._valueYShowFields.push(field_2.split(\"Working\")[0]);\r\n                        }\r\n                        else {\r\n                            _this._valueYShowFields.push(field_2);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                chart.series.removeValue(this);\r\n            }\r\n            $array.removeFirst(this.get(\"xAxis\").series, this);\r\n            $array.removeFirst(this.get(\"yAxis\").series, this);\r\n        }\r\n    });\r\n    // TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\r\n    Object.defineProperty(XYSeries.prototype, \"_min\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var newValue = min(this.getPrivate(key), value);\r\n            this.setPrivate(key, newValue);\r\n        }\r\n    });\r\n    // TODO use  SelectKeys<this[\"_privateSettings\"], number | undefined>\r\n    Object.defineProperty(XYSeries.prototype, \"_max\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (key, value) {\r\n            var newValue = max(this.getPrivate(key), value);\r\n            this.setPrivate(key, newValue);\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_shouldMakeBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            if (!this.get(\"xAxis\").inited || !this.get(\"yAxis\").inited) {\r\n                return false;\r\n            }\r\n            if (dataItem.get(this._xField) != null && dataItem.get(this._yField) != null) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_makeFieldNames\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var xName = xAxis.getPrivate(\"name\");\r\n            var xCapName = $utils.capitalizeFirst(xName);\r\n            var yName = yAxis.getPrivate(\"name\");\r\n            var yCapName = $utils.capitalizeFirst(yName);\r\n            var xLetter = xAxis.get(\"renderer\").getPrivate(\"letter\");\r\n            var yLetter = yAxis.get(\"renderer\").getPrivate(\"letter\");\r\n            var open = \"open\";\r\n            var low = \"low\";\r\n            var high = \"high\";\r\n            var show = \"Show\";\r\n            if (xAxis.className === \"ValueAxis\") {\r\n                this._xField = this.get((xName + xLetter + show));\r\n                this._xOpenField = this.get((open + xCapName + xLetter + show));\r\n                this._xLowField = this.get((low + xCapName + xLetter + show));\r\n                this._xHighField = this.get((high + xCapName + xLetter + show));\r\n            }\r\n            else {\r\n                this._xField = (xName + xLetter);\r\n                this._xOpenField = (open + xCapName + xLetter);\r\n                this._xLowField = (low + xCapName + xLetter);\r\n                this._xHighField = (high + xCapName + xLetter);\r\n            }\r\n            if (yAxis.className === \"ValueAxis\") {\r\n                this._yField = this.get((yName + yLetter + show));\r\n                this._yOpenField = this.get((open + yCapName + yLetter + show));\r\n                this._yLowField = this.get((low + yCapName + yLetter + show));\r\n                this._yHighField = this.get((high + yCapName + yLetter + show));\r\n            }\r\n            else {\r\n                this._yField = (yName + yLetter);\r\n                this._yOpenField = (open + yCapName + yLetter);\r\n                this._yLowField = (low + yCapName + yLetter);\r\n                this._yHighField = (high + yCapName + yLetter);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_fixVC\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var baseAxis = this.get(\"baseAxis\");\r\n            var hiddenState = this.states.lookup(\"hidden\");\r\n            var sequencedInterpolation = this.get(\"sequencedInterpolation\");\r\n            if (hiddenState) {\r\n                var value = 0;\r\n                if (sequencedInterpolation) {\r\n                    value = 0.999999999999; // makes animate, good for stacked\r\n                }\r\n                if (xAxis === baseAxis) {\r\n                    hiddenState.set(\"vcy\", value);\r\n                }\r\n                else if (yAxis === baseAxis) {\r\n                    hiddenState.set(\"vcx\", value);\r\n                }\r\n                else {\r\n                    hiddenState.set(\"vcy\", value);\r\n                    hiddenState.set(\"vcx\", value);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_handleMaskBullets\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.isDirty(\"maskBullets\")) {\r\n                this.bulletsContainer.set(\"maskContent\", this.get(\"maskBullets\"));\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this.isDirty(\"valueYShow\") || this.isDirty(\"valueXShow\" || this.isDirty(\"openValueYShow\") || this.isDirty(\"openValueXShow\") || this.isDirty(\"lowValueYShow\") || this.isDirty(\"lowValueXShow\") || this.isDirty(\"highValueYShow\") || this.isDirty(\"highValueXShow\"))) {\r\n                this._updateFields();\r\n                this._makeFieldNames();\r\n                this._valuesDirty = true;\r\n            }\r\n            this.set(\"width\", this.get(\"xAxis\").width());\r\n            this.set(\"height\", this.get(\"yAxis\").height());\r\n            this._handleMaskBullets();\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var baseAxis = this.get(\"baseAxis\");\r\n            var tooltipPositionX = this.get(\"tooltipPositionX\");\r\n            var tooltipFieldX;\r\n            switch (tooltipPositionX) {\r\n                case \"open\":\r\n                    tooltipFieldX = this._xOpenField;\r\n                    break;\r\n                case \"low\":\r\n                    tooltipFieldX = this._xLowField;\r\n                    break;\r\n                case \"high\":\r\n                    tooltipFieldX = this._xHighField;\r\n                    break;\r\n                default:\r\n                    tooltipFieldX = this._xField;\r\n            }\r\n            this._tooltipFieldX = tooltipFieldX;\r\n            var tooltipPositionY = this.get(\"tooltipPositionY\");\r\n            var tooltipFieldY;\r\n            switch (tooltipPositionY) {\r\n                case \"open\":\r\n                    tooltipFieldY = this._yOpenField;\r\n                    break;\r\n                case \"low\":\r\n                    tooltipFieldY = this._yLowField;\r\n                    break;\r\n                case \"high\":\r\n                    tooltipFieldY = this._yHighField;\r\n                    break;\r\n                default:\r\n                    tooltipFieldY = this._yField;\r\n            }\r\n            this._tooltipFieldY = tooltipFieldY;\r\n            if (this.isDirty(\"baseAxis\")) {\r\n                this._fixVC();\r\n            }\r\n            this.set(\"x\", xAxis.x() - $utils.relativeToValue(xAxis.get(\"centerX\", 0), xAxis.width()) - xAxis.parent.get(\"paddingLeft\", 0));\r\n            this.set(\"y\", yAxis.y() - $utils.relativeToValue(yAxis.get(\"centerY\", 0), yAxis.height()) - yAxis.parent.get(\"paddingTop\", 0));\r\n            this.bulletsContainer.set(\"y\", this.y());\r\n            this.bulletsContainer.set(\"x\", this.x());\r\n            var stacked = this.get(\"stacked\");\r\n            if (this.isDirty(\"stacked\")) {\r\n                if (stacked) {\r\n                    if (this._valuesDirty && !this._dataProcessed) {\r\n                    }\r\n                    else {\r\n                        this._stack();\r\n                    }\r\n                }\r\n                else {\r\n                    this._unstack();\r\n                }\r\n            }\r\n            if (this._valuesDirty && !this._dataProcessed) {\r\n                this._dataProcessed = true;\r\n                if (stacked) {\r\n                    this._stack();\r\n                }\r\n                $array.each(this.dataItems, function (dataItem) {\r\n                    $array.each(_this._valueXShowFields, function (key) {\r\n                        var value = dataItem.get(key);\r\n                        if (value != null) {\r\n                            if (stacked) {\r\n                                value += _this.getStackedXValue(dataItem, key);\r\n                            }\r\n                            _this._min(\"minX\", value);\r\n                            _this._max(\"maxX\", value);\r\n                        }\r\n                    });\r\n                    $array.each(_this._valueYShowFields, function (key) {\r\n                        var value = dataItem.get(key);\r\n                        if (value != null) {\r\n                            if (stacked) {\r\n                                value += _this.getStackedYValue(dataItem, key);\r\n                            }\r\n                            _this._min(\"minY\", value);\r\n                            _this._max(\"maxY\", value);\r\n                        }\r\n                    });\r\n                    xAxis.processSeriesDataItem(dataItem, _this._valueXFields);\r\n                    yAxis.processSeriesDataItem(dataItem, _this._valueYFields);\r\n                });\r\n                xAxis._seriesValuesDirty = true;\r\n                yAxis._seriesValuesDirty = true;\r\n                if (!this.get(\"ignoreMinMax\")) {\r\n                    if (this.isPrivateDirty(\"minX\") || this.isPrivateDirty(\"maxX\")) {\r\n                        xAxis.markDirtyExtremes();\r\n                    }\r\n                    if (this.isPrivateDirty(\"minY\") || this.isPrivateDirty(\"maxY\")) {\r\n                        yAxis.markDirtyExtremes();\r\n                    }\r\n                }\r\n                this._markStakedDirtyStack();\r\n                //this.updateLegendMarker(undefined); // causes legend marker to change color instantly when on\r\n                this.updateLegendValue(undefined);\r\n            }\r\n            if (this.isDirty(\"vcx\") || this.isDirty(\"vcy\")) {\r\n                this._markStakedDirtyStack();\r\n            }\r\n            if (!this._dataGrouped) {\r\n                xAxis._groupSeriesData(this);\r\n                yAxis._groupSeriesData(this);\r\n                this._dataGrouped = true;\r\n            }\r\n            if (this._valuesDirty || this.isPrivateDirty(\"startIndex\") || this.isPrivateDirty(\"endIndex\") || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._stackDirty) {\r\n                var startIndex = this.startIndex();\r\n                var endIndex = this.endIndex();\r\n                var minBulletDistance = this.get(\"minBulletDistance\", 0);\r\n                if (minBulletDistance > 0 && baseAxis) {\r\n                    if (baseAxis.get(\"renderer\").axisLength() / (endIndex - startIndex) > minBulletDistance) {\r\n                        this._showBullets = true;\r\n                    }\r\n                    else {\r\n                        this._showBullets = false;\r\n                    }\r\n                }\r\n                if ((this._psi != startIndex || this._pei != endIndex || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._stackDirty || this._valuesDirty) && !this._selectionProcessed) {\r\n                    this._selectionProcessed = true;\r\n                    var vcx = this.get(\"vcx\", 1);\r\n                    var vcy = this.get(\"vcy\", 1);\r\n                    var stacked_1 = this.get(\"stacked\", false);\r\n                    var outOfSelection = this.getPrivate(\"outOfSelection\");\r\n                    if (baseAxis === xAxis) {\r\n                        yAxis._calculateTotals();\r\n                        this.setPrivateRaw(\"selectionMinY\", undefined);\r\n                        this.setPrivateRaw(\"selectionMaxY\", undefined);\r\n                        if (!outOfSelection) {\r\n                            for (var i = startIndex; i < endIndex; i++) {\r\n                                this.processYSelectionDataItem(this.dataItems[i], vcy, stacked_1);\r\n                            }\r\n                        }\r\n                        else {\r\n                            yAxis.markDirtySelectionExtremes();\r\n                        }\r\n                    }\r\n                    else if (baseAxis === yAxis) {\r\n                        xAxis._calculateTotals();\r\n                        this.setPrivateRaw(\"selectionMinX\", undefined);\r\n                        this.setPrivateRaw(\"selectionMaxX\", undefined);\r\n                        if (!outOfSelection) {\r\n                            for (var i = startIndex; i < endIndex; i++) {\r\n                                this.processXSelectionDataItem(this.dataItems[i], vcx, stacked_1);\r\n                            }\r\n                        }\r\n                        else {\r\n                            yAxis.markDirtySelectionExtremes();\r\n                        }\r\n                    }\r\n                    if (baseAxis === xAxis) {\r\n                        if (this.get(\"valueYShow\") !== \"valueYWorking\") {\r\n                            var selectionMinY = this.getPrivate(\"selectionMinY\");\r\n                            if (selectionMinY != null) {\r\n                                this.setPrivateRaw(\"minY\", selectionMinY);\r\n                                yAxis.markDirtyExtremes();\r\n                            }\r\n                            var selectionMaxY = this.getPrivate(\"selectionMaxY\");\r\n                            if (selectionMaxY != null) {\r\n                                this.setPrivateRaw(\"maxY\", selectionMaxY);\r\n                                yAxis.markDirtyExtremes();\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (baseAxis === yAxis) {\r\n                        if (this.get(\"valueXShow\") !== \"valueXWorking\") {\r\n                            var selectionMinX = this.getPrivate(\"selectionMinX\");\r\n                            if (selectionMinX != null) {\r\n                                this.setPrivateRaw(\"minX\", selectionMinX);\r\n                                yAxis.markDirtyExtremes();\r\n                            }\r\n                            var selectionMaxX = this.getPrivate(\"selectionMaxX\");\r\n                            if (selectionMaxX != null) {\r\n                                this.setPrivateRaw(\"maxX\", selectionMaxX);\r\n                                xAxis.markDirtyExtremes();\r\n                            }\r\n                        }\r\n                    }\r\n                    if (this.isPrivateDirty(\"selectionMinX\") || this.isPrivateDirty(\"selectionMaxX\")) {\r\n                        xAxis.markDirtySelectionExtremes();\r\n                    }\r\n                    if (this.isPrivateDirty(\"selectionMinY\") || this.isPrivateDirty(\"selectionMaxY\")) {\r\n                        yAxis.markDirtySelectionExtremes();\r\n                    }\r\n                    // this.updateLegendValue(undefined); flickers while panning\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_makeRangeMask\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            if (this.axisRanges.length > 0) {\r\n                var mainContainerMask_1 = this._mainContainerMask;\r\n                if (mainContainerMask_1 == null) {\r\n                    mainContainerMask_1 = this.children.push(Graphics.new(this._root, {}));\r\n                    this._mainContainerMask = mainContainerMask_1;\r\n                    mainContainerMask_1.set(\"draw\", function (display, target) {\r\n                        var parent = _this.parent;\r\n                        if (parent) {\r\n                            var w = _this._root.container.width();\r\n                            var h = _this._root.container.height();\r\n                            display.moveTo(-w, -h);\r\n                            display.lineTo(-w, h * 2);\r\n                            display.lineTo(w * 2, h * 2);\r\n                            display.lineTo(w * 2, -h);\r\n                            display.lineTo(-w, -h);\r\n                            _this.axisRanges.each(function (axisRange) {\r\n                                var fill = axisRange.axisDataItem.get(\"axisFill\");\r\n                                if (parent) {\r\n                                    if (fill) {\r\n                                        var draw = fill.get(\"draw\");\r\n                                        if (draw) {\r\n                                            draw(display, target);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                        _this.mainContainer._display.mask = mainContainerMask_1._display;\r\n                    });\r\n                }\r\n                mainContainerMask_1.markDirty();\r\n                mainContainerMask_1._markDirtyKey(\"fill\");\r\n            }\r\n            else {\r\n                this.mainContainer._display.mask = null;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateChildren.call(this);\r\n            // save for performance\r\n            this._x = this.x();\r\n            this._y = this.y();\r\n            this._makeRangeMask();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_stack\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                var seriesIndex = chart.series.indexOf(this);\r\n                this._couldStackTo = [];\r\n                if (seriesIndex > 0) {\r\n                    var series = void 0;\r\n                    for (var i = seriesIndex - 1; i >= 0; i--) {\r\n                        series = chart.series.getIndex(i);\r\n                        if (series.get(\"xAxis\") === this.get(\"xAxis\") && series.get(\"yAxis\") === this.get(\"yAxis\") && series.className === this.className) {\r\n                            this._couldStackTo.push(series);\r\n                            if (!series.get(\"stacked\")) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this._stackDataItems();\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_unstack\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            $object.each(this._reallyStackedTo, function (_key, value) {\r\n                delete (value._stackedSeries[_this.uid]);\r\n            });\r\n            this._reallyStackedTo = {};\r\n            $array.each(this.dataItems, function (dataItem) {\r\n                dataItem.setRaw(\"stackToItemY\", undefined);\r\n                dataItem.setRaw(\"stackToItemX\", undefined);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_stackDataItems\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            // this works only with the same number of data @todo: search by date/category?\r\n            var baseAxis = this.get(\"baseAxis\");\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var field;\r\n            var stackToItemKey;\r\n            if (baseAxis === xAxis) {\r\n                field = \"valueY\";\r\n                stackToItemKey = \"stackToItemY\";\r\n            }\r\n            else if (baseAxis === yAxis) {\r\n                field = \"valueX\";\r\n                stackToItemKey = \"stackToItemX\";\r\n            }\r\n            var len = this._couldStackTo.length;\r\n            var index = 0;\r\n            var stackToNegative = this.get(\"stackToNegative\");\r\n            this._reallyStackedTo = {};\r\n            $array.each(this.dataItems, function (dataItem) {\r\n                for (var s = 0; s < len; s++) {\r\n                    var stackToSeries = _this._couldStackTo[s];\r\n                    var stackToItem = stackToSeries.dataItems[index];\r\n                    var value = dataItem.get(field);\r\n                    if (stackToItem) {\r\n                        var stackValue = stackToItem.get(field);\r\n                        if (stackToNegative) {\r\n                            if ($type.isNumber(value)) {\r\n                                if ($type.isNumber(stackValue)) {\r\n                                    if (value >= 0 && stackValue >= 0) {\r\n                                        dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                        _this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                        stackToSeries._stackedSeries[_this.uid] = _this;\r\n                                        break;\r\n                                    }\r\n                                    if (value < 0 && stackValue < 0) {\r\n                                        dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                        _this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                        stackToSeries._stackedSeries[_this.uid] = _this;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                break;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if ($type.isNumber(value) && $type.isNumber(stackValue)) {\r\n                                dataItem.setRaw(stackToItemKey, stackToItem);\r\n                                _this._reallyStackedTo[stackToSeries.uid] = stackToSeries;\r\n                                stackToSeries._stackedSeries[_this.uid] = _this;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                index++;\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"processXSelectionDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, vcx, stacked) {\r\n            var _this = this;\r\n            $array.each(this.__valueXShowFields, function (key) {\r\n                var value = dataItem.get(key);\r\n                if (value != null) {\r\n                    if (stacked) {\r\n                        value += _this.getStackedXValueWorking(dataItem, key);\r\n                    }\r\n                    _this._min(\"selectionMinX\", value);\r\n                    _this._max(\"selectionMaxX\", value * vcx);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"processYSelectionDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, vcy, stacked) {\r\n            var _this = this;\r\n            $array.each(this.__valueYShowFields, function (key) {\r\n                var value = dataItem.get(key);\r\n                if (value != null) {\r\n                    if (stacked) {\r\n                        value += _this.getStackedYValueWorking(dataItem, key);\r\n                    }\r\n                    _this._min(\"selectionMinY\", value);\r\n                    _this._max(\"selectionMaxY\", value * vcy);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"getStackedYValueWorking\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, key) {\r\n            var stackToItem = dataItem.get(\"stackToItemY\");\r\n            if (stackToItem) {\r\n                var stackedToSeries = stackToItem.component;\r\n                return stackToItem.get(key, 0) * stackedToSeries.get(\"vcy\", 1) + this.getStackedYValueWorking(stackToItem, key);\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"getStackedXValueWorking\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, key) {\r\n            var stackToItem = dataItem.get(\"stackToItemX\");\r\n            if (stackToItem) {\r\n                var stackedToSeries = stackToItem.component;\r\n                return stackToItem.get(key, 0) * stackedToSeries.get(\"vcx\", 1) + this.getStackedXValueWorking(stackToItem, key);\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"getStackedYValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, key) {\r\n            var stackToItem = dataItem.get(\"stackToItemY\");\r\n            if (stackToItem) {\r\n                return stackToItem.get(key, 0) + this.getStackedYValue(stackToItem, key);\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"getStackedXValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, key) {\r\n            var stackToItem = dataItem.get(\"stackToItemX\");\r\n            if (stackToItem) {\r\n                return stackToItem.get(key, 0) + this.getStackedXValue(stackToItem, key);\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"createLegendMarker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n            this.updateLegendMarker();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_markDirtyAxes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._axesDirty = true;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_markDataSetDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._afterDataChange();\r\n            this._valuesDirty = true;\r\n            this._dataProcessed = false;\r\n            this._aggregatesCalculated = false;\r\n            this.markDirty();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_clearDirty\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._clearDirty.call(this);\r\n            this._axesDirty = false;\r\n            this._selectionProcessed = false;\r\n            this._stackDirty = false;\r\n            this._dataProcessed = false;\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_positionBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (bullet) {\r\n            var sprite = bullet.get(\"sprite\");\r\n            if (sprite) {\r\n                var dataItem = sprite.dataItem;\r\n                var locationX = bullet.get(\"locationX\", dataItem.get(\"locationX\", 0.5));\r\n                var locationY = bullet.get(\"locationY\", dataItem.get(\"locationY\", 0.5));\r\n                var xAxis = this.get(\"xAxis\");\r\n                var yAxis = this.get(\"yAxis\");\r\n                var positionX = xAxis.getDataItemPositionX(dataItem, this._xField, locationX, this.get(\"vcx\", 1));\r\n                var positionY = yAxis.getDataItemPositionY(dataItem, this._yField, locationY, this.get(\"vcy\", 1));\r\n                var point = this.getPoint(positionX, positionY);\r\n                var left = dataItem.get(\"left\", point.x);\r\n                var right = dataItem.get(\"right\", point.x);\r\n                var top_1 = dataItem.get(\"top\", point.y);\r\n                var bottom = dataItem.get(\"bottom\", point.y);\r\n                if (this._shouldShowBullet(positionX, positionY)) {\r\n                    if (!bullet.getPrivate(\"hidden\")) {\r\n                        sprite.setPrivate(\"visible\", true);\r\n                    }\r\n                    else {\r\n                        sprite.setPrivate(\"visible\", false);\r\n                    }\r\n                    var w = right - left;\r\n                    var h = bottom - top_1;\r\n                    if (sprite.isType(\"Label\")) {\r\n                        sprite.setPrivate(\"maxWidth\", Math.abs(w));\r\n                        sprite.setPrivate(\"maxHeight\", Math.abs(h));\r\n                    }\r\n                    var x = left + w * locationX;\r\n                    var y = bottom - h * locationY;\r\n                    sprite.set(\"x\", x);\r\n                    sprite.set(\"y\", y);\r\n                }\r\n                else {\r\n                    sprite.setPrivate(\"visible\", false);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_shouldShowBullet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_positionX, _positionY) {\r\n            return this._showBullets;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"setDataSet\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (id) {\r\n            if (this._dataSets[id]) {\r\n                this._handleDataSetChange();\r\n                this._dataItems = this._dataSets[id];\r\n                this._markDataSetDirty();\r\n                this._dataSetId = id;\r\n                var type = \"datasetchanged\";\r\n                if (this.events.isEnabled(type)) {\r\n                    this.events.dispatch(type, { type: type, target: this, id: id });\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_handleDataSetChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.bullets.length > 0) {\r\n                $array.each(this._dataItems, function (dataItem) {\r\n                    var bullets = dataItem.bullets;\r\n                    if (bullets) {\r\n                        $array.each(bullets, function (bullet) {\r\n                            var sprite = bullet.get(\"sprite\");\r\n                            if (sprite) {\r\n                                sprite.setPrivate(\"visible\", false);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            this._selectionProcessed = false; // for totals to be calculated\r\n        }\r\n    });\r\n    /**\r\n     * Shows hidden series.\r\n     *\r\n     * @param   duration  Duration of animation in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"show\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this._fixVC();\r\n                            promises = [];\r\n                            promises.push(_super.prototype.show.call(this, duration).then(function () {\r\n                                _this._isShowing = false;\r\n                                var xAxis = _this.get(\"xAxis\");\r\n                                var yAxis = _this.get(\"yAxis\");\r\n                                var baseAxis = _this.get(\"baseAxis\");\r\n                                if (yAxis !== baseAxis) {\r\n                                    yAxis.markDirtySelectionExtremes();\r\n                                }\r\n                                if (xAxis !== baseAxis) {\r\n                                    xAxis.markDirtySelectionExtremes();\r\n                                }\r\n                            }));\r\n                            promises.push(this.bulletsContainer.show(duration));\r\n                            promises.push(this._sequencedShowHide(true, duration));\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides series.\r\n     *\r\n     * @param   duration  Duration of animation in milliseconds\r\n     * @return            Animation promise\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"hide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this._fixVC();\r\n                            promises = [];\r\n                            promises.push(_super.prototype.hide.call(this, duration).then(function () {\r\n                                _this._isHiding = false;\r\n                            }));\r\n                            promises.push(this.bulletsContainer.hide(duration));\r\n                            promises.push(this._sequencedShowHide(false, duration));\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Shows series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"showDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, easing;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.showDataItem.call(this, dataItem, duration)];\r\n                            if (!$type.isNumber(duration)) {\r\n                                duration = this.get(\"stateAnimationDuration\", 0);\r\n                            }\r\n                            easing = this.get(\"stateAnimationEasing\");\r\n                            $array.each(this._valueFields, function (key) {\r\n                                promises.push(dataItem.animate({ key: key + \"Working\", to: dataItem.get(key), duration: duration, easing: easing }).waitForStop());\r\n                            });\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * Hides series's data item.\r\n     *\r\n     * @param   dataItem  Data item\r\n     * @param   duration  Animation duration in milliseconds\r\n     * @return            Promise\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"hideDataItem\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, duration) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var promises, hiddenState, easing, xAxis, yAxis, baseAxis, stacked, min_1, baseValue_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            promises = [_super.prototype.hideDataItem.call(this, dataItem, duration)];\r\n                            hiddenState = this.states.create(\"hidden\", {});\r\n                            if (!$type.isNumber(duration)) {\r\n                                duration = hiddenState.get(\"stateAnimationDuration\", this.get(\"stateAnimationDuration\", 0));\r\n                            }\r\n                            easing = hiddenState.get(\"stateAnimationEasing\", this.get(\"stateAnimationEasing\"));\r\n                            xAxis = this.get(\"xAxis\");\r\n                            yAxis = this.get(\"yAxis\");\r\n                            baseAxis = this.get(\"baseAxis\");\r\n                            stacked = this.get(\"stacked\");\r\n                            if (baseAxis === xAxis || !baseAxis) {\r\n                                $array.each(this._valueYFields, function (key) {\r\n                                    var min = yAxis.getPrivate(\"min\");\r\n                                    var baseValue = yAxis.baseValue();\r\n                                    if ($type.isNumber(min) && min > baseValue) {\r\n                                        baseValue = min;\r\n                                    }\r\n                                    if (stacked) {\r\n                                        baseValue = 0;\r\n                                    }\r\n                                    promises.push(dataItem.animate({ key: key + \"Working\", to: baseValue, duration: duration, easing: easing }).waitForStop());\r\n                                });\r\n                            }\r\n                            if (baseAxis === yAxis || !baseAxis) {\r\n                                min_1 = xAxis.getPrivate(\"min\");\r\n                                baseValue_1 = xAxis.baseValue();\r\n                                if ($type.isNumber(min_1) && min_1 > baseValue_1) {\r\n                                    baseValue_1 = min_1;\r\n                                }\r\n                                if (stacked) {\r\n                                    baseValue_1 = 0;\r\n                                }\r\n                                $array.each(this._valueXFields, function (key) {\r\n                                    promises.push(dataItem.animate({ key: key + \"Working\", to: baseValue_1, duration: duration, easing: easing }).waitForStop());\r\n                                });\r\n                            }\r\n                            return [4 /*yield*/, Promise.all(promises)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_markDirtyStack\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._stackDirty = true;\r\n            this.markDirty();\r\n            this._markStakedDirtyStack();\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_markStakedDirtyStack\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var stackedSeries = this._stackedSeries;\r\n            if (stackedSeries) {\r\n                $object.each(stackedSeries, function (_key, value) {\r\n                    if (!value._stackDirty) {\r\n                        value._markDirtyStack();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_afterChanged\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterChanged.call(this);\r\n            if (this._skipped) {\r\n                this._markDirtyAxes();\r\n                this._skipped = false;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * Shows a tooltip for specific data item.\r\n     *\r\n     * @param  dataItem  Data item\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"showDataItemTooltip\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            this.updateLegendMarker(dataItem);\r\n            this.updateLegendValue(dataItem);\r\n            if (this.get(\"tooltip\")) {\r\n                if (!this.isHidden()) {\r\n                    var tooltip = this.get(\"tooltip\");\r\n                    if (tooltip) {\r\n                        tooltip._setDataItem(dataItem);\r\n                        if (dataItem) {\r\n                            var locationX = this.get(\"locationX\", 0);\r\n                            var locationY = this.get(\"locationY\", 1);\r\n                            var itemLocationX = dataItem.get(\"locationX\", locationX);\r\n                            var itemLocationY = dataItem.get(\"locationY\", locationY);\r\n                            var xAxis = this.get(\"xAxis\");\r\n                            var yAxis = this.get(\"yAxis\");\r\n                            var vcx = this.get(\"vcx\", 1);\r\n                            var vcy = this.get(\"vcy\", 1);\r\n                            var xPos = xAxis.getDataItemPositionX(dataItem, this._tooltipFieldX, this._aLocationX0 + (this._aLocationX1 - this._aLocationX0) * itemLocationX, vcx);\r\n                            var yPos = yAxis.getDataItemPositionY(dataItem, this._tooltipFieldY, this._aLocationY0 + (this._aLocationY1 - this._aLocationY0) * itemLocationY, vcy);\r\n                            var point = this.getPoint(xPos, yPos);\r\n                            var show_1 = true;\r\n                            $array.each(this._valueFields, function (field) {\r\n                                if (dataItem.get(field) == null) {\r\n                                    show_1 = false;\r\n                                }\r\n                            });\r\n                            if (show_1) {\r\n                                var chart = this.chart;\r\n                                if (chart && chart.inPlot(point)) {\r\n                                    tooltip.label.text.markDirtyText();\r\n                                    tooltip.set(\"tooltipTarget\", this._getTooltipTarget(dataItem));\r\n                                    tooltip.set(\"pointTo\", this._display.toGlobal({ x: point.x, y: point.y }));\r\n                                }\r\n                                else {\r\n                                    tooltip._setDataItem(undefined);\r\n                                }\r\n                            }\r\n                            else {\r\n                                tooltip._setDataItem(undefined);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    this.hideTooltip();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_getTooltipTarget\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            if (this.get(\"seriesTooltipTarget\") == \"bullet\") {\r\n                var bullets = dataItem.bullets;\r\n                if (bullets && bullets.length > 0) {\r\n                    var bullet = bullets[0];\r\n                    var sprite = bullet.get(\"sprite\");\r\n                    if (sprite) {\r\n                        return sprite;\r\n                    }\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"updateLegendValue\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem) {\r\n            var legendDataItem = this.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                var label = legendDataItem.get(\"label\");\r\n                if (label) {\r\n                    var txt = \"\";\r\n                    if (dataItem) {\r\n                        label._setDataItem(dataItem);\r\n                        txt = this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\")));\r\n                    }\r\n                    else {\r\n                        label._setDataItem(this._emptyDataItem);\r\n                        txt = this.get(\"legendRangeLabelText\", this.get(\"legendLabelText\", label.get(\"text\", this.get(\"name\", \"\"))));\r\n                    }\r\n                    label.set(\"text\", txt);\r\n                }\r\n                var valueLabel = legendDataItem.get(\"valueLabel\");\r\n                if (valueLabel) {\r\n                    var txt = \"\";\r\n                    if (dataItem) {\r\n                        valueLabel._setDataItem(dataItem);\r\n                        txt = this.get(\"legendValueText\", valueLabel.get(\"text\", \"\"));\r\n                    }\r\n                    else {\r\n                        valueLabel._setDataItem(this._emptyDataItem);\r\n                        txt = this.get(\"legendRangeValueText\", valueLabel.get(\"text\", \"\"));\r\n                    }\r\n                    valueLabel.set(\"text\", txt);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_getItemReaderLabel\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var text = \"X: {\" + this._xField;\r\n            if (this.get(\"xAxis\").isType(\"DateAxis\")) {\r\n                text += \".formatDate()\";\r\n            }\r\n            text += \"}; Y: {\" + this._yField;\r\n            if (this.get(\"yAxis\").isType(\"DateAxis\")) {\r\n                text += \".formatDate()\";\r\n            }\r\n            text += \"}\";\r\n            return text;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"getPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (positionX, positionY) {\r\n            var x = this.get(\"xAxis\").get(\"renderer\").positionToCoordinate(positionX);\r\n            var y = this.get(\"yAxis\").get(\"renderer\").positionToCoordinate(positionY);\r\n            return { x: x, y: y };\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_shouldInclude\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_position) {\r\n            return true;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"handleCursorHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.hideTooltip();\r\n            this.updateLegendValue(undefined);\r\n            this.updateLegendMarker(undefined);\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"_afterDataChange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._afterDataChange.call(this);\r\n            this.resetExtremes();\r\n        }\r\n    });\r\n    // todo description\r\n    Object.defineProperty(XYSeries.prototype, \"resetExtremes\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.setPrivate(\"selectionMinX\", undefined);\r\n            this.setPrivate(\"selectionMaxX\", undefined);\r\n            this.setPrivate(\"selectionMinY\", undefined);\r\n            this.setPrivate(\"selectionMaxY\", undefined);\r\n            this.setPrivate(\"minX\", undefined);\r\n            this.setPrivate(\"minY\", undefined);\r\n            this.setPrivate(\"maxX\", undefined);\r\n            this.setPrivate(\"maxY\", undefined);\r\n        }\r\n    });\r\n    /**\r\n     * Creates and returns an axis range object.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/axis-ranges/} for more info\r\n     * @param   axisDataItem  Axis data item\r\n     * @return                Axis range\r\n     */\r\n    Object.defineProperty(XYSeries.prototype, \"createAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisDataItem) {\r\n            return this.axisRanges.push({\r\n                axisDataItem: axisDataItem\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYSeries, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"XYSeries\"\r\n    });\r\n    Object.defineProperty(XYSeries, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Series.classNames.concat([XYSeries.className])\r\n    });\r\n    return XYSeries;\r\n}(Series));\r\nexport { XYSeries };\r\n//# sourceMappingURL=XYSeries.js.map","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import { __extends } from \"tslib\";\r\nimport { XYSeries } from \"./XYSeries\";\r\nimport { Graphics } from \"../../../core/render/Graphics\";\r\nimport { line, area } from \"d3-shape\";\r\nimport { Template } from \"../../../core/util/Template\";\r\nimport { ListTemplate } from \"../../../core/util/List\";\r\nimport { color } from \"../../../core/util/Color\";\r\nimport { DataItem } from \"../../../core/render/Component\";\r\nimport { Rectangle } from \"../../../core/render/Rectangle\";\r\nimport * as $type from \"../../../core/util/Type\";\r\nimport * as $array from \"../../../core/util/Array\";\r\nimport * as $utils from \"../../../core/util/Utils\";\r\n/**\r\n * Used to plot line and/or area series.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/line-series/} for more info\r\n * @important\r\n */\r\nvar LineSeries = /** @class */ (function (_super) {\r\n    __extends(LineSeries, _super);\r\n    function LineSeries() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        Object.defineProperty(_this, \"_endIndex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_strokeGenerator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: line()\r\n        });\r\n        Object.defineProperty(_this, \"_fillGenerator\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: area()\r\n        });\r\n        Object.defineProperty(_this, \"_legendStroke\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_legendFill\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        /**\r\n         * A [[TemplateList]] of all line segments in series.\r\n         *\r\n         * `strokes.template` can be used to set default settings for all line\r\n         * segments, or to change on existing ones.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(_this, \"strokes\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Graphics._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"stroke\"])\r\n            }, [_this.strokes.template]); })\r\n        });\r\n        /**\r\n         * A [[TemplateList]] of all segment fills in series.\r\n         *\r\n         * `fills.template` can be used to set default settings for all segment\r\n         * fills, or to change on existing ones.\r\n         *\r\n         * @default new ListTemplate<Graphics>\r\n         */\r\n        Object.defineProperty(_this, \"fills\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: new ListTemplate(Template.new({}), function () { return Graphics._new(_this._root, {\r\n                themeTags: $utils.mergeTags(_this.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"fill\"])\r\n            }, [_this.fills.template]); })\r\n        });\r\n        // custom set from data\r\n        Object.defineProperty(_this, \"_fillTemplate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_strokeTemplate\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_previousPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: [0, 0, 0, 0]\r\n        });\r\n        Object.defineProperty(_this, \"_dindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        Object.defineProperty(_this, \"_sindex\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(LineSeries.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._fillGenerator.y0(function (p) {\r\n                return p[3];\r\n            });\r\n            this._fillGenerator.x0(function (p) {\r\n                return p[2];\r\n            });\r\n            this._fillGenerator.y1(function (p) {\r\n                return p[1];\r\n            });\r\n            this._fillGenerator.x1(function (p) {\r\n                return p[0];\r\n            });\r\n            _super.prototype._afterNew.call(this);\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(LineSeries.prototype, \"makeStroke\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (strokes) {\r\n            var stroke = this.mainContainer.children.push(strokes.make());\r\n            strokes.push(stroke);\r\n            return stroke;\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(LineSeries.prototype, \"makeFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (fills) {\r\n            var fill = this.mainContainer.children.push(fills.make());\r\n            fills.push(fill);\r\n            return fill;\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this._strokeTemplate = undefined;\r\n            this._fillTemplate = undefined;\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            if (this.isDirty(\"stroke\")) {\r\n                var stroke = this.get(\"stroke\");\r\n                this.strokes.template.set(\"stroke\", stroke);\r\n                var legendStroke = this._legendStroke;\r\n                if (legendStroke) {\r\n                    legendStroke.states.lookup(\"default\").set(\"stroke\", stroke);\r\n                }\r\n            }\r\n            if (this.isDirty(\"fill\")) {\r\n                var fill = this.get(\"fill\");\r\n                this.fills.template.set(\"fill\", fill);\r\n                var legendFill = this._legendFill;\r\n                if (legendFill) {\r\n                    legendFill.states.lookup(\"default\").set(\"fill\", fill);\r\n                }\r\n            }\r\n            if (this.isDirty(\"curveFactory\")) {\r\n                var curveFactory = this.get(\"curveFactory\");\r\n                if (curveFactory) {\r\n                    this._strokeGenerator.curve(curveFactory);\r\n                    this._fillGenerator.curve(curveFactory);\r\n                }\r\n            }\r\n            if (xAxis.inited && yAxis.inited) {\r\n                if (this._axesDirty || this._valuesDirty || this._stackDirty || this.isDirty(\"vcx\") || this.isDirty(\"vcy\") || this._sizeDirty || this.isDirty(\"connect\") || this.isDirty(\"curveFactory\")) {\r\n                    this.fills.each(function (fill) {\r\n                        fill.setPrivate(\"visible\", false);\r\n                    });\r\n                    this.strokes.each(function (fill) {\r\n                        fill.setPrivate(\"visible\", false);\r\n                    });\r\n                    this.axisRanges.each(function (axisRange) {\r\n                        var fills = axisRange.fills;\r\n                        if (fills) {\r\n                            fills.each(function (fill) {\r\n                                fill.setPrivate(\"visible\", false);\r\n                            });\r\n                        }\r\n                        var strokes = axisRange.strokes;\r\n                        if (strokes) {\r\n                            strokes.each(function (stroke) {\r\n                                stroke.setPrivate(\"visible\", false);\r\n                            });\r\n                        }\r\n                    });\r\n                    var startIndex = this.startIndex();\r\n                    var strokeTemplateField = this.strokes.template.get(\"templateField\");\r\n                    var fillTemplateField = this.fills.template.get(\"templateField\");\r\n                    var strokeTemplateFound = true;\r\n                    var fillTemplateFound = true;\r\n                    if (strokeTemplateField) {\r\n                        strokeTemplateFound = false;\r\n                    }\r\n                    if (fillTemplateField) {\r\n                        fillTemplateFound = false;\r\n                    }\r\n                    var _loop_1 = function (i) {\r\n                        var dataItem = this_1.dataItems[i];\r\n                        var hasValues = true;\r\n                        var dataContext = dataItem.dataContext;\r\n                        if (strokeTemplateField) {\r\n                            if (dataContext[strokeTemplateField]) {\r\n                                strokeTemplateFound = true;\r\n                            }\r\n                        }\r\n                        if (fillTemplateField) {\r\n                            if (dataContext[fillTemplateField]) {\r\n                                fillTemplateFound = true;\r\n                            }\r\n                        }\r\n                        $array.each(this_1._valueFields, function (field) {\r\n                            if (!$type.isNumber(dataItem.get(field))) {\r\n                                hasValues = false;\r\n                            }\r\n                        });\r\n                        if (hasValues && strokeTemplateFound && fillTemplateFound) {\r\n                            startIndex = i;\r\n                            return \"break\";\r\n                        }\r\n                    };\r\n                    var this_1 = this;\r\n                    for (var i = startIndex - 1; i >= 0; i--) {\r\n                        var state_1 = _loop_1(i);\r\n                        if (state_1 === \"break\")\r\n                            break;\r\n                    }\r\n                    var len = this.dataItems.length;\r\n                    var endIndex = this.endIndex();\r\n                    if (endIndex < len) {\r\n                        endIndex++;\r\n                        var _loop_2 = function (i) {\r\n                            var dataItem = this_2.dataItems[i];\r\n                            var hasValues = true;\r\n                            $array.each(this_2._valueFields, function (field) {\r\n                                if (!$type.isNumber(dataItem.get(field))) {\r\n                                    hasValues = false;\r\n                                }\r\n                            });\r\n                            if (hasValues) {\r\n                                endIndex = i + 1;\r\n                                return \"break\";\r\n                            }\r\n                        };\r\n                        var this_2 = this;\r\n                        for (var i = endIndex; i < len; i++) {\r\n                            var state_2 = _loop_2(i);\r\n                            if (state_2 === \"break\")\r\n                                break;\r\n                        }\r\n                    }\r\n                    if (startIndex > 0) {\r\n                        startIndex--;\r\n                    }\r\n                    this._endIndex = endIndex;\r\n                    this._clearGraphics();\r\n                    this._sindex = 0;\r\n                    this._dindex = startIndex;\r\n                    // this is done to avoid recursion with a lot of segments \r\n                    while (this._dindex < endIndex - 1) {\r\n                        this._startSegment(this._dindex);\r\n                        this._sindex++;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._skipped = true;\r\n            }\r\n            _super.prototype._updateChildren.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_clearGraphics\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            this.strokes.clear();\r\n            this.fills.clear();\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_startSegment\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItemIndex) {\r\n            var _this = this;\r\n            var endIndex = this._endIndex;\r\n            var currentEndIndex = endIndex;\r\n            var autoGapCount = this.get(\"autoGapCount\");\r\n            var connect = this.get(\"connect\");\r\n            var fill = this.makeFill(this.fills);\r\n            var fillTemplate = this._fillTemplate;\r\n            var originalTemplate = this.fills.template;\r\n            if (fillTemplate && fillTemplate != originalTemplate) {\r\n                fill.template = fillTemplate;\r\n            }\r\n            fill.setPrivate(\"visible\", true);\r\n            var stroke = this.makeStroke(this.strokes);\r\n            var strokeTemplate = this._strokeTemplate;\r\n            if (strokeTemplate && strokeTemplate != this.strokes.template) {\r\n                stroke.template = strokeTemplate;\r\n            }\r\n            stroke.setPrivate(\"visible\", true);\r\n            var xAxis = this.get(\"xAxis\");\r\n            var yAxis = this.get(\"yAxis\");\r\n            var baseAxis = this.get(\"baseAxis\");\r\n            var vcx = this.get(\"vcx\", 1);\r\n            var vcy = this.get(\"vcy\", 1);\r\n            var xField = this._xField;\r\n            var yField = this._yField;\r\n            var xOpenField = this._xOpenField;\r\n            var yOpenField = this._yOpenField;\r\n            var xOpenFieldValue = this.get(\"openValueXField\");\r\n            var yOpenFieldValue = this.get(\"openValueYField\");\r\n            if (!xOpenFieldValue) {\r\n                xOpenField = this._xField;\r\n            }\r\n            if (!yOpenFieldValue) {\r\n                yOpenField = this._yField;\r\n            }\r\n            var stacked = this.get(\"stacked\");\r\n            var basePosX = xAxis.basePosition();\r\n            var basePosY = yAxis.basePosition();\r\n            var baseField;\r\n            if (baseAxis === yAxis) {\r\n                baseField = this._yField;\r\n            }\r\n            else {\r\n                baseField = this._xField;\r\n            }\r\n            var segments = [];\r\n            var points = [];\r\n            segments.push(points);\r\n            var strokeTemplateField = this.strokes.template.get(\"templateField\");\r\n            var fillTemplateField = this.fills.template.get(\"templateField\");\r\n            var locationX = this.get(\"locationX\", 0.5);\r\n            var locationY = this.get(\"locationY\", 0.5);\r\n            var openLocationX = this.get(\"openLocationX\", locationX);\r\n            var openLocationY = this.get(\"openLocationY\", locationY);\r\n            var minDistance = this.get(\"minDistance\", 0);\r\n            var i;\r\n            var fillVisible = this.fills.template.get(\"visible\");\r\n            if (this.axisRanges.length > 0) {\r\n                fillVisible = true;\r\n            }\r\n            var getOpen = false;\r\n            if (stacked || xOpenFieldValue || yOpenFieldValue) {\r\n                getOpen = true;\r\n            }\r\n            var o = {\r\n                points: points,\r\n                segments: segments,\r\n                stacked: stacked,\r\n                getOpen: getOpen,\r\n                basePosX: basePosX,\r\n                basePosY: basePosY,\r\n                fillVisible: fillVisible,\r\n                xField: xField,\r\n                yField: yField,\r\n                xOpenField: xOpenField,\r\n                yOpenField: yOpenField,\r\n                vcx: vcx,\r\n                vcy: vcy,\r\n                baseAxis: baseAxis,\r\n                xAxis: xAxis,\r\n                yAxis: yAxis,\r\n                locationX: locationX,\r\n                locationY: locationY,\r\n                openLocationX: openLocationX,\r\n                openLocationY: openLocationY,\r\n                minDistance: minDistance\r\n            };\r\n            for (i = dataItemIndex; i < currentEndIndex; i++) {\r\n                this._dindex = i;\r\n                var dataItem = this._dataItems[i];\r\n                var valueX = dataItem.get(xField);\r\n                var valueY = dataItem.get(yField);\r\n                if (valueX == null || valueY == null) {\r\n                    if (!connect) {\r\n                        points = [];\r\n                        segments.push(points);\r\n                        o.points = points;\r\n                    }\r\n                }\r\n                else {\r\n                    this._getPoints(dataItem, o);\r\n                }\r\n                if (strokeTemplateField) {\r\n                    var strokeTemplate_1 = dataItem.dataContext[strokeTemplateField];\r\n                    if (strokeTemplate_1) {\r\n                        if (!(strokeTemplate_1 instanceof Template)) {\r\n                            strokeTemplate_1 = Template.new(strokeTemplate_1);\r\n                        }\r\n                        this._strokeTemplate = strokeTemplate_1;\r\n                        if (i > dataItemIndex) {\r\n                            currentEndIndex = i;\r\n                            break;\r\n                        }\r\n                        else {\r\n                            stroke.template = strokeTemplate_1;\r\n                        }\r\n                    }\r\n                }\r\n                if (fillTemplateField) {\r\n                    var fillTemplate_1 = dataItem.dataContext[fillTemplateField];\r\n                    if (fillTemplate_1) {\r\n                        if (!(fillTemplate_1 instanceof Template)) {\r\n                            fillTemplate_1 = Template.new(fillTemplate_1);\r\n                        }\r\n                        this._fillTemplate = fillTemplate_1;\r\n                        if (i > dataItemIndex) {\r\n                            currentEndIndex = i;\r\n                            break;\r\n                        }\r\n                        else {\r\n                            fill.template = fillTemplate_1;\r\n                        }\r\n                    }\r\n                }\r\n                if (!connect) {\r\n                    var nextItem = this.dataItems[i + 1];\r\n                    if (nextItem) {\r\n                        if (baseAxis.shouldGap(dataItem, nextItem, autoGapCount, baseField)) {\r\n                            points = [];\r\n                            segments.push(points);\r\n                            o.points = points;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            fill.setRaw(\"userData\", [dataItemIndex, i]);\r\n            stroke.setRaw(\"userData\", [dataItemIndex, i]);\r\n            if (i === endIndex) {\r\n                this._endLine(points, segments[0][0]);\r\n            }\r\n            if (stroke) {\r\n                this._drawStroke(stroke, segments);\r\n            }\r\n            if (fill) {\r\n                this._drawFill(fill, segments);\r\n            }\r\n            this.axisRanges.each(function (axisRange) {\r\n                var container = axisRange.container;\r\n                var fills = axisRange.fills;\r\n                var fill = _this.makeFill(fills);\r\n                if (container) {\r\n                    container.children.push(fill);\r\n                }\r\n                fill.setPrivate(\"visible\", true);\r\n                _this._drawFill(fill, segments);\r\n                var strokes = axisRange.strokes;\r\n                var stroke = _this.makeStroke(strokes);\r\n                if (container) {\r\n                    container.children.push(stroke);\r\n                }\r\n                stroke.setPrivate(\"visible\", true);\r\n                _this._drawStroke(stroke, segments);\r\n                fill.setRaw(\"userData\", [dataItemIndex, i]);\r\n                stroke.setRaw(\"userData\", [dataItemIndex, i]);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_getPoints\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (dataItem, o) {\r\n            var points = o.points;\r\n            var itemLocationX = dataItem.get(\"locationX\", o.locationX);\r\n            var itemLocationY = dataItem.get(\"locationY\", o.locationY);\r\n            var xPos = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX, o.vcx);\r\n            var yPos = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY, o.vcy);\r\n            if (this._shouldInclude(xPos)) {\r\n                var iPoint = this.getPoint(xPos, yPos);\r\n                var point = [iPoint.x, iPoint.y];\r\n                iPoint.x += this._x;\r\n                iPoint.y += this._y;\r\n                dataItem.set(\"point\", iPoint);\r\n                if (o.fillVisible) {\r\n                    var xPos0 = xPos;\r\n                    var yPos0 = yPos;\r\n                    if (o.baseAxis === o.xAxis) {\r\n                        yPos0 = o.basePosY;\r\n                    }\r\n                    else if (o.baseAxis === o.yAxis) {\r\n                        xPos0 = o.basePosX;\r\n                    }\r\n                    if (o.getOpen) {\r\n                        var valueX = dataItem.get(o.xOpenField);\r\n                        var valueY = dataItem.get(o.yOpenField);\r\n                        if (valueX != null && valueY != null) {\r\n                            var itemLocationX_1 = dataItem.get(\"openLocationX\", o.openLocationX);\r\n                            var itemLocationY_1 = dataItem.get(\"openLocationY\", o.openLocationY);\r\n                            if (o.stacked) {\r\n                                var stackToItemX = dataItem.get(\"stackToItemX\");\r\n                                var stackToItemY = dataItem.get(\"stackToItemY\");\r\n                                if (stackToItemX) {\r\n                                    xPos0 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX_1, stackToItemX.component.get(\"vcx\"));\r\n                                    if ($type.isNaN(xPos0)) {\r\n                                        xPos0 = o.basePosX;\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (o.yAxis === o.baseAxis) {\r\n                                        xPos0 = o.basePosX;\r\n                                    }\r\n                                    else {\r\n                                        xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX_1, o.vcx);\r\n                                    }\r\n                                }\r\n                                if (stackToItemY) {\r\n                                    yPos0 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY_1, stackToItemY.component.get(\"vcy\"));\r\n                                    if ($type.isNaN(yPos0)) {\r\n                                        yPos0 = o.basePosY;\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    if (o.xAxis === o.baseAxis) {\r\n                                        yPos0 = o.basePosY;\r\n                                    }\r\n                                    else {\r\n                                        yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY_1, o.vcy);\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX_1, o.vcx);\r\n                                yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY_1, o.vcy);\r\n                            }\r\n                        }\r\n                    }\r\n                    var closeIPoint = this.getPoint(xPos0, yPos0);\r\n                    point[2] = closeIPoint.x;\r\n                    point[3] = closeIPoint.y;\r\n                }\r\n                if (o.minDistance > 0) {\r\n                    var p0 = point[0];\r\n                    var p1 = point[1];\r\n                    var p2 = point[2];\r\n                    var p3 = point[3];\r\n                    var prev = this._previousPoint;\r\n                    var pp0 = prev[0];\r\n                    var pp1 = prev[1];\r\n                    var pp2 = prev[2];\r\n                    var pp3 = prev[3];\r\n                    if (Math.hypot(p0 - pp0, p1 - pp1) > o.minDistance || (p2 && p3 && Math.hypot(p2 - pp2, p3 - pp3) > o.minDistance)) {\r\n                        points.push(point);\r\n                        this._previousPoint = point;\r\n                    }\r\n                }\r\n                else {\r\n                    points.push(point);\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_endLine\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_points, _firstPoint) {\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_drawStroke\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (graphics, segments) {\r\n            var _this = this;\r\n            if (graphics.get(\"visible\")) {\r\n                graphics.set(\"draw\", function (display) {\r\n                    $array.each(segments, function (segment) {\r\n                        _this._strokeGenerator.context(display);\r\n                        _this._strokeGenerator(segment);\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_drawFill\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (graphics, segments) {\r\n            var _this = this;\r\n            if (graphics.get(\"visible\")) {\r\n                graphics.set(\"draw\", function (display) {\r\n                    $array.each(segments, function (segment) {\r\n                        _this._fillGenerator.context(display);\r\n                        _this._fillGenerator(segment);\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"_processAxisRange\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (axisRange) {\r\n            var _this = this;\r\n            _super.prototype._processAxisRange.call(this, axisRange);\r\n            axisRange.fills = new ListTemplate(Template.new({}), function () { return Graphics._new(_this._root, {\r\n                themeTags: $utils.mergeTags(axisRange.fills.template.get(\"themeTags\", []), [\"line\", \"series\", \"fill\"]),\r\n            }, [_this.fills.template, axisRange.fills.template]); });\r\n            axisRange.strokes = new ListTemplate(Template.new({}), function () { return Graphics._new(_this._root, {\r\n                themeTags: $utils.mergeTags(axisRange.strokes.template.get(\"themeTags\", []), [\"line\", \"series\", \"stroke\"]),\r\n            }, [_this.strokes.template, axisRange.strokes.template]); });\r\n        }\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    Object.defineProperty(LineSeries.prototype, \"createLegendMarker\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_dataItem) {\r\n            var legendDataItem = this.get(\"legendDataItem\");\r\n            if (legendDataItem) {\r\n                var marker = legendDataItem.get(\"marker\");\r\n                var markerRectangle = legendDataItem.get(\"markerRectangle\");\r\n                if (markerRectangle) {\r\n                    markerRectangle.setPrivate(\"visible\", false);\r\n                }\r\n                marker.set(\"background\", Rectangle.new(marker._root, { fillOpacity: 0, fill: color(0x000000) }));\r\n                var legendStroke = marker.children.push(Graphics._new(marker._root, {\r\n                    themeTags: [\"line\", \"series\", \"legend\", \"marker\", \"stroke\"], interactive: false\r\n                }, [this.strokes.template]));\r\n                this._legendStroke = legendStroke;\r\n                var legendFill = marker.children.push(Graphics._new(marker._root, {\r\n                    themeTags: [\"line\", \"series\", \"legend\", \"marker\", \"fill\"]\r\n                }, [this.fills.template]));\r\n                this._legendFill = legendFill;\r\n                var disabledColor = this._root.interfaceColors.get(\"disabled\");\r\n                legendStroke.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\r\n                legendFill.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\r\n                if (this.bullets.length > 0) {\r\n                    var bulletFunction = this.bullets.getIndex(0);\r\n                    if (bulletFunction) {\r\n                        var bullet = bulletFunction(marker._root, this, new DataItem(this, {}, {}));\r\n                        if (bullet) {\r\n                            var sprite = bullet.get(\"sprite\");\r\n                            if (sprite instanceof Graphics) {\r\n                                sprite.states.create(\"disabled\", { fill: disabledColor, stroke: disabledColor });\r\n                            }\r\n                            if (sprite) {\r\n                                sprite.set(\"tooltipText\", undefined);\r\n                                marker.children.push(sprite);\r\n                                sprite.setAll({ x: marker.width() / 2, y: marker.height() / 2 });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(LineSeries, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"LineSeries\"\r\n    });\r\n    Object.defineProperty(LineSeries, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: XYSeries.classNames.concat([LineSeries.className])\r\n    });\r\n    return LineSeries;\r\n}(XYSeries));\r\nexport { LineSeries };\r\n//# sourceMappingURL=LineSeries.js.map","import { __extends } from \"tslib\";\r\nimport { Container } from \"../../core/render/Container\";\r\nimport { p100 } from \"../../core/util/Percent\";\r\nimport { Graphics } from \"../../core/render/Graphics\";\r\nimport { Grid } from \"./axes/Grid\";\r\n//import { Animations } from \"../core/util/Animation\";\r\nimport * as $type from \"../../core/util/Type\";\r\nimport * as $utils from \"../../core/util/Utils\";\r\nimport * as $math from \"../../core/util/Math\";\r\nimport * as $array from \"../../core/util/Array\";\r\nimport * as $object from \"../../core/util/Object\";\r\n/**\r\n * Creates a chart cursor for an [[XYChart]].\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/cursor/} for more info\r\n * @important\r\n */\r\nvar XYCursor = /** @class */ (function (_super) {\r\n    __extends(XYCursor, _super);\r\n    function XYCursor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * A [[Grid]] elment that used for horizontal line of the cursor crosshair.\r\n         *\r\n         * @default Grid.new()\r\n         */\r\n        Object.defineProperty(_this, \"lineX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Grid.new(_this._root, {\r\n                themeTags: [\"x\"]\r\n            }))\r\n        });\r\n        /**\r\n         * A [[Grid]] elment that used for horizontal line of the cursor crosshair.\r\n         *\r\n         * @default Grid.new()\r\n         */\r\n        Object.defineProperty(_this, \"lineY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Grid.new(_this._root, {\r\n                themeTags: [\"y\"]\r\n            }))\r\n        });\r\n        /**\r\n         * An element that represents current selection.\r\n         *\r\n         * @default Graphics.new()\r\n         */\r\n        Object.defineProperty(_this, \"selection\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: _this.children.push(Graphics.new(_this._root, {\r\n                themeTags: [\"selection\", \"cursor\"], layer: 30\r\n            }))\r\n        });\r\n        Object.defineProperty(_this, \"_movePoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_lastPoint\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: { x: 0, y: 0 }\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        Object.defineProperty(_this, \"_tooltipY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: false\r\n        });\r\n        /**\r\n         * A chart cursor is attached to.\r\n         */\r\n        Object.defineProperty(_this, \"chart\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_toX\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        Object.defineProperty(_this, \"_toY\", {\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true,\r\n            value: void 0\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(XYCursor.prototype, \"_afterNew\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"xy\", \"cursor\"]);\r\n            _super.prototype._afterNew.call(this);\r\n            this.setAll({ \"width\": p100, height: p100, isMeasured: true, position: \"absolute\" });\r\n            this.states.create(\"hidden\", { visible: true, opacity: 0 });\r\n            this._drawLines();\r\n            this.setPrivateRaw(\"visible\", false);\r\n            this._disposers.push(this.setTimeout(function () {\r\n                _this.setPrivate(\"visible\", true);\r\n            }, 500));\r\n            this.lineX.events.on(\"positionchanged\", function () {\r\n                _this._handleXLine();\r\n            });\r\n            this.lineY.events.on(\"positionchanged\", function () {\r\n                _this._handleYLine();\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_setUpTouch\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                chart.plotContainer._display.cancelTouch = this.get(\"behavior\") != \"none\" ? true : false;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleXLine\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var x = this.lineX.x();\r\n            var visible = true;\r\n            if (x < 0 || x > this.width()) {\r\n                visible = false;\r\n            }\r\n            this.lineX.setPrivate(\"visible\", visible);\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleYLine\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var y = this.lineY.y();\r\n            var visible = true;\r\n            if (y < 0 || y > this.height()) {\r\n                visible = false;\r\n            }\r\n            this.lineY.setPrivate(\"visible\", visible);\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_prepareChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            _super.prototype._prepareChildren.call(this);\r\n            if (this.isDirty(\"xAxis\")) {\r\n                this._tooltipX = false;\r\n                var xAxis = this.get(\"xAxis\");\r\n                if (xAxis) {\r\n                    var tooltip_1 = xAxis.get(\"tooltip\");\r\n                    if (tooltip_1) {\r\n                        this._tooltipX = true;\r\n                        tooltip_1.on(\"pointTo\", function () {\r\n                            _this._updateXLine(tooltip_1);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            if (this.isDirty(\"yAxis\")) {\r\n                this._tooltipY = false;\r\n                var yAxis = this.get(\"yAxis\");\r\n                if (yAxis) {\r\n                    var tooltip_2 = yAxis.get(\"tooltip\");\r\n                    if (tooltip_2) {\r\n                        this._tooltipY = true;\r\n                        tooltip_2.on(\"pointTo\", function () {\r\n                            _this._updateYLine(tooltip_2);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleSyncWith\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                var syncWith = this.get(\"syncWith\");\r\n                var otherCharts_1 = [];\r\n                if (syncWith) {\r\n                    $array.each(syncWith, function (cursor) {\r\n                        var chart = cursor.chart;\r\n                        if (chart) {\r\n                            otherCharts_1.push(chart);\r\n                        }\r\n                    });\r\n                }\r\n                chart._otherCharts = otherCharts_1;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_updateChildren\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._updateChildren.call(this);\r\n            this._handleSyncWith();\r\n            if (this.isDirty(\"positionX\") || this.isDirty(\"positionY\")) {\r\n                var positionX = this.get(\"positionX\");\r\n                var positionY = this.get(\"positionY\");\r\n                if (positionX == null && positionY == null) {\r\n                    this.hide(0);\r\n                }\r\n                else {\r\n                    this._movePoint = this.toGlobal(this._getPoint(this.get(\"positionX\", 0), this.get(\"positionY\", 0)));\r\n                    this.handleMove();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_updateXLine\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip) {\r\n            var x = $math.round(this._display.toLocal(tooltip.get(\"pointTo\", { x: 0, y: 0 })).x, 2);\r\n            if (this._toX != x) {\r\n                this.lineX.animate({ key: \"x\", to: x, duration: tooltip.get(\"animationDuration\", 0), easing: tooltip.get(\"animationEasing\") });\r\n                this._toX = x;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_updateYLine\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (tooltip) {\r\n            var y = $math.round(this._display.toLocal(tooltip.get(\"pointTo\", { x: 0, y: 0 })).y, 2);\r\n            if (this._toY != y) {\r\n                this.lineY.animate({ key: \"y\", to: y, duration: tooltip.get(\"animationDuration\", 0), easing: tooltip.get(\"animationEasing\") });\r\n                this._toY = y;\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_drawLines\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            var _this = this;\r\n            this.lineX.set(\"draw\", function (display) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(0, _this.height());\r\n            });\r\n            this.lineY.set(\"draw\", function (display) {\r\n                display.moveTo(0, 0);\r\n                display.lineTo(_this.width(), 0);\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_setChart\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (chart) {\r\n            var _this = this;\r\n            this.chart = chart;\r\n            this._handleSyncWith();\r\n            var plotContainer = chart.plotContainer;\r\n            this.events.on(\"boundschanged\", function () {\r\n                _this._disposers.push(_this.setTimeout(function () {\r\n                    if (_this.get(\"alwaysShow\")) {\r\n                        _this._movePoint = _this.toGlobal(_this._getPoint(_this.get(\"positionX\", 0), _this.get(\"positionY\", 0)));\r\n                        _this.handleMove();\r\n                    }\r\n                }, 50));\r\n            });\r\n            //this._display.interactive = true;\r\n            if ($utils.supports(\"touchevents\")) {\r\n                this._disposers.push(plotContainer.events.on(\"click\", function (event) {\r\n                    if ($utils.isTouchEvent(event.originalEvent)) {\r\n                        _this._handleMove(event.originalEvent);\r\n                    }\r\n                }));\r\n                this._setUpTouch();\r\n            }\r\n            this._disposers.push(plotContainer.events.on(\"pointerdown\", function (event) {\r\n                _this._handleCursorDown(event.originalEvent);\r\n            }));\r\n            this._disposers.push(plotContainer.events.on(\"globalpointerup\", function (event) {\r\n                _this._handleCursorUp(event.originalEvent);\r\n                if (!event.native && !_this.isHidden()) {\r\n                    _this._handleMove(event.originalEvent);\r\n                }\r\n            }));\r\n            this._disposers.push(plotContainer.events.on(\"globalpointermove\", function (event) {\r\n                if (!_this.get(\"syncWith\")) {\r\n                    if ($object.keys(plotContainer._downPoints).length == 0 && !event.native && _this.isHidden()) {\r\n                        // Ignore mouse movement if it originates on outside element and\r\n                        // we're not dragging.\r\n                        return;\r\n                    }\r\n                }\r\n                _this._handleMove(event.originalEvent);\r\n            }));\r\n            var parent = this.parent;\r\n            if (parent) {\r\n                parent.children.moveValue(this.selection);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_inPlot\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                return chart.inPlot(point);\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleCursorDown\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            var rootPoint = this._root.documentPointToRoot({ x: event.clientX, y: event.clientY });\r\n            var local = this._display.toLocal(rootPoint);\r\n            var chart = this.chart;\r\n            this.selection.set(\"draw\", function () { });\r\n            if (chart && this._inPlot(local)) {\r\n                this._downPoint = local;\r\n                if (this.get(\"behavior\") != \"none\") {\r\n                    this.selection.show();\r\n                    var type = \"selectstarted\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                }\r\n                var positionX = this._getPosition(local).x;\r\n                var positionY = this._getPosition(local).y;\r\n                this.setPrivate(\"downPositionX\", positionX);\r\n                this.setPrivate(\"downPositionY\", positionY);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleCursorUp\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (_event) {\r\n            // TODO: handle multitouch\r\n            if (this._downPoint) {\r\n                var behavior = this.get(\"behavior\", \"none\");\r\n                if (behavior != \"none\") {\r\n                    if (behavior.charAt(0) === \"z\") {\r\n                        this.selection.hide();\r\n                    }\r\n                    var userPositionX = this.get(\"positionX\");\r\n                    var positionX = this.getPrivate(\"positionX\", 0);\r\n                    if ($type.isNumber(userPositionX)) {\r\n                        positionX = userPositionX;\r\n                    }\r\n                    var userPositionY = this.get(\"positionY\");\r\n                    var positionY = this.getPrivate(\"positionY\", 0);\r\n                    if ($type.isNumber(userPositionY)) {\r\n                        positionY = userPositionY;\r\n                    }\r\n                    var dispatch = false;\r\n                    if (behavior === \"zoomX\" || behavior === \"zoomXY\" || behavior === \"selectX\" || behavior === \"selectXY\") {\r\n                        if (Math.abs(positionX - this.getPrivate(\"downPositionX\", 0)) > 0.003) {\r\n                            dispatch = true;\r\n                        }\r\n                    }\r\n                    if (behavior === \"zoomY\" || behavior === \"zoomXY\" || behavior === \"selectY\" || behavior === \"selectXY\") {\r\n                        if (Math.abs(positionY - this.getPrivate(\"downPositionY\", 0)) > 0.003) {\r\n                            dispatch = true;\r\n                        }\r\n                    }\r\n                    if (dispatch) {\r\n                        var type = \"selectended\";\r\n                        if (this.events.isEnabled(type)) {\r\n                            this.events.dispatch(type, { type: type, target: this });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._downPoint = undefined;\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_handleMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (event) {\r\n            if (this.getPrivate(\"visible\")) {\r\n                var chart = this.chart;\r\n                if (chart && $object.keys(chart.plotContainer._downPoints).length > 1) {\r\n                    this.set(\"forceHidden\", true);\r\n                    return;\r\n                }\r\n                else {\r\n                    this.set(\"forceHidden\", false);\r\n                }\r\n                // TODO: handle multitouch\r\n                var rootPoint = this._root.documentPointToRoot({ x: event.clientX, y: event.clientY });\r\n                var lastPoint = this._lastPoint;\r\n                if (Math.round(lastPoint.x) === Math.round(rootPoint.x) && Math.round(lastPoint.y) === Math.round(rootPoint.y)) {\r\n                    return;\r\n                }\r\n                this._lastPoint = rootPoint;\r\n                this.handleMove({ x: rootPoint.x, y: rootPoint.y });\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_getPosition\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            return { x: point.x / this.width(), y: point.y / this.height() };\r\n        }\r\n    });\r\n    /**\r\n     * Moves the cursor to X/Y coordinates within chart container (`point`).\r\n     *\r\n     * If `skipEvent` parameter is set to `true`, the move will not invoke\r\n     * the `\"cursormoved\"` event.\r\n     *\r\n     * @param  point      X/Y to move cursor to\r\n     * @param  skipEvent  Do not fire \"cursormoved\" event\r\n     */\r\n    Object.defineProperty(XYCursor.prototype, \"handleMove\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point, skipEvent) {\r\n            if (!point) {\r\n                point = this._movePoint;\r\n            }\r\n            var alwaysShow = this.get(\"alwaysShow\");\r\n            if (!point) {\r\n                this.hide(0);\r\n                return;\r\n            }\r\n            this._movePoint = point;\r\n            var local = this._display.toLocal(point);\r\n            var chart = this.chart;\r\n            if (chart && this._inPlot(local)) {\r\n                chart._movePoint = point;\r\n                if (this.isHidden()) {\r\n                    this.show();\r\n                    var behavior = this.get(\"behavior\", \"\");\r\n                    if (behavior.charAt(0) == \"z\") {\r\n                        this.selection.set(\"draw\", function () { });\r\n                    }\r\n                }\r\n                var x = local.x;\r\n                var y = local.y;\r\n                var xyPos = this._getPosition(local);\r\n                this.setPrivate(\"point\", local);\r\n                var snapToSeries_1 = this.get(\"snapToSeries\");\r\n                var userPositionX = this.get(\"positionX\");\r\n                var positionX_1 = xyPos.x;\r\n                if ($type.isNumber(userPositionX)) {\r\n                    positionX_1 = userPositionX;\r\n                }\r\n                var userPositionY = this.get(\"positionY\");\r\n                var positionY_1 = xyPos.y;\r\n                if ($type.isNumber(userPositionY)) {\r\n                    positionY_1 = userPositionY;\r\n                }\r\n                this.setPrivate(\"positionX\", positionX_1);\r\n                this.setPrivate(\"positionY\", positionY_1);\r\n                var xy = this._getPoint(positionX_1, positionY_1);\r\n                x = xy.x;\r\n                y = xy.y;\r\n                chart.xAxes.each(function (axis) {\r\n                    axis._handleCursorPosition(positionX_1, snapToSeries_1);\r\n                    if (alwaysShow) {\r\n                        axis.handleCursorShow();\r\n                    }\r\n                });\r\n                chart.yAxes.each(function (axis) {\r\n                    axis._handleCursorPosition(positionY_1, snapToSeries_1);\r\n                    if (alwaysShow) {\r\n                        axis.handleCursorShow();\r\n                    }\r\n                });\r\n                if (!skipEvent) {\r\n                    chart._handleCursorPosition();\r\n                    var type = \"cursormoved\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                }\r\n                this._updateLines(x, y);\r\n                chart.arrangeTooltips();\r\n            }\r\n            else if (!this._downPoint) {\r\n                if (!alwaysShow) {\r\n                    this.hide(0);\r\n                    var type = \"cursorhidden\";\r\n                    if (this.events.isEnabled(type)) {\r\n                        this.events.dispatch(type, { type: type, target: this });\r\n                    }\r\n                }\r\n            }\r\n            if (this._downPoint && this.get(\"behavior\") != \"none\") {\r\n                this._updateSelection(local);\r\n            }\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_getPoint\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (positionX, positionY) {\r\n            return { x: this.width() * positionX, y: this.height() * positionY };\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_updateLines\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (x, y) {\r\n            if (!this._tooltipX) {\r\n                this.lineX.set(\"x\", x);\r\n            }\r\n            if (!this._tooltipY) {\r\n                this.lineY.set(\"y\", y);\r\n            }\r\n            this._drawLines();\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_updateSelection\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function (point) {\r\n            var _this = this;\r\n            var selection = this.selection;\r\n            var behavior = this.get(\"behavior\");\r\n            var w = this.width();\r\n            var h = this.height();\r\n            if (point.x < 0) {\r\n                point.x = 0;\r\n            }\r\n            if (point.x > w) {\r\n                point.x = w;\r\n            }\r\n            if (point.y < 0) {\r\n                point.y = 0;\r\n            }\r\n            if (point.y > h) {\r\n                point.y = h;\r\n            }\r\n            selection.set(\"draw\", function (display) {\r\n                var downPoint = _this._downPoint;\r\n                if (downPoint) {\r\n                    if (behavior === \"zoomXY\" || behavior === \"selectXY\") {\r\n                        display.moveTo(downPoint.x, downPoint.y);\r\n                        display.lineTo(downPoint.x, point.y);\r\n                        display.lineTo(point.x, point.y);\r\n                        display.lineTo(point.x, downPoint.y);\r\n                        display.lineTo(downPoint.x, downPoint.y);\r\n                    }\r\n                    else if (behavior === \"zoomX\" || behavior === \"selectX\") {\r\n                        display.moveTo(downPoint.x, 0);\r\n                        display.lineTo(downPoint.x, h);\r\n                        display.lineTo(point.x, h);\r\n                        display.lineTo(point.x, 0);\r\n                        display.lineTo(downPoint.x, 0);\r\n                    }\r\n                    else if (behavior === \"zoomY\" || behavior === \"selectY\") {\r\n                        display.moveTo(0, downPoint.y);\r\n                        display.lineTo(w, downPoint.y);\r\n                        display.lineTo(w, point.y);\r\n                        display.lineTo(0, point.y);\r\n                        display.lineTo(0, downPoint.y);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_onHide\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (this.isHidden()) {\r\n                var chart = this.chart;\r\n                if (chart) {\r\n                    chart.xAxes.each(function (axis) {\r\n                        axis.handleCursorHide();\r\n                    });\r\n                    chart.yAxes.each(function (axis) {\r\n                        axis.handleCursorHide();\r\n                    });\r\n                    chart.series.each(function (series) {\r\n                        series.handleCursorHide();\r\n                    });\r\n                }\r\n            }\r\n            _super.prototype._onHide.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_onShow\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            if (!this.isHidden()) {\r\n                var chart = this.chart;\r\n                if (chart) {\r\n                    chart.xAxes.each(function (axis) {\r\n                        axis.handleCursorShow();\r\n                    });\r\n                    chart.yAxes.each(function (axis) {\r\n                        axis.handleCursorShow();\r\n                    });\r\n                }\r\n            }\r\n            _super.prototype._onShow.call(this);\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"_dispose\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype._dispose.call(this);\r\n            this.selection.dispose();\r\n        }\r\n    });\r\n    Object.defineProperty(XYCursor, \"className\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: \"XYCursor\"\r\n    });\r\n    Object.defineProperty(XYCursor, \"classNames\", {\r\n        enumerable: true,\r\n        configurable: true,\r\n        writable: true,\r\n        value: Container.classNames.concat([XYCursor.className])\r\n    });\r\n    return XYCursor;\r\n}(Container));\r\nexport { XYCursor };\r\n//# sourceMappingURL=XYCursor.js.map","import { __extends } from \"tslib\";\r\nimport { Theme } from \"../core/Theme\";\r\n/**\r\n * @ignore\r\n */\r\nvar AnimatedTheme = /** @class */ (function (_super) {\r\n    __extends(AnimatedTheme, _super);\r\n    function AnimatedTheme() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(AnimatedTheme.prototype, \"setupDefaultRules\", {\r\n        enumerable: false,\r\n        configurable: true,\r\n        writable: true,\r\n        value: function () {\r\n            _super.prototype.setupDefaultRules.call(this);\r\n            this.rule(\"Component\").setAll({\r\n                interpolationDuration: 600\r\n            });\r\n            this.rule(\"Hierarchy\").set(\"animationDuration\", 600);\r\n            this.rule(\"Scrollbar\").set(\"animationDuration\", 600);\r\n            this.rule(\"Tooltip\").set(\"animationDuration\", 300);\r\n            this.rule(\"MapChart\").set(\"animationDuration\", 1000);\r\n            this.rule(\"MapChart\").set(\"wheelDuration\", 300);\r\n            this.rule(\"Entity\").setAll({\r\n                stateAnimationDuration: 600\r\n            });\r\n            this.rule(\"Sprite\").states.create(\"default\", { stateAnimationDuration: 600 });\r\n            this.rule(\"Tooltip\", [\"axis\"]).setAll({\r\n                animationDuration: 200\r\n            });\r\n            this.rule(\"WordCloud\").set(\"animationDuration\", 500);\r\n        }\r\n    });\r\n    return AnimatedTheme;\r\n}(Theme));\r\nexport { AnimatedTheme };\r\n//# sourceMappingURL=AnimatedTheme.js.map","import { AnimatedTheme } from \"../.internal/themes/AnimatedTheme\";\r\nexport default AnimatedTheme;\r\n//# sourceMappingURL=Animated.js.map","import { render } from \"./AboutView.vue?vue&type=template&id=f8186fd4\"\nimport script from \"./AboutView.vue?vue&type=script&lang=js\"\nexport * from \"./AboutView.vue?vue&type=script&lang=js\"\n\nimport \"./AboutView.vue?vue&type=style&index=0&id=f8186fd4&lang=css\"\n\nimport exportComponent from \"F:\\\\programming\\\\frontend\\\\2022\\\\mySites\\\\interVeiwTask\\\\20.06.2022Vuefirst\\\\firstwork\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["uncurryThis","defineBuiltIn","DatePrototype","Date","prototype","INVALID_DATE","TO_STRING","un$DateToString","getTime","String","NaN","value","this","class","_createElementVNode","ref","id","_createElementBlock","_hoisted_2","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","__extends","TypeError","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","pop","push","__read","o","m","r","ar","error","__spreadArray","to","from","pack","l","slice","concat","indexOf","array","any","test","map","fn","output","each","eachReverse","eachContinue","remove","element","found","index","splice","removeFirst","pushOne","copy","insertIndex","removeIndex","findIndex","matches","findIndexReverse","find","findReverse","getSortedIndex","ordering","start","end","pivot","order","getFirstSortedIndex","keepIf","keep","DisposerClass","defineProperty","enumerable","configurable","writable","_disposed","_dispose","Disposer","dispose","ArrayDisposer","_super","_this","_disposers","x","MultiDisposer","disposers","CounterDisposer","MutableValueDisposer","_disposer","undefined","_value","disposer","set","_counter","Number","getType","toString","toNumber","isNumber","converted","isString","replace","toDate","isDate","num","numberToString","Infinity","negative","Math","abs","res","parsed","exec","digits","decimals","exponent","zeros","repeat","string","amount","join","isObject","PLACEHOLDER","PLACEHOLDER2","EventDispatcher","_listeners","_killed","_disabled","_iterating","_enabled","a","type","killed","listener","Error","once","callback","context","_eachListener","info","hasListenersByType","count","_removeListener","event","_shouldDispatch","dispatch","shouldClone","_removeExistingListener","_on","_type","source","onAll","on","TargetedEventDispatcher","target","checkBounds","len","List","initial","_values","get","newValue","events","isEnabled","oldValue","oldIndex","newIndex","oldValues","_onSetIndex","_onInsertIndex","value_a","value_b","_onRemoveIndex","toIndex","toIndex_1","_onMoveIndex","_onPush","values","pushAll","newArray","old","_onClear","setAll","_a","ListAutoDispose","autoDispose","ListTemplate","template","make","Children","container","_container","_events","change","_onRemoved","_onInserted","child","_setParent","childrenDisplay","_childrenDisplay","addChild","_display","addChildAt","removeChild","markDirtyBounds","markDirty","Percent","percent","min","max","rootStylesheet","p100","p50","keys","object","keysOrdered","sort","forEach","key","hasKey","removeElement","el","parentNode","addEventListener","dom","options","removeEventListener","supports","cap","window","getPointerId","pointerId","document","activeElement","blur","input","createElement","style","position","top","left","appendChild","focus","getRendererEvent","isTouchEvent","ev","Touch","PointerEvent","pointerType","MouseEvent","match","setStyle","property","getStyle","contains","cursor","host","isLocalEvent","root","setInteractive","interactive","pointerEvents","createStylesheet","text","nonce","setAttribute","textContent","head","getStylesheet","sheet","appendStylesheet","selector","cssRules","insertRule","StyleRule","styles","_root","_rule","selectorText","deleteRule","name","setProperty","_setVendorPrefixName","StyleSheet","_element","iOS","navigator","vendor","getSafeResolution","relativeToValue","full","decimalPlaces","number","padString","char","trimLeft","trimRight","trim","getFormat","format","toLowerCase","hints","cleanFormat","stripTags","escapeForRgex","getYearDay","date","utc","getFullYear","diff","getTimezoneOffset","oneDay","floor","getWeek","_utc","UTC","getMonth","getDate","day","getUTCDay","setUTCDate","getUTCDate","firstDay","getUTCFullYear","ceil","getMonthWeek","firstWeek","currentWeek","getDayFromWeek","week","year","weekday","setUTCFullYear","getDay","get12Hours","hours","base","getTimeZone","long","savings","wotz","toLocaleString","wtz","timeZoneName","substr","capitalizeFirst","charAt","toUpperCase","hslToRgb","color","h","hue2rgb","q","round","rgbToHsl","lighten","rgb","getLightnessStep","brighten","isLight","saturate","saturation","hsl","alternativeColor","lightAlternative","darkAlternative","light","dark","mergeTags","tags1","tags2","filter","self","sameBounds","right","bottom","string2hex","parseInt","rgba2hex","hex","val","Color","fromAny","_hex","alpha","fromRGB","toCSSHex","fromString","fromCSS","fromHex","mode","fromHSL","toHSL","range","waitForAnimations","animations","promises_1","animation","waitForStop","all","defaultInterpolate","percentInterpolate","colorInterpolate","interpolate","getInterpolate","AnimationTime","entity","duration","_entity","_duration","currentTime","_playingDuration","_startingTime","_from","_to","_current","_stopEvent","progress","_addAnimation","jumpTo","_play","easing","linear","cubic","out","ease","tau","PI","amplitude","period","asin","State","settings","_settings","fallback","_userSettings","setRaw","seen","defaultState","states","lookup","_eachSetting","stateAnimationDuration","stateAnimationEasing","animate","States","_states","state","state_1","newState","_applyState","applyAnimate","_applyStateAnimated","Registry","registry","compare","compareArray","leftLength","rightLength","compareNumber","Adapters","callbacks","_callbacks","_markDirtyKey","Animation","loops","startingTime","_easing","_loops","_interpolate","_oldTime","_playing","_stopped","_time","_reject","stopped_1","counter","Settings","_userProperties","isDisposed","_animatingSettings","_stopAnimation","_run","percentage","_checkEnded","_reset","_set","_animatingPrivateSettings","_stopAnimationPrivate","setPrivate","_setPrivate","_animatingCount","_key","_settingEvents","_privateSettingEvents","getRaw","_prevSettings","_sendKeyEvent","_setRaw","stop","_privateSettings","_prevPrivateSettings","_sendPrivateKeyEvent","_setPrivateRaw","_markDirtyPrivateKey","animation_1","_animationTime","_startAnimation","getPrivate","animation_2","Entity","isReal","templates","_createEvents","_internalTemplates","_template","_afterNew","_checkDirty","shouldApply","_setObjectTemplate","_applyTemplates","_setDefaults","_applyThemes","classNames","className","_dirty","_dirtyPrivate","_disposerProperties","_removeObjectTemplate","_addDirtyEntity","animationTime","_name","adapters","fold","_removeTemplateProperty","_userPrivateProperties","setPrivateRaw","_removeTemplatePrivateProperty","_findTemplateByKey","_findTemplateByPrivateKey","removePrivate","_rootContainer","other","_eachTemplate","_apply","_templateDisposers","privateSettings","_runSetup","setup","_findStaticTemplate","_templates","_disposeTemplates","_applyTemplate","value_1","_findTemplate","isConnected","defaults","themes","themeTags","Set","tags","tag","add","_walkParents","_defaultThemes","theme","_removeTemplates","allRules","rules","_lookupRules","rule","every","has","isDirty","entitiesById","prevId","delay","setTimeout","removeDispose","clearTimeout","hasTag","locale","rest","_i","language","translate","TemplateState","_stateChanged","TemplateStates","TemplateAdapters","Template","_entities","_setTemplateProperty","_setTemplatePrivateProperty","onPrivate","copyFrom","_applyStateByKey","RADIANS","DEGREES","precision","rounded","pow","fitToRange","sin","angle","cos","normalizeAngle","getArcBounds","cx","cy","startAngle","endAngle","radius","minX","MAX_VALUE","minY","maxX","maxY","bpoints","getArcPoint","fromAngle","toAngle","pt","arc","BlendMode","SpriteEventDispatcher","sprite","_sprite","originalEvent","point","simulated","native","_rendererDisposers","disposer_1","increment","rendererEvent","RENDERER_EVENTS","_onRenderer","_dispatchParents","parent","dispatchParents","isDragging","_hasDown","_hasMoved","_makePointerEvent","Sprite","_addPercentagePositionChildren","markDirtyPosition","_templateField","field","dataItem","dataContext","_removeTemplateField","oldDataItem","_dataItem","_processTemplateField","eventType","newDataItem","parent_1","_parent","_setDataItem","_percentageSizeChildren","_percentagePositionChildren","_addDirtyPosition","bounds","_localBounds","centerX","centerY","_beforeChanged","_handleStates","previous","tooltip","setLayer","markDirtyLayer","tooltipMoveDp","_tooltipMoveDp","tooltipPointerDp","_tooltipPointerDp","showTooltip","_statesHandled","isHidden","markDirtyAccessibility","_changed","display","draggable","_dragDp","dragStart","dragMove","dragStop","cancelTouch","tooltipText","_tooltipDp","hideTooltip","toggleKey_1","_toggleDp","_isDragging","scale","updatePivotPoint","isPrivateDirty","visible","_addPercentageSizeChildren","parent_2","_prevWidth","_sizeDirty","_updateSize","wheelable","_registerTabindexOrder","_unregisterTabindexOrder","cursorOverStyle","_focusDp","exportable","events_1","_hoverDp","_handleOver","_handleOut","_isDown","_handleUp","_handleDown","inactive","_dragEvent","stopParentDispatch","_dragPoint","isHover","_downPoint","_downPoints","downPoint","dragEvent","parent_3","dragPoint","hypot","getLocalBounds","depth","_addDirtyBounds","isMeasured","invalidateBounds","parent_4","isFocus","_invalidateAccessibility","newBounds","oldBounds","_adjustedLocalBounds","_getBounds","_fixMinBounds","getAdjustedBounds","minWidth","minHeight","privateWidth","privateHeight","children","removeValue","_clearDirty","getTooltip","tooltipPosition","tooltipTarget","_setMatrix","toGlobal","_getTooltipPoint","width","height","markDirtyText","promise","show","hide","parent_5","dx","dy","_x","xx","yy","innerWidth","_y","innerHeight","_removeParent","_removeFocusElement","localBounds","p0","p1","p2","p3","success","_error","_isShowing","_isHidden","_isHiding","_onShow","_onHide","hovering","focused","isVisibleDeep","isVisible","maxWidth","w","parent_6","maxHeight","parent_7","_walkParent","updateChildren","prevParent","numberFormatter","dateFormatter","durationFormatter","toLocal","_getDownPointId","moveValue","Graphics","_renderer","makeGraphics","_clear","gradient","gradientTarget","clear","strokeDasharray","setLineDash","strokeDashoffset","setLineDashOffset","blendMode","NORMAL","draw","svgPath","_afterChanged","fill_1","fillGradient","fillPattern","fillOpacity_1","stroke_1","strokeGradient","strokePattern","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","shadow","changed","pattern","beginFill","endFill","stops","colorInherited","opacity","opacityInherited","getFill","strokeOpacity_1","strokeWidth","lineStyle","endStroke","Rectangle","_draw","drawRect","eachChildren","Layout","HorizontalLayout","paddingLeft","availableWidth","totalPercent","childWidth","prevX","adjustedLocalBounds","marginLeft","marginRight","VerticalLayout","paddingTop","availableHeight","childHeight","prevY","marginTop","marginBottom","GridLayout","_setRawDefault","paddingRight","minCellWidth","maxCellWidth","columnCount","columnWidths","getColumnWidths","column","maxColumnHeight","totalWidth","Container","makeContainer","allChildren","interactiveChildren","_prevHeight","layout","contentMask","_contentMask","mask","updateBackground","background","verticalScrollbar","_contentHeight","bg","pWidth","pHeight","horizontal","vertical","l_1","r_1","t_1","b_1","paddingBottom","childBounds","childX","childY","cl","cr","ct","cb","_contentWidth","updateContainer","_updateBounds","_addDirtyParent","horizontal_1","vertical_1","verticalScrollbar_1","startGrip","endGrip","fillOpacity","fill","interfaceColors","wheelEvent","preventDefault","shiftY","deltaY","walkChildren","TextFormatter","prefix","RegExp","quotedBlocks","noFormatting","escape","chunks","split","chunk","chunks2","i2","chunk2","cleanUp","unescape","isImage","fontWeight","textDecoration","populateString","getTagValue","tagName","parts","reg","prop","dateFields","getDateFormatter","numericFields","getNumberFormatter","durationFields","getDurationFormatter","method","params","reg2","matches2","getTagValueFromObject","component","getCustomDataValue","customData","current","formatApplied","part","tmp","numberValue","dateValue","durationValue","encodeURIComponent","formatParts","formatterType","Text","makeTextStyle","makeText","textStyle","_getText","updateTooltip","wordWrapWidth","oversizedBehavior","breakWords","ellipsis","ignoreFormatting","minScale","_textStyles","styleName","Native","_observer","ResizeObserver","entries","entry","_targets","observe","box","unobserve","Raf","_timer","lastTime_1","loop_1","now","newSize","getBoundingClientRect","size","requestAnimationFrame","cancelAnimationFrame","observer","makeSensor","ResizeSensor","_sensor","addTarget","removeTarget","InterfaceColors","Label","_text","_makeText","_textKeys","propValue","_updateChildren","_setMaxDimentions","textAlign","rotation","PointedRectangle","bwh","xtl","ytl","xtr","ytr","xbr","ybr","xbl","ybl","d1","d2","moveTo","stemX","lineTo","arcTo","stemY","Tooltip","_label","_updateBackground","_updateTextColor","tooltipContainer","_tooltips","labelText","updateBackgroundColor","stroke","_fillDp","_strokeDp","_labelDp","alternative","cw","ch","parentW","parentH","_w","_h","pointTo","pointerOrientation","pointerLength","bgStrokeSizeY","bgStrokeSizeX","pointerX","pointerY","boundsW","boundsH","_fx","_fy","animationDuration","animationEasing","NumberFormatter","_setDefault","bns","sns","bs","_t","suffix","formatted","Intl","NumberFormat","parseFormat","details","positive","zero","mod","active","applyFormat","thousandSeparator","translateEmpty","decimalSeparator","_part","item","partFormat","mods","modSpacing","thousands","passive","interval","a_1","applyPrefix","a_2","ol","parseFloat","toPrecision","exp","toExponential","ints","ip","intsr","reverse","c","unshift","separator","decs","prefixes","force","newvalue","applied","k","DateFormatter","locales","DateTimeFormat","timezone","convertLocal","fullYear","month","minutes","seconds","milliseconds","offset","timestamp","getUTCMonth","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","getHours","getMinutes","getSeconds","getMilliseconds","_getMonth","_getShortMonth","translateFunc","_getShortWeekday","firstDayOfWeek","tz","tzh","tzm","toISOString","toUTCString","dateFormat","_months","_shortMonths","_weekdays","_shortWeekdays","parsedIndexes","resValues","indexAdjust","year3","year2","year1","getStringList","monthLong","monthShort","yearDay","weekdayLong","weekdayShort","am","hour12Base1","hourBase0","hour12Base0","hourBase1","minute","second","millisecond","millisecondDigits","zone","iso","regex","resolveMonth","resolveShortMonth","hour","isAm","ts","resolveTimezoneOffset","dir","originalOffset","isDefault","translateAll","list","DurationFormatter","dmillisecond","dsecond","dminute","dhour","dday","dweek","dmonth","dyear","asecond","aminute","ahour","aday","aweek","amonth","ayear","baseUnit","dirs","absolute","_unitAliases","tstamp","toTimeStamp","unit","_toTimeUnit","_getUnitValue","code","maxValue","maxUnit","getValueUnit","currentUnit","ms","_getUnitValues","timeUnit","Language","en","prompt","translation","localeTarget","Theme","setupDefaultRules","themeClass","_rules","ruleRaw","setColor","ic","DefaultTheme","horizontalLayout","verticalLayout","bind","primaryButton","primaryButtonHover","primaryButtonDown","primaryButtonActive","primaryButtonText","primaryButtonStroke","secondaryButton","secondaryButtonHover","secondaryButtonDown","secondaryButtonActive","secondaryButtonText","secondaryButtonStroke","grid","alternativeBackground","alternativeText","disabled","passOptions","hue","lightness","colors","reuse","startIndex","interpolationDuration","interpolationEasing","tooltipX","tooltipY","setStateOnChildren","repetition","gap","colorOpacity","checkered","centered","fillField","strokeField","nameField","layer","clickTarget","ariaChecked","focusable","ariaLabel","cornerRadiusBL","cornerRadiusTL","cornerRadiusBR","cornerRadiusTR","populateText","stepCount","fontFamily","fontSize","textType","inside","baseRadius","orientation","pointerBaseWidth","cornerRadius","shiftRadius","dRadius","dInnerRadius","strokeOpacity","locationX","locationY","getFillFromSprite","getStrokeFromSprite","autoTextColor","role","ariaValueMin","ariaValueMax","toggleKey","ariaLive","spikes","innerRadius","Matrix","tx","ty","pivotX","pivotY","origin","matrix","a1","b1","c1","tx1","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","err","isArray","TAU","mapToEllipse","_ref","rx","ry","cosphi","sinphi","centerx","centery","xp","yp","approxUnitArc","ang1","ang2","tan","x1","y1","x2","y2","vectorAngle","ux","uy","vx","vy","sign","dot","acos","getArcCenter","px","py","largeArcFlag","sweepFlag","pxp","pyp","rxsq","rysq","pxpsq","pypsq","radicant","sqrt","centerxp","centeryp","vx1","vy1","vx2","vy2","arcToBezier","_ref2","_ref2$xAxisRotation","xAxisRotation","_ref2$largeArcFlag","_ref2$sweepFlag","curves","lambda","_getArcCenter","_getArcCenter2","ratio","segments","curve","_mapToEllipse","_mapToEllipse2","_mapToEllipse3","checkArgs","actual","expected","checkMinArgs","checkEvenArgs","assertBinary","distributeId","eachTargets","hitTarget","onPointerEvent","touches","changedTouches","isTainted","image","canvas","getContext","drawImage","getImageData","console","warn","src","clearCanvas","view","CanvasPivot","CanvasDisplayObject","renderer","_removeObject","getLayer","_layer","defaultLayer","registerChildLayer","dirty","_bounds","_colorId","paintId","_forceInteractive","_isInteractive","_matrix","applyInverse","_uMatrix","setTransform","bn","_addBounds","getLocalMatrix","_addEvent","_localMatrix","prepend","resolution","parentLayer","_omitTainted","resolution_1","layers","ghostContext","_ghostContext","mask_1","save","_transform","_runPath","clip","globalAlpha","compoundAlpha","_isInteractiveMask","_render","restore","tainted","_hovering","_dragging","some","tapToActivate","_touchActive","shouldCancelTouch","CanvasContainer","_children","render","_childLayers","deep","setPoint","Op","_context","_forceColor","BeginFill","forceColor","fillStyle","EndFill","clearShadow","EndStroke","LineStyle","strokeStyle","lineWidth","LineDash","dash","LineDashOffset","dashOffset","lineDashOffset","DrawRect","rect","DrawCircle","DrawEllipse","radiusX","radiusY","ellipse","Arc","anticlockwise","arcBounds","ArcTo","LineTo","MoveTo","ClosePath","closePath","BezierCurveTo","cpX","cpY","cpX2","cpY2","toX","toY","bezierCurveTo","QuadraticCurveTo","quadraticCurveTo","Shadow","offsetX","offsetY","CanvasGraphics","_operations","_fillAlpha","_pushOp","toCSS","_hasShadows","_strokeAlpha","path","cpx","cpy","qcpx","qcpy","SEGMENTS_REGEXP","ARGS_REGEXP","name_1","args","relative","beginPath","layerDirty","color_1","context_1","ghostContext_1","globalCompositeOperation","_getColorId","colorize","addBounds","CanvasText","_textInfo","direction","textBaseline","ignoreGhost","ignoreFontWeight","fontStyle","_getFontStyle","font","_shared","style2","fontVariant","_measure","_textVisible","interactive_1","context_2","layerDirty_1","ghostContext_2","_prerender","line","_index","textChunks","fillText","thickness","getTextStyle","rtl","truncate","wrap","currentStyle","refText","lines","styleRestored","_loop_1","currentFormat","lineInfo","ascent","metrics","_measureText","actualBoundingBoxAscent","actualBoundingBoxDescent","currentFill","currentChunkWidth","currentVerticalAlign","currentDecoration","skipFurtherText","firstTextChunk","leftoverChunks","verticalAlign","metrics_1","height_1","metrics_2","chunkWidth","actualBoundingBoxLeft","actualBoundingBoxRight","ellipsisMetrics","ellipsisWidth","excessWidth","_truncateText","tmpText","leftBoundMod","rightBoundMod","boundsMod","chunkHeight","lineHeight","currentChunkOffset","baselineRatio","_fitRatio","_originalScale","maxW","maxH","fallbackBreakWords","measureText","fakeMetrics","div","innerText","visibility","bbox","w_1","fontBoundingBoxAscent","fontBoundingBoxDescent","CanvasTextStyle","CanvasRadialText","_renderCircular","deltaAngle","inward","align","kerning","clockwise","shouldReverse","_textReversed","maxAngle_1","midAngle","textHeight","lineStartAngle","rotate","angleShift","charWidth","_measureCircular","chars","CanvasImage","_imageMask","naturalWidth","naturalHeight","_getMask","imageSmoothingEnabled","fillRect","CanvasRendererEvent","identifier","CanvasRenderer","_patternCanvas","devicePixelRatio","_layerDom","exportableView","_ghostView","getEvent","_getHitTarget","debug","_ev","_touchActiveTimeout","_delayTouchDeactivate","prevent","obj","tapToActivateTimeout","createLinearGradient","radius1","radius2","createRadialGradient","graphics","_patternContext","clearRect","renderDetached","createPattern","_clientWidth","_clientHeight","_width","_height","existingLayer","getLayerByOrder","createDetachedLayer","layerIndex","insertBefore","_dirtyLayers","_lastPointerMoveEvent","native_1","_dispatchGlobalMousemove","_colorMap","adjustPoint","DOMRect","clientX","clientY","pixel","data","colorId","hit","dispatching","cleanup","disposed","interactionsEnabled","_withEvents","dispatched","button","id_1","dragged_1","_mousedown","_dispatchEvent","delete","_replacedCursorStyle","_dispatchEventAll","event_1","id_2","clickevent","target_1","listener_1","timer","_makeSharedEvent","_onPointerEvent","mouseup","_dispatchGlobalMouseup","pointercancel","mousedown","_dispatchMousedown","mousemove","_dispatchDragMove","_dispatchDragEnd","_dispatchDoubleClick","_dispatchWheel","_initEvent","maxScale","maintainPixelRatio","canvases","forceRender","canvasWidth","canvasHeight","needRerender","exportableContext","clientWidth","clientHeight","rAF","fps","Root","useSafeResolution","HTMLElement","getElementById","rootElements","inner","_inner","_updateComputedStyles","_init","childNodes","_initResizeSensor","resize","_logo","offsetWidth","offsetHeight","logo","open","_handleLogo","rootContainer","readerAlertElement","zIndex","_readerAlertElement","focusElementContainer","overflow","_focusElementContainer","_tooltipElementContainer","keyCode","_isShift","focusedSprite","_focusedSprite","dragOffsetX","dragOffsetY","downEvent","_keyboardDragPoint","moveEvent","upEvent","group_1","items","_tabindexes","lastIndex","_startTicker","setThemes","_addTooltip","_hasLicense","_showBranding","_resizeSensorDisposer","autoResize","_focusElementDirty","_updateCurrentFocus","_tickers","_animations","_runAnimation","allParents","_isDirtyParents","_dirtyParents","uid","_prepareChildren","objects","_isDirty","depths","_dirtyBounds","dirtyPositions","_dirtyPositions","_updatePosition","_checkComputedStyles","_runTickers","_runAnimations","_runDirties","_renderFrame","_ticker","performance","_runTicker","_isDisposed","innerHTML","_tooltip","_invalidateTabindexes","aindex","bindex","groups","_moveFocusElement","_makeFocusElement","group","_decorateFocusElement","_positionFocusElement","focusElement","getAttribute","tabindex","removeAttribute","ariaOrientation","ariaValueNow","ariaValueText","ariaControls","tabIndex","_handleFocus","_handleBlur","append","globalBounds","_focusNext","focusableElements","querySelectorAll","tooltipElement","_makeTooltipElement","getComputedStyle","fontHash","_fontHash","_invalidateLabelBounds","licenses","debugGhostView","Bullet","_afterNewApplyThemes","series","_positionBullet","Circle","drawCircle","RoundedRectangle","wSign","hSign","minSide","crtl","crtr","crbr","crbl","maxcr","Button","icon","_disposeProperty","Scrollbar","_makeThumb","_makeButton","_thumbBusy","_addOrientationClass","thumb","newMiddle","newCoordinate","_handleAnimation","_startDown","_gripDown","_endDown","_thumbDown","_updateThumb","_updateGripsByThumb","updateGrips","grip","fromValue","toValue","valueFunction","x0","y0","thumbSize","ColorSet","pass","generateColors","getIndex","currentStep","sleep","timeUnitDurations","getNextUnit","getDuration","getIntervalDuration","getDateIntervalDuration","firstDateOfWeek","firstTime","lastTime","checkChange","timeOne","timeTwo","dateOne","dateTwo","timeZoneOffset1","timeZoneOffset2","setUTCMinutes","nextUnit","timeZoneOffset","setUTCSeconds","setUTCMilliseconds","setUTCHours","setUTCMonth","wday","newTimeZoneOffset","firstDate","difference","unitCount","setTime","weekDay","tzoffset","offsetUTC","parsedDate","parseDate","newOffset","chooseInterval","gridCount","intervals","gridInterval","intervalDuration","XYChartDefaultTheme","panX","panY","wheelStep","arrangeTooltips","pinchZoomX","pinchZoomY","minGridDistance","minPosition","maxPosition","behavior","snapToSeriesBy","minZoomCount","maxZoomCount","maxZoomFactor","maxDeviation","snapTooltip","tooltipLocation","zoomX","zoomY","fixAxisSize","location","multiLocation","opposite","inversed","cellStartLocation","cellEndLocation","startLocation","endLocation","fillRule","axisFill","gridIntervals","dateFormats","periodChangeDateFormats","tooltipDateFormats","markUnitChange","strictMinMax","groupData","groupCount","groupIntervals","axis","endValue","baseInterval","baseValue","logarithmic","maskBullets","stackToNegative","openValueXGrouped","openValueYGrouped","valueXGrouped","valueYGrouped","seriesTooltipTarget","adjustBulletPosition","clustered","connect","autoGapCount","tension","lowValueXGrouped","lowValueYGrouped","highValueXGrouped","highValueYGrouped","Chart","SerialChart","seriesContainer","_removeSeries","reset","_processSeries","setIndex","chart","_placeBulletsContainer","_removeBulletsContainer","XYChart","chartContainer","yAxesAndPlotContainer","maskContent","plotsContainer","plotContainer","topPlotContainer","xAxes","yAxes","zoomOutButton","zoomOut","_processAxis","bottomAxesContainer","leftAxesContainer","topGridContainer","bulletsContainer","_handlePlotDown","_handlePlotUp","_handlePlotMove","_maskGrid","_setUpTouch","gridContainer","xAxis","yAxis","snapToSeries","wheelX","wheelY","plotPoint","documentPointToRoot","shiftX","deltaX","fixPosition","newStart","newEnd","_handleWheelAnimation","zoom","delta","_getWheelSign","se","_fixWheel","_wheelDp","handleWheel","local","touchEvent","_downStartX","_downEndX","_downStartY","_downEndY","_panStart","_panEnd","_dispatchWheelAnimation","_event","_isPanning","_movePoints","_handlePinch","local_1","scrollbarX","disableType","panStart","panEnd","enableType","scrollbarY","_b","_c","downPoints","movePoints","movePoint","downPoint0","downPoint1","movePoint0","movePoint1","downStartX","downEndX","downPos0","downPos1","movePos0","movePos1","initialDistance","currentDistance","s_1","e_1","sa","ea","downStartY","downEndY","s_2","e_2","cursorPoint_1","snapToSeriesBy_1","dataItems_1","isHiding","endIndex","dataItems","tooltipDataItem","closestItem_1","minDistance_1","distance","showDataItemTooltip","handleMove","_colorize","_handleSetWheel","_setChart","_addCursor","_pushPropertyDisposer","_handleCursorSelectEnd","topAxesContainer","_handleScrollbar","getTooltipText","rightAxesContainer","_handleZoomOut","colorSet","_setSoft","downPositionX","downPositionY","positionX","positionY","position0","toAxisPosition","position1","axes","priority","axisStart","axisEnd","zoomAnimation","updateScrollbar","_removeAxis","processChart","axisParent","gridParent","topGridParent","_axis","visible_1","otherCharts","_otherCharts","global","chartPlotContainer","documentPoint","rootPointToDocument","chartRoot","closest","closestPoint","plotT","plotB","tooltips","sum","minDistance","_movePoint","maxTooltipDistance","maxTooltipDistanceBy","tooltipSeries","hidden","point_1","inPlot","_tooltipToLocal","tooltipContainer_1","average","prevY_1","prevY_2","ListData","processor","processRow","DataItem","JsonData","markDirtyValues","disposeDataItem","showDataItem","hideDataItem","Component","_dataItems","_data","incrementRef","decrementRef","_updateFields","_mainDataItems","_markDirtyGroup","_dataChanged","_onDataClear","_makeDataItem","processDataItem","dataItem_1","properties_1","_afterDataChange","valueFields","_valueFields","_valueFieldsF","fieldKey","workingKey","fields","_fields","_fieldsF","makeDataItem","_valuesDirty","inited","_dataGrouped","Axis","labelsContainer","axisHeader","axisRanges","_processAxisRange","processAxis","ghostLabel","makeLabel","sAnimation","_sAnimation","eAnimation","_eAnimation","maxZoomFactorReal","minZoomFactor","_handleAxisSelection","playing","sAnimation_1","eAnimation_1","_markDirty","_series","_createAssets","_rangesDirty","_prepareDataItem","above","axisRange","_seriesAxisRanges","_updateCursor","_start","_end","_inversed","_axisLength","axisLength","_updateLC","rendererTags","addTag","updateTooltipBounds","_updateTooltipBounds","axisHeadersContainer","markDirtySize","_toggleDataItem","tick","bullet","makeGrid","makeTick","makeAxisFill","_processBullet","axisBullet","_updateChartLayout","_updatePositions","labels","ticks","axisFills","gWidth_1","bounds_1","updateLabel","_cursorPosition","_snapToSeries","getSeriesItem","updateLegendMarker","updateLegendValue","roundAxisPosition","_updateTooltipText","positionTooltip","_location","coordinate","_nextItem","_autoGapCount","_fieldName","axisDataItem","ValueAxis","_dirtyExtremes","_dirtySelectionExtremes","previousValue","syncWithAxis","_syncDp","_getMinMax","_getSelectionMinMax","_groupData","_handleRangeChange","_prepareAxisItems","_updateAxisRanges","_baseValue","numberFormat","formatter","selectionMin","selectionMax","differencePower","minLog","_minLogAdjusted","log","LOG10E","_formatText","stepPower","decCount","j","_markDirtyAxes","_updateGhost","valueToPosition","endPosition","fillEndPosition","updateGrid","removeTag","updateTick","updateFill","updateBullet","positionToValue","minMaxStep","_adjustMinMax","stepDecimalPlaces","E","treatZeroAs","positionToCoordinate","_cellLocation","axisLocation","getDataItemPositionX","stackToItem","getStackedXValueWorking","getDataItemPositionY","getStackedYValueWorking","fixSmallStep","field_1","vc_1","fieldWorking_1","total","this_1","minDefined","maxDefined","extraMin","extraMax","selectionStrictMinMax","selectionMin_1","selectionMax_1","seriesMin","seriesMax","outOfSelection","isShowing","_minReal","_maxReal","_deltaMinMax","minMaxStep2","selectionMinReal","selectionMaxReal","_syncAxes","valueToFinalPosition","minDiff","initialMin","initialMax","minAdapted","maxAdapted","_fixMin","_fixMax","power","strictMinMaxSelection","strict","_saveMinMax","animatePrivate","_min","_max","strictMode","extra","stepDivisor","maxPrecision","ceiledStep","maxCount","minCount","extraDecimals","oldDiff","fieldName","syncMin","syncMax","syncStep","currentCount","synced","omin","omax","ostep","_checkSync","DateAxis","_setBaseInterval","_baseDuration","baseMainDuration","_fixZoomFactor","groupInterval","groupInterval_1","_groupSeriesData","mainDataSetId_1","setDataSet","markDirtyExtremes","_seriesDataGrouped","intervals_1","baseDuration_1","_dataSets","fields_1","key_1","baseAxis","_valueYFields","_valueXFields","mainDataSetId","groupCallback_1","groupOriginals_1","previousTime","dataSetId","groupFieldValues","workingFields","prevNewDataItem","firstItem","time","roundedTime","groupKey","currentValue","dataContext_1","_dataSetId","_groupingCalculated","_intervalMax","_intervalMin","modifiedDifference","baseDuration","getGroupInterval","newId_1","fieldName_1","endIndex2","firstDataItem","lastDataItem","lastDate","_strictMode","_intervalDuration","nextGridUnit","formats","startTime","endTime","_date","close","_updateDates","cellLocation","openValue","closeValue","diValue","first","open_1","close_1","open_2","close_2","nextItem","value1","value2","zoomToValues","segmentedLine","firstGroup","firstPoint","len_1","points","Line","Tick","AxisTick","Grid","AxisLabel","AxisRenderer","_new","_handleThumbDown","_handleThumbUp","_handleThumbMove","pan","_thumbDownPoint","_downStart","_downEnd","downStart","downEnd","_getPan","_point1","_point2","updatedStart","updatedEnd","AxisRendererX","gridTemplate","axisChildren","_markDirtyRedraw","point1","point2","_ls","_lc","location_1","length_1","toggleVisibility","location_2","location_3","location_4","fillDrawMethod","_positionTooltip","AxisRendererY","Series","bullets","_handleBullets","_shouldMakeBullet","bulletFunction","_makeBullet","_aggregatesCalculated","_selectionAggregatesCalculated","baseValueSeries","calculateAggregates","_dataProcessed","_calculateAggregates","_psi","_pei","markerRectangle","legendDataItem","startIndex_1","endIndex_1","_makeBullets","absSum","low","high","changePercent","changePrevious","changePreviousPercent","changeSelection","changeSelectionPercent","openKey","_getBase","minValue","dataField","propertyValue","customFunction","_hideBullets","_positionBullets","_bullet","promises","startIndex_2","endIndex_2","realDuration","valueLabel","txt","XYSeries","_removeAxisRange","isType","_makeFieldNames","_valueXShowFields","_valueYShowFields","__valueXShowFields","__valueYShowFields","valueXFields","valueYFields","field_2","_xField","_yField","xName","xCapName","yName","yCapName","xLetter","yLetter","_xOpenField","_xLowField","_xHighField","_yOpenField","_yLowField","_yHighField","hiddenState","sequencedInterpolation","_handleMaskBullets","tooltipFieldX","tooltipPositionX","_tooltipFieldX","tooltipFieldY","tooltipPositionY","_tooltipFieldY","_fixVC","stacked","_stack","_unstack","getStackedXValue","getStackedYValue","processSeriesDataItem","_seriesValuesDirty","_markStakedDirtyStack","_stackDirty","minBulletDistance","_showBullets","_selectionProcessed","vcx","vcy","stacked_1","_calculateTotals","markDirtySelectionExtremes","processYSelectionDataItem","processXSelectionDataItem","selectionMinY","selectionMaxY","selectionMinX","selectionMaxX","mainContainerMask_1","_mainContainerMask","mainContainer","_makeRangeMask","seriesIndex","_couldStackTo","_stackDataItems","_reallyStackedTo","_stackedSeries","stackToItemKey","stackToSeries","stackValue","stackedToSeries","_axesDirty","getPoint","top_1","_shouldShowBullet","_positionX","_positionY","_handleDataSetChange","_markDataSetDirty","_sequencedShowHide","min_1","baseValue_1","stackedSeries","_markDirtyStack","_skipped","itemLocationX","itemLocationY","xPos","_aLocationX0","_aLocationX1","yPos","_aLocationY0","_aLocationY1","show_1","_getTooltipTarget","_emptyDataItem","_position","resetExtremes","pi","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","a0","ccw","da","Linear","defined","constant","buffer","defined0","lineStart","lineEnd","area","x0z","y0z","areaStart","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","_line","_point","LineSeries","strokes","fills","_fillGenerator","_strokeTemplate","_fillTemplate","legendStroke","_legendStroke","legendFill","_legendFill","curveFactory","_strokeGenerator","strokeTemplateField","fillTemplateField","strokeTemplateFound","fillTemplateFound","hasValues","_loop_2","this_2","state_2","_endIndex","_clearGraphics","_sindex","_dindex","_startSegment","dataItemIndex","currentEndIndex","makeFill","fillTemplate","originalTemplate","makeStroke","strokeTemplate","xField","yField","xOpenField","yOpenField","xOpenFieldValue","yOpenFieldValue","baseField","basePosX","basePosition","basePosY","openLocationX","openLocationY","fillVisible","getOpen","valueX","valueY","_getPoints","strokeTemplate_1","fillTemplate_1","shouldGap","_endLine","_drawStroke","_drawFill","_shouldInclude","iPoint","xPos0","yPos0","itemLocationX_1","itemLocationY_1","stackToItemX","stackToItemY","closeIPoint","prev","_previousPoint","pp0","pp1","pp2","pp3","_points","_firstPoint","segment","marker","disabledColor","XYCursor","_drawLines","lineX","_handleXLine","lineY","_handleYLine","_tooltipX","tooltip_1","_updateXLine","_tooltipY","tooltip_2","_updateYLine","syncWith","otherCharts_1","_handleSyncWith","_getPoint","_toX","_toY","_handleMove","_handleCursorDown","_handleCursorUp","selection","rootPoint","_inPlot","_getPosition","userPositionX","userPositionY","lastPoint","_lastPoint","skipEvent","alwaysShow","xyPos","snapToSeries_1","positionX_1","positionY_1","xy","_handleCursorPosition","handleCursorShow","_updateLines","_updateSelection","handleCursorHide","AnimatedTheme","beforeCreate","storageCheck","localStorage","getItem","router","mounted","am5","am5themes_Animated","am5xy","overlay","curtain","message","ctrlKey","valueYField","valueXField","appear","beforeUnmount","methods","__exports__"],"sourceRoot":""}